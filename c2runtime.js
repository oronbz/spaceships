// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var p=void 0,q=!0,r=null,u=!1;function w(){return function(){}}function da(a){return function(b){this[a]=b}}function A(a){return function(){return this[a]}}function C(a){return function(){return a}}var L,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,M,va,wa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,hb,ib,jb,kb,lb,mb,nb,ob={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,c,b,h){this.set(a,c,b,h)}function b(){this.te=this.se=this.ve=this.ue=this.Se=this.Re=this.vd=this.ud=0}function c(){this.Bg={};this.mj=0;this.Ll=[];this.vk=q}function d(){this.je=this.Yn=this.y=this.p=0}function e(a){this.Pn=[];this.El(a)}ea=function(a){window.console&&window.console.log&&window.console.log(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};ha=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-
1&a)};ja=function(a){return 0>a?-a:a};ka=function(a,c){return a>c?a:c};la=function(a,c){return a<c?a:c};ma=Math.PI;na=function(a){return a|0};oa=function(a,c,b,h,n,d,f,e){if(ka(a,b)<la(n,f)||la(a,b)>ka(n,f)||ka(c,h)<la(d,e)||la(c,h)>ka(d,e))return u;var g=n-a+f-b,z=d-c+e-h;a=b-a;c=h-c;n=f-n;d=e-d;e=ja(c*n-d*a);return ja(n*z-d*g)<=e&&ja(a*z-c*g)<=e};a.prototype.set=function(a,c,b,h){this.left=a;this.top=c;this.right=b;this.bottom=h};a.prototype.width=function(){return this.right-this.left};a.prototype.height=
function(){return this.bottom-this.top};a.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};a.prototype.hh=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};pa=a;b.prototype.or=function(a){this.ud=a.left;this.vd=a.top;this.Re=a.right;this.Se=a.top;this.ue=a.right;this.ve=a.bottom;this.se=a.left;this.te=a.bottom};b.prototype.tv=function(a,c){if(0===c)this.or(a);else{var b=Math.sin(c),h=Math.cos(c),n=a.left*b,d=a.top*b,f=a.right*
b,b=a.bottom*b,e=a.left*h,g=a.top*h,z=a.right*h,h=a.bottom*h;this.ud=e-d;this.vd=g+n;this.Re=z-d;this.Se=g+f;this.ue=z-b;this.ve=h+f;this.se=e-b;this.te=h+n}};b.prototype.offset=function(a,c){this.ud+=a;this.vd+=c;this.Re+=a;this.Se+=c;this.ue+=a;this.ve+=c;this.se+=a;this.te+=c;return this};b.prototype.Xs=function(a){a.left=la(la(this.ud,this.Re),la(this.ue,this.se));a.top=la(la(this.vd,this.Se),la(this.ve,this.te));a.right=ka(ka(this.ud,this.Re),ka(this.ue,this.se));a.bottom=ka(ka(this.vd,this.Se),
ka(this.ve,this.te))};b.prototype.hh=function(a,c){var b=this.Re-this.ud,h=this.Se-this.vd,n=this.ue-this.ud,d=this.ve-this.vd,f=a-this.ud,e=c-this.vd,g=b*b+h*h,z=b*n+h*d,h=b*f+h*e,D=n*n+d*d,G=n*f+d*e,E=1/(g*D-z*z),b=(D*h-z*G)*E,g=(g*G-z*h)*E;if(0<=b&&0<g&&1>b+g)return q;b=this.se-this.ud;h=this.te-this.vd;g=b*b+h*h;z=b*n+h*d;h=b*f+h*e;E=1/(g*D-z*z);b=(D*h-z*G)*E;g=(g*G-z*h)*E;return 0<=b&&0<g&&1>b+g};b.prototype.ml=function(){return(this.ud+this.Re+this.ue+this.se)/4};b.prototype.nl=function(){return(this.vd+
this.Se+this.ve+this.te)/4};qa=b;ra=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};sa=function(a,c){var b,h;c=na(c);if(!(0>c||c>=a.length))if(0===c)a.shift();else if(c===a.length-1)a.pop();else{b=c;for(h=a.length-1;b<h;b++)a[b]=a[b+1];a.length=h}};ta=function(a,c){a.length=c.length;var b,h;b=0;for(h=c.length;b<h;b++)a[b]=c[b]};ua=function(a,c){var b=a.indexOf(c);-1!==b&&sa(a,b)};M=function(a){return a/(180/ma)};va=function(a){return a*(180/ma)};wa=function(a){a%=360;0>a&&
(a+=360);return a};ya=function(a){a%=2*ma;0>a&&(a+=2*ma);return a};za=function(a){return wa(va(a))};Aa=function(a){return ya(M(a))};Ba=function(a,c,b,h){return Math.atan2(h-c,b-a)};Ca=function(a,c){if(a===c)return 0;var b=Math.sin(a),h=Math.cos(a),n=Math.sin(c),d=Math.cos(c),b=b*n+h*d;return 1<=b?0:-1>=b?ma:Math.acos(b)};Da=function(a,c,b){var h=Math.sin(a),n=Math.cos(a),d=Math.sin(c),f=Math.cos(c);return Math.acos(h*d+n*f)>b?0<n*d-h*f?ya(a+b):ya(a-b):ya(c)};Ea=function(a,c){var b=Math.sin(a),h=Math.cos(a),
n=Math.sin(c),d=Math.cos(c);return 0>=h*n-b*d};Fa=function(a,c,b,h,n,d){if(0===b)return d?a:c;var f=Math.sin(b);b=Math.cos(b);a-=h;c-=n;var e=a*f;a=a*b-c*f;c=c*b+e;return d?a+h:c+n};Ga=function(a,c,b,h){a=b-a;c=h-c;return Math.sqrt(a*a+c*c)};Ha=function(a,c){return!a!==!c};Ia=function(a){for(var c in a)if(a.hasOwnProperty(c))return q;return u};La=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var g=+new Date;Ma=function(){if("undefined"!==typeof window.performance){var a=window.performance;
if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-g};c.prototype.contains=function(a){return this.Bg.hasOwnProperty(a.toString())};c.prototype.add=function(a){var c=a.toString();this.Bg.hasOwnProperty(c)||(this.Bg[c]=a,this.mj++,this.vk=u);return this};c.prototype.remove=function(a){a=a.toString();this.Bg.hasOwnProperty(a)&&(delete this.Bg[a],this.mj--,this.vk=u);return this};c.prototype.clear=
function(){La(this.Bg);this.mj=0;this.Ll.length=0;this.vk=q;return this};c.prototype.Qk=function(){return 0===this.mj};c.prototype.count=A("mj");c.prototype.bB=function(){if(!this.vk){this.Ll.length=this.mj;var a,c=0;for(a in this.Bg)this.Bg.hasOwnProperty(a)&&(this.Ll[c++]=this.Bg[a]);this.vk=q}};c.prototype.Sj=function(){this.bB();return this.Ll};Na=c;d.prototype.add=function(a){this.y=a-this.p;this.Yn=this.je+this.y;this.p=this.Yn-this.je-this.y;this.je=this.Yn};d.prototype.reset=function(){this.je=
this.Yn=this.y=this.p=0};Oa=d;Pa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.El=function(a){this.av=a;this.Xq=a.length/2;this.Pn.length=a.length;this.$s=this.bt=-1;this.Zs=0};e.prototype.Yt=function(){return!this.av.length};e.prototype.at=function(a,c,b){if(!(this.bt===a&&this.$s===c&&this.Zs===b)){this.bt=a;this.$s=c;this.Zs=b;var h,n,d,f=0,e=1,g=this.av,z=this.Pn;0!==b&&(f=Math.sin(b),e=Math.cos(b));b=0;for(h=this.Xq;b<h;b++)n=g[2*b]*a,d=g[2*b+1]*c,z[2*b]=n*e-d*
f,z[2*b+1]=d*e+n*f}};e.prototype.hh=function(a,c){var b=this.Pn;if(a===b[0]&&c===b[1])return q;var h,n,d,f=this.Xq,e=b[0],g=e,z=b[1],D=z;for(h=1;h<f;h++)n=b[2*h],d=b[2*h+1],n<e&&(e=n),n>g&&(g=n),d<z&&(z=d),d>D&&(D=d);n=e-110;var z=z-101,g=g+131,D=D+120,G,E,H=0,I=0;for(h=0;h<f;h++)d=b[2*h],e=b[2*h+1],G=b[2*((h+1)%f)],E=b[2*((h+1)%f)+1],oa(n,z,a,c,d,e,G,E)&&H++,oa(g,D,a,c,d,e,G,E)&&I++;return 1===H%2||1===I%2};Qa=e;var f="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Ra=function(a){return 0>=a||11<=a?"source-over":f[a-1]};Sa=function(a,c,b){if(b)switch(a.Tc=b.ONE,a.Nc=b.ONE_MINUS_SRC_ALPHA,c){case 1:a.Tc=b.ONE;a.Nc=b.ONE;break;case 3:a.Tc=b.ONE;a.Nc=b.ZERO;break;case 4:a.Tc=b.ONE_MINUS_DST_ALPHA;a.Nc=b.ONE;break;case 5:a.Tc=b.DST_ALPHA;a.Nc=b.ZERO;break;case 6:a.Tc=b.ZERO;a.Nc=b.SRC_ALPHA;break;case 7:a.Tc=b.ONE_MINUS_DST_ALPHA;a.Nc=b.ZERO;break;case 8:a.Tc=b.ZERO;a.Nc=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Tc=b.DST_ALPHA;a.Nc=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Tc=
b.ONE_MINUS_DST_ALPHA,a.Nc=b.SRC_ALPHA}};Ta=function(a){return Math.round(1E6*a)/1E6}})();var pb="undefined"!==typeof Float32Array?Float32Array:Array;function qb(a){var b=new pb(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function rb(a){var b=new pb(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function sb(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function tb(a,b){var c=b[0],d=b[1];b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function ub(a,b,c,d){d||(d=rb());var e,g,f,m,k,l,h,n,s=a[0],x=a[1];a=a[2];g=c[0];f=c[1];e=c[2];c=b[1];l=b[2];s===b[0]&&x===c&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=s-b[0],l=x-b[1],h=a-b[2],n=1/Math.sqrt(c*c+l*l+h*h),c*=n,l*=n,h*=n,b=f*h-e*l,e=e*c-g*h,g=g*l-f*c,(n=Math.sqrt(b*b+e*e+g*g))?(n=1/n,b*=n,e*=n,g*=n):g=e=b=0,f=l*g-h*e,m=h*b-c*g,k=c*e-l*b,(n=Math.sqrt(f*f+m*m+k*k))?(n=1/n,f*=n,m*=n,k*=n):k=m=f=0,
d[0]=b,d[1]=f,d[2]=c,d[3]=0,d[4]=e,d[5]=m,d[6]=l,d[7]=0,d[8]=g,d[9]=k,d[10]=h,d[11]=0,d[12]=-(b*s+e*x+g*a),d[13]=-(f*s+m*x+k*a),d[14]=-(c*s+l*x+h*a),d[15]=1)}
(function(){function a(a){this.height=this.width=0;this.ct=qb([0,0,100]);this.nu=qb([0,0,0]);this.Mv=qb([0,1,0]);this.Kr=qb([1,1,1]);this.Dq=rb();this.Le=rb();this.cu=rb();this.hp=rb();this.ba=a;this.Rt()}function b(a,c,b){this.ba=a;this.Fl=c;this.name=b;this.He=a.getAttribLocation(c,"aPos");this.sh=a.getAttribLocation(c,"aTex");this.lu=a.getUniformLocation(c,"matP");this.vj=a.getUniformLocation(c,"matMV");this.wj=a.getUniformLocation(c,"opacity");this.mu=a.getUniformLocation(c,"samplerFront");this.tn=
a.getUniformLocation(c,"samplerBack");this.uj=a.getUniformLocation(c,"destStart");this.tj=a.getUniformLocation(c,"destEnd");this.lq=a.getUniformLocation(c,"seconds");this.kq=a.getUniformLocation(c,"pixelWidth");this.jq=a.getUniformLocation(c,"pixelHeight");this.iq=a.getUniformLocation(c,"layerScale");this.wj&&a.uniform1f(this.wj,1);this.mu&&a.uniform1i(this.mu,0);this.tn&&a.uniform1i(this.tn,1);this.uj&&a.uniform2f(this.uj,0,0);this.tj&&a.uniform2f(this.tj,1,1);this.si=u}function c(a,c){this.type=
a;this.Ca=c;this.ba=c.ba;this.Pf=this.Pe=this.Mu=0;this.ka=this.Oi=r;this.qr=[]}function d(a){--a;for(var c=1;32>c;c<<=1)a|=a>>c;return a+1}a.prototype.Rt=function(){var a=this.ba,c;this.du=1;this.pj=r;this.nt=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.cD=a.getParameter(a.MAX_TEXTURE_SIZE);this.eu=a.ONE;this.bu=a.ONE_MINUS_SRC_ALPHA;this.Tq=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,
this.Tq);this.Pl=Array(4);this.Jl=Array(4);for(c=0;4>c;c++)this.Pl[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Pl[c]),this.Jl[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Jl[c]);this.vg=0;this.oz=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oz);this.Ir=new Float32Array(16E3);this.wr=new Float32Array(16E3);this.sA=new Float32Array(32E3);for(var b=new Uint16Array(12E3),d=c=0;12E3>c;)b[c++]=d,b[c++]=d+1,b[c++]=d+2,b[c++]=d,b[c++]=d+2,b[c++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
b,a.STATIC_DRAW);this.Uq=this.ig=0;this.qc=[];c=this.ep({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.qc.push(c);c=this.ep({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.qc.push(c);for(var h in vb)vb.hasOwnProperty(h)&&this.qc.push(this.ep(vb[h],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",h));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,r);this.gh=[];this.rg=0;this.De=this.Ed=u;this.ot=this.Wk=-1;this.yk=r;this.Fy=a.createFramebuffer();this.hv=r;this.Nh=qb([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.dD=a[0];this.bD=a[1];
this.eg(0)};a.prototype.ep=function(a,c,d){var e=this.ba,h=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(h,a.src);e.compileShader(h);if(!e.getShaderParameter(h,e.COMPILE_STATUS))return e.deleteShader(h),r;var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,c);e.compileShader(n);if(!e.getShaderParameter(n,e.COMPILE_STATUS))return e.deleteShader(h),e.deleteShader(n),r;c=e.createProgram();e.attachShader(c,h);e.attachShader(c,n);e.linkProgram(c);if(!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(h),
e.deleteShader(n),e.deleteProgram(c),r;e.useProgram(c);e.validateProgram(c);e.deleteShader(h);e.deleteShader(n);d=new b(e,c,d);d.op=a.op||0;d.pp=a.pp||0;d.lt=!!a.lt;d.Ps=!!a.Ps;d.da=a.da||[];a=0;for(h=d.da.length;a<h;a++)d.da[a][1]=e.getUniformLocation(c,d.da[a][0]),e.uniform1f(d.da[a][1],0);return d};a.prototype.Cp=function(a){var c,b;c=0;for(b=this.qc.length;c<b;c++)if(this.qc[c].name===a)return c;return-1};a.prototype.$u=function(a,c,b){var d=[0,0,this.width,this.height],h=this.Le,n=this.Dq,e=
[0,0,0,0,0,0,0,0];e[0]=h[0]*a+h[4]*c+h[12];e[1]=h[1]*a+h[5]*c+h[13];e[2]=h[2]*a+h[6]*c+h[14];e[3]=h[3]*a+h[7]*c+h[15];e[4]=n[0]*e[0]+n[4]*e[1]+n[8]*e[2]+n[12]*e[3];e[5]=n[1]*e[0]+n[5]*e[1]+n[9]*e[2]+n[13]*e[3];e[6]=n[2]*e[0]+n[6]*e[1]+n[10]*e[2]+n[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],b[0]=(0.5*e[4]+0.5)*d[2]+d[0],b[1]=(0.5*e[5]+0.5)*d[3]+d[1])};a.prototype.nr=function(a,c,b){if(!(this.width===a&&this.height===c&&!b)){this.oi();this.width=a;this.height=c;this.ba.viewport(0,
0,a,c);c=a/c;var d=this.Dq,h;h=1*Math.tan(45*Math.PI/360);c*=h;a=-c;b=-h;d||(d=rb());var n=c-a,e=h-b;d[0]=2/n;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/e;d[6]=0;d[7]=0;d[8]=(c+a)/n;d[9]=(h+b)/e;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;ub(this.ct,this.nu,this.Mv,this.Le);a=[0,0];c=[0,0];this.$u(0,0,a);this.$u(1,1,c);this.Kr[0]=1/(c[0]-a[0]);this.Kr[1]=-1/(c[1]-a[1]);a=0;for(c=this.qc.length;a<c;a++)b=this.qc[a],b.si=u,b.lu&&(this.ba.useProgram(b.Fl),this.ba.uniformMatrix4fv(b.lu,u,
this.Dq));this.ba.useProgram(this.qc[this.Wk].Fl);this.ba.bindTexture(this.ba.TEXTURE_2D,r);this.pj=r}};a.prototype.Eh=function(){ub(this.ct,this.nu,this.Mv,this.Le);tb(this.Le,this.Kr)};a.prototype.translate=function(a,c){if(!(0===a&&0===c)){this.Nh[0]=a;this.Nh[1]=c;this.Nh[2]=0;var b=this.Le,d=this.Nh,h=d[0],n=d[1],d=d[2];b[12]=b[0]*h+b[4]*n+b[8]*d+b[12];b[13]=b[1]*h+b[5]*n+b[9]*d+b[13];b[14]=b[2]*h+b[6]*n+b[10]*d+b[14];b[15]=b[3]*h+b[7]*n+b[11]*d+b[15]}};a.prototype.scale=function(a,c){1===a&&
1===c||(this.Nh[0]=a,this.Nh[1]=c,this.Nh[2]=1,tb(this.Le,this.Nh))};a.prototype.iv=function(a){if(0!==a){var c=this.Le,b,d=Math.sin(a);a=Math.cos(a);var h=c[0],n=c[1],e=c[2],g=c[3],v=c[4],t=c[5],z=c[6],D=c[7];b?c!==b&&(b[8]=c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15]):b=c;b[0]=h*a+v*d;b[1]=n*a+t*d;b[2]=e*a+z*d;b[3]=g*a+D*d;b[4]=h*-d+v*a;b[5]=n*-d+t*a;b[6]=e*-d+z*a;b[7]=g*-d+D*a}};a.prototype.Qh=function(){for(var a=u,c=0;16>c;c++)if(this.cu[c]!==this.Le[c]){a=
q;break}a&&(a=this.uf(),a.type=5,a.ka?sb(this.Le,a.ka):a.ka=rb(this.Le),sb(this.Le,this.cu),this.De=this.Ed=u)};c.prototype.Ux=function(){this.ba.bindTexture(this.ba.TEXTURE_2D,this.Oi)};c.prototype.Rx=function(){var a=this.Mu,c=this.Ca;c.nt=a;c=c.yk;c.wj&&this.ba.uniform1f(c.wj,a)};c.prototype.Ox=function(){this.ba.drawElements(this.ba.TRIANGLES,this.Pf,this.ba.UNSIGNED_SHORT,2*this.Pe)};c.prototype.Qx=function(){this.ba.blendFunc(this.Pe,this.Pf)};c.prototype.Vx=function(){var a,c,b,d=this.Ca.qc,
h=this.Ca.ot;a=0;for(c=d.length;a<c;a++)b=d[a],a===h&&b.vj?(this.ba.uniformMatrix4fv(b.vj,u,this.ka),b.si=q):b.si=u;sb(this.ka,this.Ca.hp)};c.prototype.Px=function(){var a=this.ba,c=this.Ca;this.Oi?(a.bindFramebuffer(a.FRAMEBUFFER,c.Fy),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Oi,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,r,0),a.bindFramebuffer(a.FRAMEBUFFER,r))};c.prototype.Jx=function(){var a=this.ba;0===this.Pe?(a.clearColor(this.ka[0],
this.ka[1],this.ka[2],this.ka[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.ka[0],this.ka[1],this.ka[2],this.ka[3]),a.clearColor(0,0,0,0),a.clear(this.ba.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};c.prototype.Nx=function(){var a=this.ba,c=this.Ca,b=c.qc[1];a.useProgram(b.Fl);!b.si&&b.vj&&(a.uniformMatrix4fv(b.vj,u,c.hp),b.si=q);a.enableVertexAttribArray(b.He);a.bindBuffer(a.ARRAY_BUFFER,c.Tq);a.vertexAttribPointer(b.He,4,a.FLOAT,u,0,0);a.drawArrays(a.POINTS,this.Pe/
4,this.Pf);b=c.yk;a.useProgram(b.Fl);0<=b.He&&(a.enableVertexAttribArray(b.He),a.bindBuffer(a.ARRAY_BUFFER,c.Pl[c.vg]),a.vertexAttribPointer(b.He,2,a.FLOAT,u,0,0));0<=b.sh&&(a.enableVertexAttribArray(b.sh),a.bindBuffer(a.ARRAY_BUFFER,c.Jl[c.vg]),a.vertexAttribPointer(b.sh,2,a.FLOAT,u,0,0))};c.prototype.Sx=function(){var a=this.ba,c=this.Ca,b=c.qc[this.Pe];c.ot=this.Pe;c.yk=b;a.useProgram(b.Fl);!b.si&&b.vj&&(a.uniformMatrix4fv(b.vj,u,c.hp),b.si=q);b.wj&&a.uniform1f(b.wj,c.nt);0<=b.He&&(a.enableVertexAttribArray(b.He),
a.bindBuffer(a.ARRAY_BUFFER,c.Pl[c.vg]),a.vertexAttribPointer(b.He,2,a.FLOAT,u,0,0));0<=b.sh&&(a.enableVertexAttribArray(b.sh),a.bindBuffer(a.ARRAY_BUFFER,c.Jl[c.vg]),a.vertexAttribPointer(b.sh,2,a.FLOAT,u,0,0))};c.prototype.Tx=function(){var a,c,b=this.Ca.yk,d=this.ba;b.tn&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Oi),d.activeTexture(d.TEXTURE0));b.kq&&d.uniform1f(b.kq,this.ka[0]);b.jq&&d.uniform1f(b.jq,this.ka[1]);b.uj&&d.uniform2f(b.uj,this.ka[2],this.ka[3]);b.tj&&d.uniform2f(b.tj,
this.ka[4],this.ka[5]);b.iq&&d.uniform1f(b.iq,this.ka[6]);b.lq&&d.uniform1f(b.lq,Ma()/1E3);if(b.da.length){a=0;for(c=b.da.length;a<c;a++)d.uniform1f(b.da[a][1],this.qr[a])}};a.prototype.uf=function(){this.rg===this.gh.length&&this.gh.push(new c(0,this));return this.gh[this.rg++]};a.prototype.oi=function(){if(0!==this.rg&&!this.ba.isContextLost()){var a=this.ba;0<this.Uq&&(a.bindBuffer(a.ARRAY_BUFFER,this.Tq),a.bufferData(a.ARRAY_BUFFER,this.sA.subarray(0,this.Uq),a.STREAM_DRAW),c&&(0<=c.He&&"<point>"===
c.name)&&a.vertexAttribPointer(c.He,4,a.FLOAT,u,0,0));if(0<this.ig){var c=this.yk;a.bindBuffer(a.ARRAY_BUFFER,this.Pl[this.vg]);a.bufferData(a.ARRAY_BUFFER,this.Ir.subarray(0,this.ig),a.STREAM_DRAW);c&&(0<=c.He&&"<point>"!==c.name)&&a.vertexAttribPointer(c.He,2,a.FLOAT,u,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Jl[this.vg]);a.bufferData(a.ARRAY_BUFFER,this.wr.subarray(0,this.ig),a.STREAM_DRAW);c&&(0<=c.sh&&"<point>"!==c.name)&&a.vertexAttribPointer(c.sh,2,a.FLOAT,u,0,0)}for(var b,a=0,c=this.rg;a<c;a++)switch(b=
this.gh[a],b.type){case 1:b.Ox();break;case 2:b.Ux();break;case 3:b.Rx();break;case 4:b.Qx();break;case 5:b.Vx();break;case 6:b.Px();break;case 7:b.Jx();break;case 8:b.Nx();break;case 9:b.Sx();break;case 10:b.Tx()}this.Uq=this.ig=this.rg=0;this.De=this.Ed=u;this.vg++;4<=this.vg&&(this.vg=0)}};a.prototype.Dl=function(a){if(a!==this.du){var c=this.uf();c.type=3;this.du=c.Mu=a;this.De=this.Ed=u}};a.prototype.wf=function(a){if(a!==this.pj){var c=this.uf();c.type=2;this.pj=c.Oi=a;this.De=this.Ed=u}};a.prototype.Fh=
function(a,c){if(!(a===this.eu&&c===this.bu)){var b=this.uf();b.type=4;b.Pe=a;b.Pf=c;this.eu=a;this.bu=c;this.De=this.Ed=u}};a.prototype.qv=function(){this.Fh(this.ba.ONE,this.ba.ONE_MINUS_SRC_ALPHA)};a.prototype.Qn=function(a,c,b,d,h,n,e,g){15992<=this.ig&&this.oi();var v=this.ig,t=this.Ir,z=this.wr;if(this.Ed)this.gh[this.rg-1].Pf+=6;else{var D=this.uf();D.type=1;D.Pe=3*(v/4);D.Pf=6;this.Ed=q;this.De=u}t[v]=a;z[v++]=0;t[v]=c;z[v++]=0;t[v]=b;z[v++]=1;t[v]=d;z[v++]=0;t[v]=h;z[v++]=1;t[v]=n;z[v++]=
1;t[v]=e;z[v++]=0;t[v]=g;z[v++]=1;this.ig=v};a.prototype.Ni=function(a,c,b,d,h,n,e,g,v){15992<=this.ig&&this.oi();var t=this.ig,z=this.Ir,D=this.wr;if(this.Ed)this.gh[this.rg-1].Pf+=6;else{var G=this.uf();G.type=1;G.Pe=3*(t/4);G.Pf=6;this.Ed=q;this.De=u}z[t]=a;D[t++]=v.left;z[t]=c;D[t++]=v.top;z[t]=b;D[t++]=v.right;z[t]=d;D[t++]=v.top;z[t]=h;D[t++]=v.right;z[t]=n;D[t++]=v.bottom;z[t]=e;D[t++]=v.left;z[t]=g;D[t++]=v.bottom;this.ig=t};a.prototype.eg=function(a){if(this.Wk!==a){if(!this.qc[a]){if(0===
this.Wk)return;a=0}var c=this.uf();c.type=9;this.Wk=c.Pe=a;this.De=this.Ed=u}};a.prototype.yl=function(a){a=this.qc[a];return!(!a.uj&&!a.tj)};a.prototype.Wq=function(a){return this.qc[a].lt};a.prototype.wA=function(a){a=this.qc[a];return 0!==a.op||0!==a.pp};a.prototype.Vy=function(a){return this.qc[a].op};a.prototype.Wy=function(a){return this.qc[a].pp};a.prototype.Xy=function(a,c){return this.qc[a].da[c][2]};a.prototype.On=function(a){return this.qc[a].Ps};a.prototype.Oj=function(a,c,b,d,h,n,e,g,
v){var t=this.qc[this.Wk];if(t.kq||t.jq||t.lq||t.tn||t.uj||t.tj||t.iq||v.length){t=this.uf();t.type=10;t.ka?sb(this.Le,t.ka):t.ka=rb();t.ka[0]=c;t.ka[1]=b;t.ka[2]=d;t.ka[3]=h;t.ka[4]=n;t.ka[5]=e;t.ka[6]=g;t.Oi=a;if(v.length){t.qr.length=v.length;a=0;for(c=v.length;a<c;a++)t.qr[a]=v[a]}this.De=this.Ed=u}};a.prototype.clear=function(a,c,b,d){var h=this.uf();h.type=7;h.Pe=0;h.ka||(h.ka=rb());h.ka[0]=a;h.ka[1]=c;h.ka[2]=b;h.ka[3]=d;this.De=this.Ed=u};a.prototype.clearRect=function(a,c,b,d){var h=this.uf();
h.type=7;h.Pe=1;h.ka||(h.ka=rb());h.ka[0]=a;h.ka[1]=c;h.ka[2]=b;h.ka[3]=d;this.De=this.Ed=u};a.prototype.vA=function(){this.oi();this.ba.flush()};var e=[],g={};a.prototype.ku=function(a,c,b){var l;l=!!u;c=!!c;var h=a.src+","+l+","+c+(l?",undefined":""),n=r;if("undefined"!==typeof a.src&&g.hasOwnProperty(h))return n=g[h],n.um++,n;this.oi();var s=this.ba,x=ia(a.width)&&ia(a.height),n=s.createTexture();s.bindTexture(s.TEXTURE_2D,n);s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q);var v=s.RGBA,t=s.RGBA,
z=s.UNSIGNED_BYTE;if(b)switch(b){case 1:t=v=s.RGB;break;case 2:z=s.UNSIGNED_SHORT_4_4_4_4;break;case 3:z=s.UNSIGNED_SHORT_5_5_5_1;break;case 4:t=v=s.RGB,z=s.UNSIGNED_SHORT_5_6_5}!x&&l?(b=document.createElement("canvas"),b.width=d(a.width),b.height=d(a.height),b.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height),s.texImage2D(s.TEXTURE_2D,0,v,t,z,b)):s.texImage2D(s.TEXTURE_2D,0,v,t,z,a);l?(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.REPEAT),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,
s.REPEAT)):(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE));c?(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),x?(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR_MIPMAP_LINEAR),s.generateMipmap(s.TEXTURE_2D)):s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR)):(s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST));s.bindTexture(s.TEXTURE_2D,
r);this.pj=r;n.uk=a.width;n.tk=a.height;n.um=1;n.Ys=h;e.push(n);return g[h]=n};a.prototype.ih=function(a,c,b){this.oi();var d=this.ba,h=d.createTexture();d.bindTexture(d.TEXTURE_2D,h);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,a,c,0,d.RGBA,d.UNSIGNED_BYTE,r);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,b?d.LINEAR:d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,b?
d.LINEAR:d.NEAREST);d.bindTexture(d.TEXTURE_2D,r);this.pj=r;h.uk=a;h.tk=c;e.push(h);return h};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.um&&1<a.um?a.um--:(this.oi(),this.ba.bindTexture(this.ba.TEXTURE_2D,r),this.pj=r,ua(e,a),"undefined"!==typeof a.Ys&&delete g[a.Ys],this.ba.deleteTexture(a)))};a.prototype.Tg=function(a){if(a!==this.hv){var c=this.uf();c.type=6;this.hv=c.Oi=a;this.De=this.Ed=u}};Ua=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.wi="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.Ee=!!a.dc;this.ij="undefined"!==typeof window.AppMobi||this.Ee;if(this.Qf=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(q)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(u)});this.rd=this.Ee||this.Qf;this.bn=
/tizen/i.test(navigator.userAgent);this.Ut=/android/i.test(navigator.userAgent)&&!this.bn;this.NC=/msie/i.test(navigator.userAgent);this.hn=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.$t=/ipad/i.test(navigator.userAgent);this.gn=this.hn||this.$t;this.Vt=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.tz=!this.Vt&&/safari/i.test(navigator.userAgent);this.Xt=/windows/i.test(navigator.userAgent);this.Rk="undefined"!==typeof window.c2nodewebkit;
this.rz="undefined"!==typeof window.is_scirra_arcade;this.wz=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.xz=!!("undefined"!==typeof window.c2isWindowsPhone8&&window.c2isWindowsPhone8);this.sz=!!("undefined"!==typeof window.c2isBlackberry10&&window.c2isBlackberry10);this.devicePixelRatio=1;this.jj=this.wi||this.ij||this.Qf||this.Ut||this.gn||this.xz||this.sz||this.bn;this.jj||(this.jj=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));
if("undefined"!==typeof cr_is_preview&&!this.Rk&&("?nw"===window.location.search||/nodewebkit/i.test(navigator.userAgent)))this.Rk=q;this.canvas=a;this.dt=document.getElementById("c2canvasdiv");this.bb=this.Ca=this.ba=r;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return u};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return u};this.Ee&&(window.c2runtime=this);this.Rk&&(window.fD=function(a){a.preventDefault();return u},window.gD=function(a){a.preventDefault();
return u});this.width=a.width;this.height=a.height;this.hu=this.width;this.gu=this.height;this.qb=q;this.Tk=u;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.V=[];this.Wb=[];this.cq={};this.mf=[];this.np={};this.pi=[];this.Rh=[];this.eo=[];this.qx=[];this.Hf=new Na;this.Lp=u;this.jf=0;this.Np=u;this.Gf=[];this.Wt=u;this.Dg=this.bd=this.rn=this.lr="";this.Hl=this.wv=u;this.gB=this.cp=this.vn=this.kh=this.ua=0;this.Ug=1;this.kf=new Oa;this.on=0;this.zu=q;this.Hn=
this.Om=this.Jm=this.Mh=this.Xk=this.up=0;this.Wo=r;this.Fm=[];this.mp=[];this.Hm=-1;this.mq=[[]];this.Dr=this.un=0;this.Zq(r);this.PC=[];this.QC=-1;this.Du=this.ql=0;this.ju=q;this.Bk=0;this.Il=[];this.Ar=this.$q=0;this.jn=q;this.sj=0;this.an=u;this.QA=0;this.Ym=u;this.Kq=new Na;this.Lq=new Na;this.gv=[];this.qD=new Qa([]);this.rD=new Qa([]);this.Zi=[];this.lm={};this.bj={};this.Yi={};this.Tj={};this.Vs={};this.lf=this.ae=this.iu=this.qn=this.ab=r;this.Rj=this.Pp=u;this.vp=[r,r];this.Gk=0;this.Gy=
"";this.Ij={};this.Xn=this.rj=r;this.OA="";this.load();this.devicePixelRatio=(this.Sk=!this.rd&&this.eB&&(this.gn||this.bn))?window.devicePixelRatio||1:1;this.Kc();var b;"undefined"!==typeof jQuery&&0<this.Be&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.dy&&(this.Qf||!this.rd)){b={depth:u,antialias:!this.jj};var d=q;if(this.Vt&&this.Xt){var h=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(h.getContext("webgl",
b)||h.getContext("experimental-webgl",b)).getSupportedExtensions().toString())d=u}d&&(this.ba=a.getContext("webgl",b)||a.getContext("experimental-webgl",b))}}catch(e){}if(this.ba){this.rd||(this.td=document.createElement("canvas"),jQuery(this.td).appendTo(this.canvas.parentNode),this.td.oncontextmenu=C(u),this.td.onselectstart=C(u),this.td.width=a.width,this.td.height=a.height,this.Wu(),this.Rq=this.td.getContext("2d"));this.Ca=new Ua(this.ba,this.jj);this.Ca.nr(a.width,a.height);this.bb=r;this.canvas.addEventListener("webglcontextlost",
function(a){a.preventDefault();c.gA();window.cr_setSuspended(q)},u);this.canvas.addEventListener("webglcontextrestored",function(){c.Ca.Rt();c.Ca.nr(c.Ca.width,c.Ca.height,q);c.ae=r;c.lf=r;c.vp[0]=r;c.vp[1]=r;c.hA();c.qb=q;window.cr_setSuspended(u)},u);var f,g,k,m,l;a=0;for(b=this.V.length;a<b;a++){f=this.V[a];d=0;for(h=f.ra.length;d<h;d++)k=f.ra[d],k.Hc=this.Ca.Cp(k.id),this.Rj=this.Rj||this.Ca.yl(k.Hc)}a=0;for(b=this.mf.length;a<b;a++){m=this.mf[a];d=0;for(h=m.ra.length;d<h;d++)k=m.ra[d],k.Hc=this.Ca.Cp(k.id);
d=0;for(h=m.Na.length;d<h;d++){l=m.Na[d];f=0;for(g=l.ra.length;f<g;f++)k=l.ra[f],k.Hc=this.Ca.Cp(k.id),this.Rj=this.Rj||this.Ca.yl(k.Hc)}}}else{if(0<this.Be&&this.Ee){this.canvas=r;document.oncontextmenu=C(u);document.onselectstart=C(u);this.bb=AppMobi.canvas.getContext("2d");try{this.bb.samplingMode=this.kc?"smooth":"sharp",this.bb.globalScale=1,this.bb.HTML5CompatibilityMode=q}catch(J){}0!==this.width&&0!==this.height&&(this.bb.width=this.width,this.bb.height=this.height)}this.bb||(this.Qf?(b={antialias:!!this.kc},
this.bb=a.getContext("2d",b)):this.bb=a.getContext("2d"),this.bb.webkitImageSmoothingEnabled=this.kc,this.bb.mozImageSmoothingEnabled=this.kc,this.bb.msImageSmoothingEnabled=this.kc,this.bb.imageSmoothingEnabled=this.kc);this.Rq=this.td=r}this.Ev=function(){c.Ic()};window!=window.top&&(!this.rd&&!this.wz)&&(document.addEventListener("mousedown",function(){window.focus()},q),document.addEventListener("touchstart",function(){window.focus()},q));"undefined"!==typeof cr_is_preview&&(this.Qf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
"?continuous"===window.location.search&&(ea("Reloading for continuous preview"),this.rn="__c2_continuouspreview",this.Hl=q),this.rA&&!this.jj&&(jQuery(window).focus(function(){c.setSuspended(u)}),jQuery(window).blur(function(){c.setSuspended(q)})));this.go();this.xa={}}}function b(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function c(a,c,d,h){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=b;e.onerror=h;e.onsuccess=function(b){b=b.target.result;b.onerror=h;b.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}function d(a,c,d){var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=b;h.onerror=d;h.onsuccess=function(b){b=b.target.result;b.onerror=d;var h=b.transaction(["saves"]).objectStore("saves").get(a);h.onsuccess=function(){h.result?c(h.result.data):c(r)}}}function e(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():"?continuous"===window.location.search?window.location.reload(q):window.location+="?continuous"}
function g(a){var c,b={};for(c in a)a.hasOwnProperty(c)&&!(a[c]instanceof Na)&&"undefined"===typeof a[c].tg&&"mouseOverInverted"!==c&&(b[c]=a[c]);return b}a.prototype.setSize=function(a,c){var b=this.mz&&this.hn&&!navigator.standalone&&!this.rd&&!this.wi,d=0;b&&(this.hn?d=60:this.Ut&&(d=56),c+=d);var h=0,e=0,f=0,g=0,k=0,k=this.Be,m=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.an;m&&0<this.Gk&&(k=this.Gk);4<=k?(f=this.Ld/this.Kd,a/c>f?(f*=c,5===k?(k=f/this.Ld,1<k?
k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),f=this.Ld*k,g=this.Kd*k,h=(a-f)/2,e=(c-g)/2,a=f,c=g):(h=(a-f)/2,a=f)):(g=a/f,5===k?(k=g/this.Kd,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),f=this.Ld*k,g=this.Kd*k,h=(a-f)/2,e=(c-g)/2,a=f):e=(c-g)/2,c=g),m&&!this.Rk&&(e=h=0),h=Math.floor(h),e=Math.floor(e),a=Math.floor(a),c=Math.floor(c)):this.Rk&&(this.an&&0===this.Bt)&&(h=Math.floor((a-this.Ld)/2),e=Math.floor((c-this.Kd)/2),a=this.Ld,c=this.Kd);this.Sk&&(this.$t&&1<this.devicePixelRatio)&&(1024<=a&&(a=
1023),1024<=c&&(c=1023));m=this.devicePixelRatio;this.width=a*m;this.height=c*m;this.qb=q;this.dt&&!this.rd&&(jQuery(this.dt).css({width:a+"px",height:c+"px","margin-left":h,"margin-top":e}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:c+"px"}));this.canvas&&(this.canvas.width=a*m,this.canvas.height=c*m,this.Sk&&jQuery(this.canvas).css({width:a+"px",height:c+"px"}));this.td&&(this.td.width=a,this.td.height=c);this.Ca&&this.Ca.nr(a,c);this.Ee&&this.bb&&(this.bb.width=
a,this.bb.height=c);this.bb&&(this.bb.webkitImageSmoothingEnabled=this.kc,this.bb.mozImageSmoothingEnabled=this.kc,this.bb.msImageSmoothingEnabled=this.kc,this.bb.imageSmoothingEnabled=this.kc);b&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};a.prototype.gA=function(){this.Pp=q;var a,c,b;a=0;for(c=this.V.length;a<c;a++)b=this.V[a],b.Hu&&b.Hu()};a.prototype.hA=function(){this.Pp=u;var a,c,b;a=0;for(c=this.V.length;a<c;a++)b=this.V[a],b.Ju&&b.Ju()};a.prototype.Wu=function(){if(!this.rd){var a=
document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.an?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.td).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var c;if(a&&!this.Tk){ea("[Construct 2] Suspending");this.Tk=q;0!==this.$q&&f&&f(this.$q);0!==this.Ar&&clearTimeout(this.Ar);
a=0;for(c=this.Il.length;a<c;a++)this.Il[a](q)}else if(!a&&this.Tk){ea("[Construct 2] Resuming");this.Tk=u;this.on=Ma();this.Xk=Ma();a=this.Om=0;for(c=this.Il.length;a<c;a++)this.Il[a](u);this.Ic()}};a.prototype.Ks=function(a){this.Il.push(a)};a.prototype.load=function(){var a=wb();this.name=a[0];this.zt=a[1];this.Be=a[11];this.Bt=a[11];if(this.rd&&(4<=a[11]||0===a[11]))ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Bt=
this.Be=3;this.Gr=a[17];this.Zk=a[18];0===this.Zk&&(this.rj=new Image,this.rj.src="loading-logo.png");this.ql=a[20];this.fg=new zb(this);var c,b,d,h,e,f,g,k,m;c=0;for(b=a[2].length;c<b;c++)g=a[2][c],Ab(g),m=new g[0](this),m.sr=g[1],m.qh=g[2],m.Bu=g[9],m.cb&&m.cb(),this.plugins.push(m);a=wb();c=0;for(b=a[3].length;c<b;c++){g=a[3][c];e=g[1];m=r;d=0;for(h=this.plugins.length;d<h;d++)if(this.plugins[d]instanceof e){m=this.plugins[d];break}var l=new m.uc(m);l.name=g[0];l.Ha=g[2];l.Kp=g[3].slice(0);l.fB=
g[3].length;l.xx=g[4];l.Jy=g[5];l.Ia=g[11];l.Ha?(l.Gn=[],l.Lf=this.Bk++,l.kb=r):(l.Gn=r,l.Lf=-1,l.kb=[]);l.Km=r;l.ej=r;l.ut=r;l.$d=u;l.qd=r;g[6]?(l.Bv=g[6][0],l.Cv=g[6][1],l.WA=g[6][2]):(l.Bv=r,l.Cv=0,l.WA=0);l.Bd=g[7]?g[7]:r;l.index=c;l.A=[];l.Cm=[];l.Ih=[new Wa(l)];l.wg=0;l.ye=r;l.Kh=q;l.fo=Bb;l.Py=Cb;l.Uy=Db;l.lb=Eb;l.zl=Fb;l.Yq=Gb;l.Nj=Hb;l.Qm=Ib;l.xp=Jb;l.zp=Kb;l.sk=Lb;l.xa={};l.toString=Mb;l.Wb=[];d=0;for(h=g[8].length;d<h;d++){k=g[8][d];var J=k[1],F=r;e=0;for(f=this.Wb.length;e<f;e++)if(this.Wb[e]instanceof
J){F=this.Wb[e];break}F||(F=new J(this),F.Iq=new Na,F.cb&&F.cb(),this.Wb.push(F));e=new F.uc(F,l);e.name=k[0];e.Ia=k[2];e.cb();l.Wb.push(e)}l.global=g[9];l.Mp=g[10];l.ra=[];d=0;for(h=g[12].length;d<h;d++)l.ra.push({id:g[12][d][0],name:g[12][d][1],Hc:-1,Td:q,index:d});(!this.Gr||l.Ha||l.Mp||!m.qh)&&l.cb();l.name&&(this.types[l.name]=l);this.V.push(l);m.sr&&(d=new m.Ob(l),d.uid=this.ql++,d.bv=this.Du++,d.Mk=0,d.Jk=Nb,d.toString=Ob,d.$a=g[13],d.cb(),l.A.push(d))}c=0;for(b=a[4].length;c<b;c++){e=a[4][c];
f=this.V[e[0]];d=1;for(h=e.length;d<h;d++)g=this.V[e[d]],g.kb.push(f),f.Gn.push(g)}c=0;for(b=a[22].length;c<b;c++){e=a[22][c];f=[];d=0;for(h=e.length;d<h;d++)f.push(this.V[e[d]]);d=0;for(h=f.length;d<h;d++)f[d].$d=q,f[d].qd=f}if(0<this.Bk){c=0;for(b=this.V.length;c<b;c++)if(g=this.V[c],!g.Ha&&g.kb.length){g.Km=Array(this.Bk);g.ej=Array(this.Bk);g.ut=Array(this.Bk);l=[];d=F=J=k=0;for(h=g.kb.length;d<h;d++){m=g.kb[d];g.Km[m.Lf]=k;k+=m.fB;g.ej[m.Lf]=J;J+=m.xx;g.ut[m.Lf]=F;F+=m.Jy;e=0;for(f=m.ra.length;e<
f;e++)l.push(ra({},m.ra[e]))}g.ra=l.concat(g.ra);d=0;for(h=g.ra.length;d<h;d++)g.ra[d].index=d}}c=0;for(b=a[5].length;c<b;c++)g=a[5][c],d=new Xa(this,g),this.cq[d.name]=d,this.mf.push(d);c=0;for(b=a[6].length;c<b;c++)g=a[6][c],d=new Ya(this,g),this.np[d.name]=d,this.pi.push(d);c=0;for(b=this.pi.length;c<b;c++)this.pi[c].Sb();c=0;for(b=this.eo.length;c<b;c++)this.eo[c].Sb();this.eo.length=0;this.Gy=a[7];this.Mj=a[8];this.Ld=a[9];this.Kd=a[10];this.mm=1;this.dy=a[12];this.kc=a[13];this.et=a[14];this.vD=
a[15];c=a[16];2===c&&(c=this.hn?1:0);this.eB=0!==c;this.mz=a[19];this.rA=a[21];this.Gl=Date.now()};a.prototype.Hy=function(a){var c,b;c=0;for(b=this.Rh.length;c<b;c++)if(this.Rh[c].Dx===a)return this.Rh[c];return r};a.prototype.Qs=function(){var a=0,c=0,b=q,d,h;d=0;for(h=this.Rh.length;d<h;d++){var e=this.Rh[d].Cx;if(!e||0>=e)e=5E4;a+=e;this.Rh[d].complete||this.Rh[d].loaded?c+=e:b=u}this.Mi=0==a?0:c/a;return b};a.prototype.go=function(){if(this.bb||this.Ca){var a=this.bb||this.Rq;this.td&&this.Wu();
this.Mi=0;this.fu=-1;if(this.Qs())this.kz();else{var c=Date.now()-this.Gl,b=1;this.bn&&(b=this.devicePixelRatio);if(a){if(3!==this.Zk&&500<=c&&this.fu!=this.Mi){a.clearRect(0,0,this.width,this.height);var c=this.width/(2*b),b=this.height/(2*b),d=0===this.Zk&&this.rj.complete,h=40,e=0,f=80;d&&(f=this.rj.width,h=f/2,e=this.rj.height/2,a.drawImage(this.rj,na(c-h),na(b-e)));1>=this.Zk?(c=na(c-h)+0.5,b=na(b+(e+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(c,b,Math.floor(f*this.Mi),6),a.strokeStyle=
"black",a.strokeRect(c,b,f,6),a.strokeStyle="white",a.strokeRect(c-1,b-1,f+2,8)):2===this.Zk&&(a.font="12pt Arial",a.fillStyle="#999",a.sD="middle",d=Math.round(100*this.Mi)+"%",h=a.measureText?a.measureText(d):r,a.fillText(d,c-(h?h.width:0)/2,b))}this.fu=this.Mi}setTimeout(function(a){return function(){a.go()}}(this),100)}}};a.prototype.kz=function(){this.td&&(this.canvas.parentNode.removeChild(this.td),this.td=this.Rq=r);this.Gl=Date.now();this.Xk=Ma();var a,c,b;if(this.Gr){a=0;for(c=this.V.length;a<
c;a++)b=this.V[a],!b.Ha&&(!b.Mp&&b.Mb.qh)&&b.cb()}else this.jn=u;a=0;for(c=this.mf.length;a<c;a++)this.mf[a].Ex();2<=this.Be&&(a=this.Ld/this.Kd,c=this.width/this.height,this.mm=2!==this.Be&&c>a||2===this.Be&&c<a?this.height/this.Kd:this.width/this.Ld);this.zt?this.cq[this.zt].tr():this.mf[0].tr();this.Gr||(this.sj=1,this.trigger(zb.prototype.U.es,r));this.Ic();this.Ee&&AppMobi.webview.execute("onGameReady();")};var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.Ic=function(){if(this.ab){if(this.rz){var a=jQuery(window).width(),c=jQuery(window).height();if(this.hu!==a||this.gu!==c)this.hu=a,this.gu=c,this.setSize(a,c)}a=Ma();this.jn&&(c=this.Qs(),this.sj=this.Mi,c&&(this.jn=u,this.Mi=1,this.trigger(zb.prototype.U.es,r)));this.Cz();if((this.qb||this.Qf)&&!this.Pp&&!this.Hl)this.qb=u,this.Ca?this.If():this.ni(),this.Xn&&(this.canvas&&this.canvas.toDataURL&&(this.OA=this.canvas.toDataURL(this.Xn[0],
this.Xn[1]),this.trigger(zb.prototype.U.tw,r)),this.Xn=r);this.Mh++;this.Jm++;this.Om++;this.vn+=Ma()-a;this.Tk||(m?this.$q=m(this.Ev,this.canvas):this.Ar=setTimeout(this.Ev,this.jj?1:16))}};a.prototype.Cz=function(){var a,c,b,d,h,e,f,g,k;a=Ma();1E3<=a-this.Xk&&(this.Xk+=1E3,this.up=this.Om,this.Om=0,this.cp=this.vn,this.vn=0);this.zu&&(0!==this.on&&(c=a-this.on,0===c?(this.gB++,10<=this.xD&&(this.zu=u),this.kh=1/60):(this.kh=c/1E3,0.5<this.kh?this.kh=0:0.1<this.kh&&(this.kh=0.1))),this.on=a);this.ua=
this.kh*this.Ug;this.kf.add(this.ua);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.an;2<=this.Be||a&&0<this.Gk?(c=this.Ld/this.Kd,b=this.width/this.height,d=this.Be,a&&0<this.Gk&&(d=this.Gk),this.mm=2!==d&&b>c||2===d&&b<c?this.height/this.Kd:this.width/this.Ld,this.ab&&(this.ab.ov(this.ab.scrollX),this.ab.pv(this.ab.scrollY))):this.mm=1;this.Kc();this.jf++;this.fg.DA();this.jf--;this.Kc();this.jf++;a=0;for(c=this.V.length;a<c;a++)if(f=this.V[a],!(f.Ha||!f.Wb.length&&
!f.kb.length)){b=0;for(d=f.A.length;b<d;b++){g=f.A[b];h=0;for(e=g.La.length;h<e;h++)g.La[h].Ic()}}a=0;for(c=this.V.length;a<c;a++)if(f=this.V[a],!(f.Ha||!f.Wb.length&&!f.kb.length)){b=0;for(d=f.A.length;b<d;b++){g=f.A[b];h=0;for(e=g.La.length;h<e;h++)k=g.La[h],k.uA&&k.uA()}}b=this.Kq.Sj();a=0;for(c=b.length;a<c;a++)b[a].Ic();this.jf--;this.lz();for(a=0;this.Wo&&10>a++;)this.qt(this.Wo);a=0;for(c=this.pi.length;a<c;a++)this.pi[a].Ep=u;this.ab.Gm&&this.ab.Gm.pc();this.gv.length=0;this.ju=u;this.jf++;
a=0;for(c=this.V.length;a<c;a++)if(f=this.V[a],!(f.Ha||!f.Wb.length&&!f.kb.length)){b=0;for(d=f.A.length;b<d;b++){g=f.A[b];h=0;for(e=g.La.length;h<e;h++)k=g.La[h],k.xr&&k.xr()}}b=this.Lq.Sj();a=0;for(c=b.length;a<c;a++)b[a].xr();this.jf--};a.prototype.qt=function(a){var c=this.ab;this.ab.SA();var b,d,h,e,f,g,k;if(this.Ca){b=0;for(d=this.V.length;b<d;b++)f=this.V[b],f.Ha||f.Lv&&((!f.global||0===f.A.length)&&-1===a.Ok.indexOf(f))&&f.Lv()}c==a&&(this.fg.Pd.length=0);a.tr();b=0;for(d=this.V.length;b<
d;b++)if(f=this.V[b],f.global||f.Mb.sr){a=0;for(c=f.A.length;a<c;a++)if(g=f.A[a],g.Oq&&g.Oq(),g.La){h=0;for(e=g.La.length;h<e;h++)k=g.La[h],k.Oq&&k.Oq()}}this.ju=this.qb=q;this.Kc()};a.prototype.yr=function(a){this.Kq.add(a)};a.prototype.XA=function(a){this.Lq.add(a)};a.prototype.Et=function(a){return!a||-1===a.Li?this.ua:this.kh*a.Li};a.prototype.ni=function(){this.ab.ni(this.bb);this.Ee&&this.bb.present()};a.prototype.If=function(){this.ab.If(this.Ca)};a.prototype.Is=function(a){a&&this.Fm.push(a)};
a.prototype.AA=function(a){ua(this.Fm,a)};a.prototype.ri=function(a){return this.Ij[a.toString()]};a.prototype.Uh=function(a){var c,b;if(!this.Hf.contains(a)){this.Hf.add(a);if(a.$d){c=0;for(b=a.siblings.length;c<b;c++)this.Uh(a.siblings[c])}this.Lp&&this.Hf.Ll.push(a);this.jf++;this.trigger(Object.getPrototypeOf(a.type.Mb).U.uw,a);this.jf--}};a.prototype.Kc=function(){var a,c,b,d,h,e,f,g,k,l;this.Lp=q;d=0;for(e=this.Gf.length;d<e;d++){a=this.Gf[d];c=a.type;c.A.push(a);c.Kh=q;h=0;for(f=c.kb.length;h<
f;h++)c.kb[h].A.push(a),c.kb[h].Kh=q}this.Gf.length=0;e=this.Hf.Sj();for(d=0;d<e.length;d++){a=e[d];c=a.type;b=c.A;h=0;for(f=this.Fm.length;h<f;h++)this.Fm[h](a);ua(b,a);a.S&&(sa(a.S.A,a.Zd()),a.S.Qd=q);h=0;for(f=c.kb.length;h<f;h++)ua(c.kb[h].A,a),c.kb[h].Kh=q;if(a.La){h=0;for(f=a.La.length;h<f;h++)b=a.La[h],b.In&&b.In(),b.Fb.Iq.remove(a)}this.Kq.remove(a);this.Lq.remove(a);h=0;for(f=this.fg.Pd.length;h<f;h++)if(k=this.fg.Pd[h],k.Od.hasOwnProperty(c.index)&&ua(k.Od[c.index].vi,a),!c.Ha){b=0;for(g=
c.kb.length;b<g;b++)l=c.kb[b],k.Od.hasOwnProperty(l.index)&&ua(k.Od[l.index].vi,a)}a.In&&a.In();this.Ij.hasOwnProperty(a.uid.toString())&&delete this.Ij[a.uid.toString()];this.Hn--;64>c.Cm.length&&c.Cm.push(a);c.Kh=q}this.Hf.Qk()||(this.qb=q);this.Hf.clear();this.Lp=u};a.prototype.kt=function(a,c,b,d){if(a.Ha){var h=na(Math.random()*a.Gn.length);return this.kt(a.Gn[h],c,b,d)}return!a.ye?r:this.jh(a.ye,c,u,b,d,u)};var k=[];a.prototype.jh=function(a,c,b,d,h,e){var f,g,l,m;if(!a)return r;var I=this.V[a[1]],
J=I.Mb.qh;if(this.jn&&J&&!I.Mp||J&&!this.Ca&&11===a[0][11])return r;var F=c;J||(c=r);var y;I.Cm.length?(y=I.Cm.pop(),y.bg=q,I.Mb.Ob.call(y,I)):(y=new I.Mb.Ob(I),y.bg=u);y.uid=b&&!e?a[2]:this.ql++;this.Ij[y.uid.toString()]=y;y.bv=this.Du++;y.Mk=0;y.Jk=Nb;I.Kh=q;l=a[3];if(y.bg){f=0;for(g=l.length;f<g;f++)y.yc[f]=l[f];La(y.xa)}else y.yc=l.slice(0),y.xa={};if(J){var B=a[0];y.x=fa(d)?B[0]:d;y.y=fa(h)?B[1]:h;y.F=B[2];y.width=B[3];y.height=B[4];y.depth=B[5];y.O=B[6];y.opacity=B[7];y.Fd=B[8];y.Gd=B[9];y.md=
B[10];f=B[11];!this.Ca&&I.ra.length&&(y.md=f);y.wk=Ra(y.md);this.ba&&Sa(y,y.md,this.ba);if(y.bg){f=0;for(g=B[12].length;f<g;f++){l=0;for(m=B[12][f].length;l<m;l++)y.Hb[f][l]=B[12][f][l]}y.Wa.set(0,0,0,0);y.Mc.or(y.Wa);y.nm.length=0}else{y.Hb=B[12].slice(0);f=0;for(g=y.Hb.length;f<g;f++)y.Hb[f]=B[12][f].slice(0);y.Va=[];y.eh=[];y.eh.length=I.ra.length;y.Wa=new pa(0,0,0,0);y.Mc=new qa;y.nm=[];y.ec=Pb;y.DC=Qb;y.hh=Rb;y.jd=Sb;y.Zd=Tb}f=0;for(g=I.ra.length;f<g;f++)y.eh[f]=q;y.Wg=Ub;y.Wg();y.Qv=!!y.Va.length;
y.So=q;y.visible=q;y.Li=-1;y.S=c;y.Qi=c.A.length;"undefined"===typeof y.od&&(y.od=r);this.qb=y.cj=q}y.toString=Ob;var K;f=k.length=0;for(g=I.kb.length;f<g;f++)k.push.apply(k,I.kb[f].Wb);k.push.apply(k,I.Wb);if(y.bg){f=0;for(g=k.length;f<g;f++){var S=k[f];K=y.La[f];K.bg=q;S.Fb.Ob.call(K,S,y);B=a[4][f];l=0;for(m=B.length;l<m;l++)K.$a[l]=B[l];K.cb();S.Fb.Iq.add(y)}}else{y.La=[];f=0;for(g=k.length;f<g;f++)S=k[f],K=new S.Fb.Ob(S,y),K.bg=u,K.$a=a[4][f].slice(0),K.cb(),y.La.push(K),S.Fb.Iq.add(y)}B=a[5];
if(y.bg){f=0;for(g=B.length;f<g;f++)y.$a[f]=B[f]}else y.$a=B.slice(0);this.Gf.push(y);c&&c.A.push(y);this.Hn++;if(I.$d){if(y.$d=q,y.bg?y.siblings.length=0:y.siblings=[],!b&&!e){f=0;for(g=I.qd.length;f<g;f++)if(I.qd[f]!==I){if(!I.qd[f].ye)return r;y.siblings.push(this.jh(I.qd[f].ye,F,u,J?y.x:d,J?y.y:h,q))}f=0;for(g=y.siblings.length;f<g;f++){y.siblings[f].siblings.push(y);for(l=0;l<g;l++)f!==l&&y.siblings[f].siblings.push(y.siblings[l])}}}else y.$d=u,y.siblings=r;y.cb();f=0;for(g=y.La.length;f<g;f++)y.La[f].Xu&&
y.La[f].Xu();return y};a.prototype.Ap=function(a){var c,b;c=0;for(b=this.ab.Na.length;c<b;c++){var d=this.ab.Na[c];if(d.name.toLowerCase()===a.toLowerCase())return d}return r};a.prototype.Hk=function(a){a=na(a);0>a&&(a=0);a>=this.ab.Na.length&&(a=this.ab.Na.length-1);return this.ab.Na[a]};a.prototype.Xo=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].lb().Bb=q};a.prototype.zl=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].zl()};a.prototype.Yq=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Yq()};
a.prototype.Nj=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Nj()};a.prototype.VA=function(a,c,b){var d=a.lb(),h,e,f,g,k,l;if(d.Bb){d.Bb=u;h=d.A.length=0;for(g=a.A.length;h<g;h++)f=a.A[h],f.jd(),k=f.S.Cd(c,b,q),l=f.S.Cd(c,b,u),f.hh(k,l)&&d.A.push(f)}else{h=e=0;for(g=d.A.length;h<g;h++)f=d.A[h],f.jd(),k=f.S.Cd(c,b,q),l=f.S.Cd(c,b,u),f.hh(k,l)&&(d.A[e]=d.A[h],e++);d.A.length=e}a.sk();return d.Dp()};new qa;new pa(0,0,0,0);a.prototype.Iv=function(a,c){if(!c)return u;var b,d,h,e,f;b=0;for(d=a.Wb.length;b<
d;b++)if(a.Wb[b].Fb instanceof c)return q;if(!a.Ha){b=0;for(d=a.kb.length;b<d;b++){f=a.kb[b];h=0;for(e=f.Wb.length;h<e;h++)if(f.Wb[h].Fb instanceof c)return q}}return u};a.prototype.Jv=function(a){return this.Iv(a,ob.WB)};a.prototype.Er=function(a){return this.Iv(a,ob.XB)};a.prototype.zA=function(a,c){a.cj&&c.cj&&this.gv.push([a,c])};var l=[],h=-1;a.prototype.trigger=function(a,c,b){if(!this.ab)return u;var d=this.ab.Gm;if(!d)return u;h++;h===l.length?l.push(new Na):l[h].clear();a=this.Gv(a,c,d,b);
h--;return a};a.prototype.Gv=function(a,c,b,d){var e=l[h];if(e.contains(b))return u;e.add(b);var e=b.Pt.Sj(),f=u,g,k,m;g=0;for(k=e.length;g<k;g++)e[g].qz()&&(m=this.Gv(a,c,e[g].Nk,d),f=f||m);if(c){m=this.Cr(a,c,c.type.name,b,d);f=f||m;g=0;for(k=c.type.kb.length;g<k;g++)m=this.Cr(a,c,c.type.kb[g].name,b,d),f=f||m}else m=this.Cr(a,c,"system",b,d),f=f||m;return f};a.prototype.Cr=function(a,c,b,d,h){var e,f=u,g=u,g="undefined"!==typeof h,k=(g?d.xt:d.Hv)[b];if(!k)return f;var l=r;d=0;for(e=k.length;d<
e;d++)if(k[d].method==a){l=k[d].Im;break}if(!l)return f;a=g?l[h]:l;if(!a)return r;d=0;for(e=a.length;d<e;d++)h=a[d][0],g=a[d][1],g=this.Ey(c,b,h,g),f=f||g;return f};a.prototype.Ey=function(a,c,b,d){var e,f,g=u;this.Dr++;var k=this.Xd().ff;k&&this.zl(k.Gh);var l=1<this.Dr;this.zl(b.Gh);l&&this.xA();var m=this.Zq(b);m.ff=b;a&&(e=this.types[c].lb(),e.Bb=u,e.A.length=1,e.A[0]=a,this.types[c].sk());a=q;if(b.parent){c=m.Av;for(e=b.parent;e;)c.push(e),e=e.parent;c.reverse();e=0;for(f=c.length;e<f;e++)if(!c[e].FA()){a=
u;break}}a&&(this.Jm++,b.$f?b.EA(d):b.pc(),g=g||m.qj);this.Vu();l&&this.tA();this.Nj(b.Gh);k&&this.Nj(k.Gh);0===this.jf&&(0===h&&!this.Np&&(!this.Hf.Qk()||this.Gf.length))&&this.Kc();this.Dr--;return g};a.prototype.Oy=function(){var a=this.Xd();return a.ff.Xb[a.nd]};a.prototype.xA=function(){this.un++;this.un>=this.mq.length&&this.mq.push([])};a.prototype.tA=function(){this.un--};a.prototype.Dt=function(){return this.mq[this.un]};a.prototype.Zq=function(a){this.Hm++;this.Hm>=this.mp.length&&this.mp.push(new Za);
var c=this.Xd();c.reset(a);return c};a.prototype.Vu=function(){this.Hm--};a.prototype.Xd=function(){return this.mp[this.Hm]};a.prototype.Ft=function(a,c){for(var b,d,h,e,f,g;c;){b=0;for(d=c.Qe.length;b<d;b++)if(g=c.Qe[b],g instanceof $a&&a.toLowerCase()===g.name.toLowerCase())return g;c=c.parent}b=0;for(d=this.pi.length;b<d;b++){f=this.pi[b];h=0;for(e=f.mh.length;h<e;h++)if(g=f.mh[h],g instanceof $a&&a.toLowerCase()===g.name.toLowerCase())return g}return r};a.prototype.Gt=function(a){var c,b;c=0;
for(b=this.mf.length;c<b;c++)if(this.mf[c].Ia===a)return this.mf[c];return r};a.prototype.Vm=function(a){var c,b;c=0;for(b=this.V.length;c<b;c++)if(this.V[c].Ia===a)return this.V[c];return r};a.prototype.Qy=function(a){var c,b;c=0;for(b=this.Zi.length;c<b;c++)if(this.Zi[c].Ia===a)return this.Zi[c];return r};a.prototype.lz=function(){var a=this,b=this.lr,h=this.Dg,f=this.rn,g=u;this.wv&&(g=q,b="__c2_continuouspreview",this.wv=u);if(b.length){this.Kc();h=this.KA();if(window.indexedDB&&!this.Qf)c(b,
h,function(){ea("Saved state to IndexedDB storage ("+h.length+" bytes)");a.Dg=h;a.trigger(zb.prototype.U.Co,r);a.Dg="";g&&e()},function(c){try{localStorage.setItem("__c2save_"+b,h),ea("Saved state to WebStorage ("+h.length+" bytes)"),a.Dg=h,a.trigger(zb.prototype.U.Co,r),a.Dg="",g&&e()}catch(d){ea("Failed to save game state: "+c+"; "+d)}});else try{localStorage.setItem("__c2save_"+b,h),ea("Saved state to WebStorage ("+h.length+" bytes)"),a.Dg=h,this.trigger(zb.prototype.U.Co,r),a.Dg="",g&&e()}catch(k){ea("Error saving to WebStorage: "+
k)}this.bd=this.rn=this.lr=""}f.length&&(window.indexedDB&&!this.Qf?d(f,function(c){c?(a.bd=c,ea("Loaded state from IndexedDB storage ("+a.bd.length+" bytes)")):(a.bd=localStorage.getItem("__c2save_"+f)||"",ea("Loaded state from WebStorage ("+a.bd.length+" bytes)"));a.Hl=u;a.bd.length||a.trigger(zb.prototype.U.Bo,r)},function(){a.bd=localStorage.getItem("__c2save_"+f)||"";ea("Loaded state from WebStorage ("+a.bd.length+" bytes)");a.Hl=u;a.bd.length||a.trigger(zb.prototype.U.Bo,r)}):(this.bd=localStorage.getItem("__c2save_"+
f)||"",ea("Loaded state from WebStorage ("+this.bd.length+" bytes)"),this.Hl=u,a.bd.length||a.trigger(zb.prototype.U.Bo,r)),this.lr=this.rn="");this.bd.length&&(this.Kc(),this.Az(this.bd),this.Dg=this.bd,this.trigger(zb.prototype.U.Dw,r),this.bd=this.Dg="")};a.prototype.KA=function(){var a,c,b,d,h,e,f,k={c2save:q,version:1,rt:{time:this.kf.je,timescale:this.Ug,tickcount:this.Mh,execcount:this.Jm,next_uid:this.ql,running_layout:this.ab.Ia,start_time_offset:Date.now()-this.Gl},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(c=this.V.length;a<c;a++)if(h=this.V[a],!h.Ha&&!this.Jv(h)){e={instances:[]};Ia(h.xa)&&(e.ex=g(h.xa));b=0;for(d=h.A.length;b<d;b++)e.instances.push(this.nv(h.A[b]));k.types[h.Ia.toString()]=e}a=0;for(c=this.mf.length;a<c;a++)b=this.mf[a],k.layouts[b.Ia.toString()]=b.Nd();d=k.events.groups;a=0;for(c=this.Zi.length;a<c;a++)b=this.Zi[a],d[b.Ia.toString()]=!!this.lm[b.Kk];c=k.events.cnds;for(f in this.bj)this.bj.hasOwnProperty(f)&&(a=this.bj[f],Ia(a.xa)&&(c[f]={ex:g(a.xa)}));
c=k.events.acts;for(f in this.Yi)this.Yi.hasOwnProperty(f)&&(a=this.Yi[f],Ia(a.xa)&&(c[f]={ex:a.xa}));c=k.events.vars;for(f in this.Tj)if(this.Tj.hasOwnProperty(f)&&(a=this.Tj[f],!a.cn&&(!a.parent||a.Vk)))c[f]=a.data;k.system=this.fg.Nd();return JSON.stringify(k)};a.prototype.dv=function(){var a,c,b,d,h,e;this.Ij={};a=0;for(c=this.V.length;a<c;a++)if(b=this.V[a],!b.Ha){d=0;for(h=b.A.length;d<h;d++)e=b.A[d],this.Ij[e.uid.toString()]=e}};a.prototype.Az=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var c=
a.rt;this.kf.reset();this.kf.je=c.time;this.Ug=c.timescale;this.Mh=c.tickcount;this.Jm=c.execcount;this.Gl=Date.now()-c.start_time_offset;var b=c.running_layout;if(b!==this.ab.Ia)if(b=this.Gt(b))this.qt(b);else return;this.Wt=q;var d,h,e,f,g,k,l;k=a.types;for(h in k)if(k.hasOwnProperty(h)&&(f=this.Vm(parseInt(h,10)))&&!f.Ha&&!this.Jv(f)){k[h].ex?f.xa=k[h].ex:La(f.xa);g=f.A;e=k[h].instances;b=0;for(d=la(g.length,e.length);b<d;b++)this.hq(g[b],e[b]);b=e.length;for(d=g.length;b<d;b++)this.Uh(g[b]);b=
g.length;for(d=e.length;b<d;b++){g=r;if(f.Mb.qh&&(g=this.ab.Tm(e[b].w.l),!g))continue;g=this.jh(f.ye,g,u,0,0,q);this.hq(g,e[b])}f.Kh=q}this.Kc();this.dv();d=a.layouts;for(h in d)d.hasOwnProperty(h)&&(b=this.Gt(parseInt(h,10)))&&b.Ge(d[h]);d=a.events.groups;for(h in d)d.hasOwnProperty(h)&&(b=this.Qy(parseInt(h,10)))&&(this.lm[b.Kk]=d[h]);b=a.events.cnds;for(h in b)b.hasOwnProperty(h)&&this.bj.hasOwnProperty(h)&&(this.bj[h].xa=b[h].ex);b=a.events.acts;for(h in b)b.hasOwnProperty(h)&&this.Yi.hasOwnProperty(h)&&
(this.Yi[h].xa=b[h].ex);b=a.events.vars;for(h in b)b.hasOwnProperty(h)&&this.Tj.hasOwnProperty(h)&&(this.Tj[h].data=b[h]);this.ql=c.next_uid;this.Wt=u;this.fg.Ge(a.system);b=0;for(d=this.V.length;b<d;b++)if(f=this.V[b],!f.Ha){h=0;for(a=f.A.length;h<a;h++){g=f.A[h];if(f.$d){k=g.Jk();c=g.siblings.length=0;for(e=f.qd.length;c<e;c++)l=f.qd[c],f!==l&&g.siblings.push(l.A[k])}g.rk&&g.rk();if(g.La){c=0;for(e=g.La.length;c<e;c++)k=g.La[c],k.rk&&k.rk()}}}this.qb=q}};a.prototype.nv=function(a){var c,b,d,h,e;
h=a.type;d=h.Mb;var f={uid:a.uid};Ia(a.xa)&&(f.ex=g(a.xa));if(a.yc&&a.yc.length){f.ivs={};c=0;for(b=a.yc.length;c<b;c++)f.ivs[a.type.Kp[c].toString()]=a.yc[c]}if(d.qh){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.S.Ia,zi:a.Zd()};0!==a.O&&(d.a=a.O);1!==a.opacity&&(d.o=a.opacity);0.5!==a.Fd&&(d.hX=a.Fd);0.5!==a.Gd&&(d.hY=a.Gd);0!==a.md&&(d.bm=a.md);a.visible||(d.v=a.visible);a.cj||(d.ce=a.cj);-1!==a.Li&&(d.mts=a.Li);if(h.ra.length){d.fx=[];c=0;for(b=h.ra.length;c<b;c++)e=h.ra[c],d.fx.push({name:e.name,active:a.eh[e.index],
params:a.Hb[e.index]})}f.w=d}if(a.La&&a.La.length){f.behs={};c=0;for(b=a.La.length;c<b;c++)h=a.La[c],h.Nd&&(f.behs[h.type.Ia.toString()]=h.Nd())}a.Nd&&(f.data=a.Nd());return f};a.prototype.Sy=function(a,c){var b,d;b=0;for(d=a.Kp.length;b<d;b++)if(a.Kp[b]===c)return b;return-1};a.prototype.Ny=function(a,c){var b,d;b=0;for(d=a.La.length;b<d;b++)if(a.La[b].type.Ia===c)return b;return-1};a.prototype.hq=function(a,c){var b,d,h,e,f,g;g=a.type;h=g.Mb;a.uid=c.uid;c.ex?a.xa=c.ex:La(a.xa);if(d=c.ivs)for(b in d)d.hasOwnProperty(b)&&
(e=this.Sy(g,parseInt(b,10)),0>e||e>=a.yc.length||(a.yc[e]=d[b]));if(h.qh){e=c.w;a.S.Ia!==e.l&&(d=a.S,a.S=this.ab.Tm(e.l),a.S?(a.S.A.push(a),a.S.Qd=q,ua(d.A,a),d.Qd=q):(a.S=d,this.Uh(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Qi=e.zi;a.O=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.Fd=e.hasOwnProperty("hX")?e.hX:0.5;a.Gd=e.hasOwnProperty("hY")?e.hY:0.5;a.visible=e.hasOwnProperty("v")?e.v:q;a.cj=e.hasOwnProperty("ce")?e.ce:q;a.Li=e.hasOwnProperty("mts")?e.mts:-1;a.md=e.hasOwnProperty("bm")?
e.bm:0;a.wk=Ra(a.md);this.ba&&Sa(a,a.md,this.ba);a.ec();if(e.hasOwnProperty("fx")){d=0;for(h=e.fx.length;d<h;d++)f=g.zp(e.fx[d].name),0>f||(a.eh[f]=e.fx[d].active,a.Hb[f]=e.fx[d].params)}a.Wg()}if(g=c.behs)for(b in g)g.hasOwnProperty(b)&&(e=this.Ny(a,parseInt(b,10)),0>e||a.La[e].Ge(g[b]));c.data&&a.Ge(c.data)};ab=function(c){return new a(document.getElementById(c))};bb=function(c,b){return new a({dc:q,width:c,height:b})};window.cr_createRuntime=ab;window.cr_createDCRuntime=bb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=q;var c=document.createElement("screencanvas")||document.createElement("canvas");document.body.appendChild(c);c=new a(c);window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return c}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:r};
window.cr_sizeCanvas=function(a,b){if(!(0===a||0===b)){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
(function(){function a(a,c){this.c=a;this.Gm=r;this.scrollX=this.c.Ld/2;this.scrollY=this.c.Kd/2;this.scale=1;this.O=0;this.Dk=q;this.name=c[0];this.width=c[1];this.height=c[2];this.Kv=c[3];this.uv=c[4];this.Ia=c[5];var b=c[6],d,k;this.Na=[];this.Ok=[];d=0;for(k=b.length;d<k;d++){var l=new cb(this,b[d]);l.Fu=d;this.Na.push(l)}b=c[7];this.ti=[];d=0;for(k=b.length;d<k;d++){var l=b[d],h=this.c.V[l[1]];h.ye||(h.ye=l);this.ti.push(l);-1===this.Ok.indexOf(h)&&this.Ok.push(h)}this.ra=[];this.Va=[];this.Hb=
[];d=0;for(k=c[8].length;d<k;d++)this.ra.push({id:c[8][d][0],name:c[8][d][1],Hc:-1,Td:q,index:d}),this.Hb.push(c[8][d][2].slice(0));this.Wg();this.br=new pa(0,0,1,1);this.cr=new pa(0,0,1,1);this.Ah={}}function b(a,c){this.fb=a;this.c=a.c;this.A=[];this.scale=1;this.O=0;this.mi=u;this.Vg=new pa(0,0,0,0);this.Fv=new qa;this.Te=this.We=this.Ve=this.Ue=0;this.Qd=u;this.name=c[0];this.index=c[1];this.Ia=c[2];this.visible=c[3];this.fh=c[4];this.Pi=c[5];this.yh=c[6];this.zh=c[7];this.opacity=c[8];this.tp=
c[9];this.Yg=c[10];this.md=c[11];this.cy=c[12];this.wk="source-over";this.Nc=this.Tc=0;this.Dh=u;var b=c[13],d,k;this.hj=[];d=0;for(k=b.length;d<k;d++){var l=b[d],h=this.c.V[l[1]];h.ye||(h.ye=l);this.hj.push(l);-1===this.fb.Ok.indexOf(h)&&this.fb.Ok.push(h)}this.ra=[];this.Va=[];this.Hb=[];d=0;for(k=c[14].length;d<k;d++)this.ra.push({id:c[14][d][0],name:c[14][d][1],Hc:-1,Td:q,index:d}),this.Hb.push(c[14][d][2].slice(0));this.Wg();this.br=new pa(0,0,1,1);this.cr=new pa(0,0,1,1)}function c(a,c){return a.Qi-
c.Qi}a.prototype.JA=function(a){var c=a.type.Ia.toString();this.Ah.hasOwnProperty(c)||(this.Ah[c]=[]);this.Ah[c].push(this.c.nv(a))};a.prototype.Mt=function(){var a=this.Na[0];return!a.Pi&&1===a.opacity&&!a.tp&&a.visible};a.prototype.Wg=function(){this.Va.length=0;var a,c,b;a=0;for(c=this.ra.length;a<c;a++)b=this.ra[a],b.Td&&this.Va.push(b)};a.prototype.yp=function(a){var c,b,d;c=0;for(b=this.ra.length;c<b;c++)if(d=this.ra[c],d.name===a)return d;return r};var d=[];a.prototype.tr=function(){this.uv&&
(this.Gm=this.c.np[this.uv]);this.c.ab=this;this.scrollX=this.c.Ld/2;this.scrollY=this.c.Kd/2;var a,b,f,m,k,l,h;a=0;for(f=this.c.V.length;a<f;a++)if(b=this.c.V[a],!b.Ha){k=b.A;b=0;for(m=k.length;b<m;b++)if(l=k[b],l.S){var n=l.S.Fu;n>=this.Na.length&&(n=this.Na.length-1);l.S=this.Na[n];l.S.A.push(l);l.S.Qd=q}}d.length=0;this.yx();a=0;for(f=this.Na.length;a<f;a++)l=this.Na[a],l.Fx(),l.mi=q,b=l.Cd(0,0,q),m=l.Cd(0,0,u),l.mi=u,this.c.Mj&&(b=b+0.5|0,m=m+0.5|0),l.hr(b,m,r);k=u;if(!this.Dk){for(h in this.Ah)if(this.Ah.hasOwnProperty(h)&&
(b=this.c.Vm(parseInt(h,10)))&&!b.Ha&&this.c.Er(b)){m=this.Ah[h];a=0;for(f=m.length;a<f;a++){l=r;if(b.Mb.qh&&(l=this.Tm(m[a].w.l),!l))continue;l=this.c.jh(b.ye,l,u,0,0,q);this.c.hq(l,m[a]);k=q;d.push(l)}m.length=0}a=0;for(f=this.Na.length;a<f;a++)this.Na[a].A.sort(c),this.Na[a].Qd=q}k&&(this.c.Kc(),this.c.dv());for(a=0;a<d.length;a++)if(l=d[a],l.type.$d){f=l.Jk();b=0;for(m=l.type.qd.length;b<m;b++)h=l.type.qd[b],l.type!==h&&(h.A.length>f?l.siblings.push(h.A[f]):h.ye&&(k=this.c.jh(h.ye,l.S,q,l.x,l.y,
q),this.c.Kc(),h.fo(),l.siblings.push(k),d.push(k)))}a=0;for(f=this.ti.length;a<f;a++)this.c.jh(this.ti[a],r,q);this.c.Wo=r;this.c.Kc();if(this.c.bb&&!this.c.rd){a=0;for(f=this.c.V.length;a<f;a++)h=this.c.V[a],!h.Ha&&(h.A.length&&h.Yu)&&h.Yu(this.c.bb)}a=0;for(f=d.length;a<f;a++)l=d[a],this.c.trigger(Object.getPrototypeOf(l.type.Mb).U.zo,l);d.length=0;this.c.trigger(zb.prototype.U.Cw,r);this.Dk=u};a.prototype.Ex=function(){var a,c,b,d,k;c=a=0;for(b=this.ti.length;a<b;a++)d=this.ti[a],k=this.c.V[d[1]],
k.global?this.c.jh(d,r,q):(this.ti[c]=d,c++);this.ti.length=c};a.prototype.SA=function(){this.c.trigger(zb.prototype.U.Bw,r);this.c.fg.Pd.length=0;var a,c,b,d,k,l;a=0;for(c=this.Na.length;a<c;a++){k=this.Na[a].A;b=0;for(d=k.length;b<d;b++)l=k[b],l.type.global||(this.c.Er(l.type)&&this.JA(l),this.c.Uh(l));this.c.Kc();k.length=0;this.Na[a].Qd=q}a=0;for(c=this.c.V.length;a<c;a++)if(k=this.c.V[a],!k.global&&!k.Mb.qh&&!k.Mb.sr&&!k.Ha){b=0;for(d=k.A.length;b<d;b++)this.c.Uh(k.A[b]);this.c.Kc()}};a.prototype.ni=
function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.c.et&&!this.Mt()&&a.clearRect(0,0,this.c.width,this.c.height);var c,b,d;c=0;for(b=this.Na.length;c<b;c++)d=this.Na[c],d.visible&&(0<d.opacity&&11!==d.md)&&d.ni(a)};a.prototype.If=function(a){var c=0<this.Va.length||this.c.Rj;if(c){this.c.lf||(this.c.lf=a.ih(this.c.width,this.c.height,this.c.kc));if(this.c.lf.uk!==this.c.width||this.c.lf.tk!==this.c.height)a.deleteTexture(this.c.lf),this.c.lf=a.ih(this.c.width,this.c.height,
this.c.kc);a.Tg(this.c.lf)}this.c.et&&!this.Mt()&&a.clear(0,0,0,0);var b,d;b=0;for(d=this.Na.length;b<d;b++)this.Na[b].visible&&0<this.Na[b].opacity&&this.Na[b].If(a);c&&(1>=this.Va.length?(1===this.Va.length?(c=this.Va[0].index,a.eg(this.Va[0].Hc),a.Oj(r,1/this.c.width,1/this.c.height,0,0,1,1,this.scale,this.Hb[c]),a.On(this.Va[0].Hc)&&(this.c.qb=q)):a.eg(0),a.Tg(r),a.Dl(1),a.wf(this.c.lf),a.qv(),a.Eh(),a.Qh(),c=this.c.width/2,b=this.c.height/2,a.Qn(-c,b,c,b,c,-b,-c,-b),a.wf(r)):this.er(a,r,r,r));
a.vA()};a.prototype.Ik=function(){return 0<this.Va.length||this.c.Rj?this.c.lf:r};a.prototype.Ht=function(){var a=this.Na[0].Ce(),c,b,d;c=1;for(b=this.Na.length;c<b;c++)d=this.Na[c],0===d.yh&&0===d.zh||d.Ce()<a&&(a=d.Ce());return a};a.prototype.ov=function(a){if(!this.Kv){var c=this.c.width*(1/this.Ht())/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.c.qb=q)};a.prototype.pv=function(a){if(!this.Kv){var c=this.c.height*(1/this.Ht())/2;a>this.height-c&&(a=this.height-
c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.c.qb=q)};a.prototype.yx=function(){this.ov(this.scrollX);this.pv(this.scrollY)};a.prototype.er=function(a,c,b,d){var k=b?b.Va:c?c.Va:this.Va,l=b?b.S.Ce():c?c.Ce():1,h=this.c.vp,n,s,x,v,t=0,z=1,D,G=this.c.width,E=this.c.height,H=G/2,I=E/2,J=c?c.br:this.br,F=c?c.cr:this.cr,y=0,B=0,K=0,S=0,Q=G,N=G,R=E,aa=E,W=x=0,O=b?b.S.Wd():0;if(b){n=0;for(s=k.length;n<s;n++)x+=a.Vy(k[n].Hc),W+=a.Wy(k[n].Hc);v=b.Wa;y=c.Fe(v.left,v.top,q);K=c.Fe(v.left,v.top,u);Q=
c.Fe(v.right,v.bottom,q);R=c.Fe(v.right,v.bottom,u);0!==O&&(n=c.Fe(v.right,v.top,q),s=c.Fe(v.right,v.top,u),B=c.Fe(v.left,v.bottom,q),S=c.Fe(v.left,v.bottom,u),v=Math.min(y,Q,n,B),Q=Math.max(y,Q,n,B),y=v,v=Math.min(K,R,s,S),R=Math.max(K,R,s,S),K=v);y-=x;K-=W;Q+=x;R+=W;F.left=y/G;F.top=1-K/E;F.right=Q/G;F.bottom=1-R/E;B=y=Math.floor(y);S=K=Math.floor(K);N=Q=Math.ceil(Q);aa=R=Math.ceil(R);B-=x;S-=W;N+=x;aa+=W;0>y&&(y=0);0>K&&(K=0);Q>G&&(Q=G);R>E&&(R=E);0>B&&(B=0);0>S&&(S=0);N>G&&(N=G);aa>E&&(aa=E);
J.left=y/G;J.top=1-K/E;J.right=Q/G;J.bottom=1-R/E}else J.left=F.left=0,J.top=F.top=0,J.right=F.right=1,J.bottom=F.bottom=1;W=b&&((b.O||O)&&a.yl(k[0].Hc)||0!==x||0!==W||1!==b.opacity||b.type.Mb.Bu)||c&&!b&&1!==c.opacity;a.qv();if(W){h[t]||(h[t]=a.ih(G,E,this.c.kc));if(h[t].uk!==G||h[t].tk!==E)a.deleteTexture(h[t]),h[t]=a.ih(G,E,this.c.kc);a.eg(0);a.Tg(h[t]);D=aa-S;a.clearRect(B,E-S-D,N-B,D);b?b.If(a):(a.wf(this.c.ae),a.Dl(c.opacity),a.Eh(),a.translate(-H,-I),a.Qh(),a.Ni(y,R,Q,R,Q,K,y,K,J));F.left=
F.top=0;F.right=F.bottom=1;b&&(v=J.top,J.top=J.bottom,J.bottom=v);t=1;z=0}a.Dl(1);x=k.length-1;var O=a.Wq(k[x].Hc),xa=0;n=0;for(s=k.length;n<s;n++){h[t]||(h[t]=a.ih(G,E,this.c.kc));if(h[t].uk!==G||h[t].tk!==E)a.deleteTexture(h[t]),h[t]=a.ih(G,E,this.c.kc);a.eg(k[n].Hc);xa=k[n].index;a.On(k[n].Hc)&&(this.c.qb=q);0==n&&!W?(a.Tg(h[t]),D=aa-S,v=E-S-D,a.clearRect(B,v,N-B,D),b?(a.Oj(d,1/b.width,1/b.height,F.left,F.top,F.right,F.bottom,l,b.Hb[xa]),b.If(a)):(a.Oj(d,1/G,1/E,0,0,1,1,l,c?c.Hb[xa]:this.Hb[xa]),
a.wf(c?this.c.ae:this.c.lf),a.Eh(),a.translate(-H,-I),a.Qh(),a.Ni(y,R,Q,R,Q,K,y,K,J)),F.left=F.top=0,F.right=F.bottom=1,b&&!O&&(v=R,R=K,K=v)):(a.Oj(d,1/G,1/E,F.left,F.top,F.right,F.bottom,l,b?b.Hb[xa]:c?c.Hb[xa]:this.Hb[xa]),n===x&&!O?(b?a.Fh(b.Tc,b.Nc):c&&a.Fh(c.Tc,c.Nc),a.Tg(d)):(a.Tg(h[t]),D=aa-S,v=E-S-D,a.clearRect(B,v,N-B,D)),a.wf(h[z]),a.Eh(),a.translate(-H,-I),a.Qh(),a.Ni(y,R,Q,R,Q,K,y,K,J),n===x&&!O&&a.wf(r));t=0===t?1:0;z=0===t?1:0}O&&(a.eg(0),b?a.Fh(b.Tc,b.Nc):c&&a.Fh(c.Tc,c.Nc),a.Tg(d),
a.wf(h[z]),a.Eh(),a.translate(-H,-I),a.Qh(),b&&1===k.length&&!W?a.Ni(y,K,Q,K,Q,R,y,R,J):a.Ni(y,R,Q,R,Q,K,y,K,J),a.wf(r))};a.prototype.Tm=function(a){var c,b;c=0;for(b=this.Na.length;c<b;c++)if(this.Na[c].Ia===a)return this.Na[c];return r};a.prototype.Nd=function(){var a,c,b,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.O,w:this.width,h:this.height,fv:this.Dk,persist:this.Ah,fx:[],layers:{}};a=0;for(c=this.ra.length;a<c;a++)b=this.ra[a],d.fx.push({name:b.name,active:b.Td,params:this.Hb[b.index]});
a=0;for(c=this.Na.length;a<c;a++)b=this.Na[a],d.layers[b.Ia.toString()]=b.Nd();return d};a.prototype.Ge=function(a){var c,b,d,k;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.O=a.a;this.width=a.w;this.height=a.h;this.Ah=a.persist;"undefined"!==typeof a.fv&&(this.Dk=a.fv);var l=a.fx;c=0;for(b=l.length;c<b;c++)if(d=this.yp(l[c].name))d.Td=l[c].active,this.Hb[d.index]=l[c].params;this.Wg();c=a.layers;for(k in c)c.hasOwnProperty(k)&&(a=this.Tm(parseInt(k,10)))&&a.Ge(c[k])};Xa=a;b.prototype.Wg=
function(){this.Va.length=0;var a,c,b;a=0;for(c=this.ra.length;a<c;a++)b=this.ra[a],b.Td&&this.Va.push(b)};b.prototype.yp=function(a){var c,b,d;c=0;for(b=this.ra.length;c<b;c++)if(d=this.ra[c],d.name===a)return d;return r};b.prototype.Fx=function(){var a,c,b,m,k,l;c=a=0;for(b=this.hj.length;a<b;a++){m=this.hj[a];k=this.c.V[m[1]];l=this.c.Er(k);k=q;if(!l||this.fb.Dk)m=this.c.jh(m,this,q),d.push(m),m.type.global&&(k=u);k&&(this.hj[c]=this.hj[a],c++)}this.hj.length=c;this.c.Kc();!this.c.Ca&&this.ra.length&&
(this.md=this.cy);this.wk=Ra(this.md);this.c.ba&&Sa(this,this.md,this.c.ba)};b.prototype.aB=function(){if(this.Qd){var a,c;a=0;for(c=this.A.length;a<c;a++)this.A[a].Qi=a;this.Qd=u}};b.prototype.Ce=function(){return this.Ty()*this.c.mm};b.prototype.Ty=function(){return(this.scale*this.fb.scale-1)*this.Yg+1};b.prototype.Wd=function(){return this.mi?0:ya(this.fb.O+this.O)};b.prototype.ni=function(a){this.Dh=this.tp||1!==this.opacity||0!==this.md;var c=this.c.canvas,b=a;a.globalAlpha=1;a.globalCompositeOperation=
"source-over";this.Dh&&(this.c.qn||(this.c.qn=document.createElement("canvas"),c=this.c.qn,c.width=this.c.width,c.height=this.c.height,this.c.iu=c.getContext("2d")),c=this.c.qn,b=this.c.iu,c.width!==this.c.width&&(c.width=this.c.width),c.height!==this.c.height&&(c.height=this.c.height),this.Pi&&b.clearRect(0,0,this.c.width,this.c.height));this.Pi||(b.fillStyle="rgb("+this.fh[0]+","+this.fh[1]+","+this.fh[2]+")",b.fillRect(0,0,this.c.width,this.c.height));b.save();this.mi=q;var d=this.Cd(0,0,q),k=
this.Cd(0,0,u);this.mi=u;this.c.Mj&&(d=d+0.5|0,k=k+0.5|0);this.hr(d,k,b);var l=this.Ce();b.scale(l,l);b.translate(-d,-k);for(var h,d=0,k=this.A.length;d<k;d++)if(l=this.A[d],l.visible&&!(0===l.width||0===l.height))l.jd(),h=l.Wa,h.right<this.Ue||(h.bottom<this.We||h.left>this.Ve||h.top>this.Te)||(b.globalCompositeOperation=l.wk,l.ni(b));b.restore();this.Dh&&(a.globalCompositeOperation=this.wk,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};b.prototype.hr=function(a,c,b){var d=this.Ce();this.Ue=a;this.We=
c;this.Ve=a+this.c.width*(1/d);this.Te=c+this.c.height*(1/d);a=this.Wd();0!==a&&(b&&(b.translate(this.c.width/2,this.c.height/2),b.rotate(-a),b.translate(this.c.width/-2,this.c.height/-2)),this.Vg.set(this.Ue,this.We,this.Ve,this.Te),this.Vg.offset((this.Ue+this.Ve)/-2,(this.We+this.Te)/-2),this.Fv.tv(this.Vg,a),this.Fv.Xs(this.Vg),this.Vg.offset((this.Ue+this.Ve)/2,(this.We+this.Te)/2),this.Ue=this.Vg.left,this.We=this.Vg.top,this.Ve=this.Vg.right,this.Te=this.Vg.bottom)};b.prototype.If=function(a){var c=
this.c.width,b=this.c.height,d=0,k=0;if(this.Dh=this.tp||1!==this.opacity||0<this.Va.length||0!==this.md){this.c.ae||(this.c.ae=a.ih(this.c.width,this.c.height,this.c.kc));if(this.c.ae.uk!==this.c.width||this.c.ae.tk!==this.c.height)a.deleteTexture(this.c.ae),this.c.ae=a.ih(this.c.width,this.c.height,this.c.kc);a.Tg(this.c.ae);this.Pi&&a.clear(0,0,0,0)}this.Pi||a.clear(this.fh[0]/255,this.fh[1]/255,this.fh[2]/255,1);this.mi=q;var k=this.Cd(0,0,q),l=this.Cd(0,0,u);this.mi=u;this.c.Mj&&(k=k+0.5|0,l=
l+0.5|0);this.hr(k,l,r);l=this.Ce();a.Eh();a.scale(l,l);a.iv(-this.Wd());a.translate((this.Ue+this.Ve)/-2,(this.We+this.Te)/-2);a.Qh();var h,n,s;h=0;for(n=this.A.length;h<n;h++)if(s=this.A[h],s.visible&&!(0===s.width||0===s.height))if(s.jd(),d=s.Wa,!(d.right<this.Ue||d.bottom<this.We||d.left>this.Ve||d.top>this.Te))if(s.Qv)if(d=s.Va[0].Hc,k=s.Va[0].index,1===s.Va.length&&!a.Wq(d)&&!a.wA(d)&&(!s.O&&!s.S.Wd()||!a.yl(d))&&1===s.opacity&&!s.type.Mb.Bu){a.eg(d);a.Fh(s.Tc,s.Nc);a.On(d)&&(this.c.qb=q);var x=
0,v=0,t=0,z=0;a.yl(d)&&(d=s.Wa,x=this.Fe(d.left,d.top,q),v=this.Fe(d.left,d.top,u),t=this.Fe(d.right,d.bottom,q),d=this.Fe(d.right,d.bottom,u),x/=c,v=1-v/b,t/=c,z=1-d/b);a.Oj(this.Dh?this.c.ae:this.fb.Ik(),1/s.width,1/s.height,x,v,t,z,this.Ce(),s.Hb[k]);s.If(a)}else this.fb.er(a,this,s,this.Dh?this.c.ae:this.fb.Ik()),a.Eh(),a.scale(l,l),a.iv(-this.Wd()),a.translate((this.Ue+this.Ve)/-2,(this.We+this.Te)/-2),a.Qh();else a.eg(0),a.Fh(s.Tc,s.Nc),s.If(a);this.Dh&&(d=this.Va.length?this.Va[0].Hc:0,k=this.Va.length?
this.Va[0].index:0,0===this.Va.length||1===this.Va.length&&!a.Wq(d)&&1===this.opacity?(1===this.Va.length?(a.eg(d),a.Oj(this.fb.Ik(),1/this.c.width,1/this.c.height,0,0,1,1,this.Ce(),this.Hb[k]),a.On(d)&&(this.c.qb=q)):a.eg(0),a.Tg(this.fb.Ik()),a.Dl(this.opacity),a.wf(this.c.ae),a.Fh(this.Tc,this.Nc),a.Eh(),a.Qh(),c=this.c.width/2,b=this.c.height/2,a.Qn(-c,b,c,b,c,-b,-c,-b),a.wf(r)):this.fb.er(a,this,r,this.fb.Ik()))};b.prototype.Cd=function(a,c,b){var d=this.c.devicePixelRatio;this.c.Sk&&0<this.c.Be&&
(a*=d,c*=d);var d=this.c.Ld/2,k=this.c.Kd/2,d=(this.fb.scrollX-d)*this.yh+d,k=(this.fb.scrollY-k)*this.zh+k,l=1/this.Ce(),d=d-this.c.width*l/2,k=k-this.c.height*l/2,d=d+a*l,k=k+c*l;c=this.Wd();0!==c&&(d-=this.fb.scrollX,k-=this.fb.scrollY,a=Math.cos(c),c=Math.sin(c),l=d*a-k*c,k=k*a+d*c,d=l+this.fb.scrollX,k+=this.fb.scrollY);return b?d:k};b.prototype.Fe=function(a,c,b){var d=this.Wd();if(0!==d){a-=this.fb.scrollX;c-=this.fb.scrollY;var k=Math.cos(-d),d=Math.sin(-d),l=a*k-c*d;c=c*k+a*d;a=l+this.fb.scrollX;
c+=this.fb.scrollY}k=this.c.Ld/2;d=this.c.Kd/2;k=(this.fb.scrollX-k)*this.yh+k;d=(this.fb.scrollY-d)*this.zh+d;l=1/this.Ce();k-=this.c.width*l/2;d-=this.c.height*l/2;k=(a-k)/l;d=(c-d)/l;a=this.c.devicePixelRatio;this.c.Sk&&0<this.c.Be&&(k/=a,d/=a);return b?k:d};b.prototype.Nd=function(){var a,c,b,d={s:this.scale,a:this.O,vl:this.Ue,vt:this.We,vr:this.Ve,vb:this.Te,v:this.visible,bc:this.fh,t:this.Pi,px:this.yh,py:this.zh,o:this.opacity,zr:this.Yg,fx:[],instances:[]};a=0;for(c=this.ra.length;a<c;a++)b=
this.ra[a],d.fx.push({name:b.name,active:b.Td,params:this.Hb[b.index]});return d};b.prototype.Ge=function(a){var b,d;this.scale=a.s;this.O=a.a;this.Ue=a.vl;this.We=a.vt;this.Ve=a.vr;this.Te=a.vb;this.visible=a.v;this.fh=a.bc;this.Pi=a.t;this.yh=a.px;this.zh=a.py;this.opacity=a.o;this.Yg=a.zr;var m=a.fx;a=0;for(b=m.length;a<b;a++)if(d=this.yp(m[a].name))d.Td=m[a].active,this.Hb[d.index]=m[a].params;this.Wg();this.A.sort(c);this.Qd=q};cb=b})();
(function(){function a(a,c){var b,d=a.length;switch(d){case 0:return q;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<d;b++)if(a[b]!==c[b])return u;return q}}function b(a,c){return a.index-c.index}function c(c){var d,h,e,f;2===c.length?c[0].index>c[1].index&&(d=c[0],c[0]=c[1],c[1]=d):2<c.length&&c.sort(b);c.length>=x.length&&(x.length=c.length+1);x[c.length]||(x[c.length]=[]);f=x[c.length];d=0;for(h=f.length;d<h;d++)if(e=f[d],a(c,e))return e;f.push(c);return c}
function d(a,c){this.c=a;this.Hv={};this.xt={};this.Ep=u;this.Pt=new Na;this.name=c[0];var b=c[1];this.mh=[];var d,h;d=0;for(h=b.length;d<h;d++)this.St(b[d],r,this.mh)}function e(a){this.type=a;this.A=[];this.jb=[];this.Bb=q}function g(a,c,b){this.sheet=a;this.parent=c;this.c=a.c;this.Tb=[];this.Gh=[];this.Nt=this.$n=this.Br=this.Jp=this.group=this.xv=u;this.Xb=[];this.cf=[];this.Qe=[];b[1]?(this.Kk=b[1][1].toLowerCase(),this.group=q,this.Jp=!!b[1][0],this.c.Zi.push(this),this.c.lm[this.Kk.toLowerCase()]=
this.Jp):(this.Kk="",this.Jp=this.group=u);this.$f=b[2];this.Ia=b[3];this.group||(this.c.Vs[this.Ia.toString()]=this);var d=b[4];a=0;for(c=d.length;a<c;a++){var h=new db(this,d[a]);this.Xb.push(h);this.Js(h.type)}d=b[5];a=0;for(c=d.length;a<c;a++)h=new hb(this,d[a]),this.cf.push(h);if(7===b.length){b=b[6];a=0;for(c=b.length;a<c;a++)this.sheet.St(b[a],this,this.Qe)}this.dn=u;this.Xb.length&&(this.dn=this.Xb[0].type==r&&this.Xb[0].$b==zb.prototype.U.ew)}function f(a,c){var b,d,h;if(a&&(-1===c.indexOf(a)&&
c.push(a),a.$d)){b=0;for(d=a.qd.length;b<d;b++)h=a.qd[b],a!==h&&-1===c.indexOf(h)&&c.push(h)}}function m(a,c){this.qe=a;this.sheet=a.sheet;this.c=a.c;this.da=[];this.ya=[];this.xa={};this.$b=c[1];this.trigger=0<c[3];this.wt=2===c[3];this.Eg=c[4];this.Pk=c[5];this.yz=c[6];this.Ia=c[7];this.c.bj[this.Ia.toString()]=this;-1===c[0]?(this.type=r,this.pc=this.kr,this.hi=r,this.Gc=-1):(this.type=this.c.V[c[0]],this.pc=this.yz?this.GA:this.jr,c[2]?(this.hi=this.type.Qm(c[2]),this.Gc=this.type.xp(c[2])):(this.hi=
r,this.Gc=-1),this.qe.parent&&this.qe.parent.Wn());this.wt&&(this.pc=this.HA);if(9===c.length){var b,d,h=c[8];b=0;for(d=h.length;b<d;b++){var e=new ib(this,h[b]);this.da.push(e)}this.ya.length=h.length}}function k(a,c){this.qe=a;this.sheet=a.sheet;this.c=a.c;this.da=[];this.ya=[];this.xa={};this.$b=c[1];-1===c[0]?(this.type=r,this.pc=this.kr,this.hi=r,this.Gc=-1):(this.type=this.c.V[c[0]],this.pc=this.jr,c[2]?(this.hi=this.type.Qm(c[2]),this.Gc=this.type.xp(c[2])):(this.hi=r,this.Gc=-1));this.Ia=
c[3];this.c.Yi[this.Ia.toString()]=this;if(5===c.length){var b,d,h=c[4];b=0;for(d=h.length;b<d;b++){var e=new ib(this,h[b]);this.da.push(e)}this.ya.length=h.length}}function l(a,c){this.ga=a;this.qe=a.qe;this.sheet=a.sheet;this.c=a.c;this.type=c[0];this.Kf=r;this.gt=this.Hh=0;this.fb=r;this.key=0;this.object=r;this.index=0;this.io=this.Qj=this.yt=this.qi=this.Ml=r;var b,d,h;switch(c[0]){case 0:case 7:this.Kf=new jb(this,c[1]);this.Hh=0;this.get=this.bz;break;case 1:this.Kf=new jb(this,c[1]);this.Hh=
0;this.get=this.cz;break;case 5:this.Kf=new jb(this,c[1]);this.Hh=0;this.get=this.gz;break;case 3:case 8:this.gt=c[1];this.get=this.$y;break;case 6:this.fb=this.c.cq[c[1]];this.get=this.hz;break;case 9:this.key=c[1];this.get=this.fz;break;case 4:this.object=this.c.V[c[1]];this.get=this.iz;this.qe.Js(this.object);this.ga instanceof hb?this.qe.Wn():this.qe.parent&&this.qe.parent.Wn();break;case 10:this.index=c[1];this.get=a.type.Ha?this.dz:this.ez;break;case 11:this.Ml=c[1];this.qi=r;this.get=this.az;
break;case 2:case 12:this.yt=c[1];this.get=this.Zy;break;case 13:this.get=this.jz;this.Qj=[];this.io=[];b=1;for(d=c.length;b<d;b++)h=new ib(this.ga,c[b]),this.Qj.push(h),this.io.push(0)}}function h(a,c,b){this.sheet=a;this.parent=c;this.c=a.c;this.Tb=[];this.name=b[1];this.uD=b[2];this.Ip=b[3];this.Vk=!!b[4];this.cn=!!b[5];this.Ia=b[6];this.c.Tj[this.Ia.toString()]=this;this.data=this.Ip;this.parent?this.Ai=this.Vk||this.cn?-1:this.c.QA++:(this.Ai=-1,this.c.qx.push(this))}function n(a,c,b){this.sheet=
a;this.parent=c;this.c=a.c;this.Tb=[];this.Nk=r;this.nz=b[1]}function s(){this.Av=[];this.reset(r)}var x=[];d.prototype.toString=A("name");d.prototype.St=function(a,c,b){switch(a[0]){case 0:a=new kb(this,c,a);if(a.$f){b.push(a);b=0;for(c=a.Xb.length;b<c;b++)a.Xb[b].trigger&&this.Tt(a,b)}else a.Zt()?this.Tt(a,0):b.push(a);break;case 1:a=new $a(this,c,a);b.push(a);break;case 2:a=new lb(this,c,a),b.push(a)}};d.prototype.Sb=function(){var a,c;a=0;for(c=this.mh.length;a<c;a++)this.mh[a].Sb(a<c-1&&this.mh[a+
1].dn)};d.prototype.pc=function(){this.Ep=q;this.c.Np=q;var a,c;a=0;for(c=this.mh.length;a<c;a++){var b=this.mh[a];b.pc();this.c.Xo(b.Tb);(!this.c.Hf.Qk()||this.c.Gf.length)&&this.c.Kc()}this.c.Np=u};d.prototype.Tt=function(a,c){a.$f||this.c.eo.push(a);var b,d,h=a.Xb[c],e;e=h.type?h.type.name:"system";var f=(b=h.wt)?this.xt:this.Hv;f[e]||(f[e]=[]);e=f[e];f=h.$b;if(b){if(h.da.length&&(h=h.da[0],!(1!==h.type||2!==h.Kf.type))){h=h.Kf.value.toLowerCase();b=0;for(d=e.length;b<d;b++)if(e[b].method==f){b=
e[b].Im;b[h]?b[h].push([a,c]):b[h]=[[a,c]];return}b={};b[h]=[[a,c]];e.push({method:f,Im:b})}}else{b=0;for(d=e.length;b<d;b++)if(e[b].method==f){e[b].Im.push([a,c]);return}e.push({method:f,Im:[[a,c]]})}};Ya=d;e.prototype.Dp=function(){return this.Bb?this.type.A.length:this.A.length};e.prototype.Of=function(){return this.Bb?this.type.A:this.A};e.prototype.wl=function(a){a&&(a.c.Xd().ff.$f?(this.Bb&&(this.A.length=0,ta(this.jb,a.type.A),this.Bb=u),a=this.jb.indexOf(a),-1!==a&&(this.A.push(this.jb[a]),
this.jb.splice(a,1))):(this.Bb=u,this.A.length=1,this.A[0]=a))};Wa=e;g.prototype.Sb=function(a){var b,d=this.parent;if(this.group)for(this.$n=q;d;){if(!d.group){this.$n=u;break}d=d.parent}this.Br=!this.Zt()&&(!this.parent||this.parent.group&&this.parent.$n);this.Nt=!!a;this.Gh=this.Tb.slice(0);for(d=this.parent;d;){a=0;for(b=d.Tb.length;a<b;a++)this.nx(d.Tb[a]);d=d.parent}this.Tb=c(this.Tb);this.Gh=c(this.Gh);a=0;for(b=this.Xb.length;a<b;a++)this.Xb[a].Sb();a=0;for(b=this.cf.length;a<b;a++)this.cf[a].Sb();
a=0;for(b=this.Qe.length;a<b;a++)this.Qe[a].Sb(a<b-1&&this.Qe[a+1].dn)};g.prototype.Js=function(a){f(a,this.Tb)};g.prototype.nx=function(a){f(a,this.Gh)};g.prototype.Wn=function(){this.xv=q;this.parent&&this.parent.Wn()};g.prototype.Zt=function(){return this.Xb.length?this.Xb[0].trigger:u};g.prototype.pc=function(){var a,c=u,b=this.c.Xd();b.ff=this;this.dn||(b.lp=u);if(this.$f){0===this.Xb.length&&(c=q);b.nd=0;for(a=this.Xb.length;b.nd<a;b.nd++)this.Xb[b.nd].trigger||this.Xb[b.nd].pc()&&(c=q);(b.qj=
c)&&this.ir()}else{b.nd=0;for(a=this.Xb.length;b.nd<a;b.nd++)if(!this.Xb[b.nd].pc()){b.qj=u;this.Br&&(!this.c.Hf.Qk()||this.c.Gf.length)&&this.c.Kc();return}b.qj=q;this.ir()}b.qj&&this.Nt&&(b.lp=q);this.Br&&(!this.c.Hf.Qk()||this.c.Gf.length)&&this.c.Kc()};g.prototype.EA=function(a){this.c.Xd().ff=this;this.Xb[a].pc()&&this.ir()};g.prototype.ir=function(){var a=this.c.Xd(),c;a.oe=0;for(c=this.cf.length;a.oe<c;a.oe++)if(this.cf[a.oe].pc())return;this.jv()};g.prototype.BA=function(){var a=this.c.Xd(),
c;for(c=this.cf.length;a.oe<c;a.oe++)if(this.cf[a.oe].pc())return;this.jv()};g.prototype.jv=function(){if(this.Qe.length){var a,c,b,d,h=this.Qe.length-1;this.c.Zq(this);if(this.xv){a=0;for(c=this.Qe.length;a<c;a++)b=this.Qe[a],(d=!this.$n||!this.group&&a<h)&&this.c.Yq(b.Tb),b.pc(),d?this.c.Nj(b.Tb):this.c.Xo(b.Tb)}else{a=0;for(c=this.Qe.length;a<c;a++)this.Qe[a].pc()}this.c.Vu()}};g.prototype.FA=function(){var a=this.c.Xd();a.ff=this;var c=u,b;a.nd=0;for(b=this.Xb.length;a.nd<b;a.nd++)if(this.Xb[a.nd].pc())c=
q;else if(!this.$f)return u;return this.$f?c:q};kb=g;m.prototype.Sb=function(){var a,c;a=0;for(c=this.da.length;a<c;a++)this.da[a].Sb()};m.prototype.HA=C(q);m.prototype.kr=function(){var a,c;a=0;for(c=this.da.length;a<c;a++)this.ya[a]=this.da[a].get();return Ha(this.$b.apply(this.c.fg,this.ya),this.Pk)};m.prototype.GA=function(){var a,c;a=0;for(c=this.da.length;a<c;a++)this.ya[a]=this.da[a].get(a);a=this.$b.apply(this.hi?this.hi:this.type,this.ya);this.type.sk();return a};m.prototype.jr=function(){var a,
c,b,d,h,e,f,k=this.type.lb(),g=this.qe.$f&&!this.trigger,l=0,n=this.type.$d;if(k.Bb){k.A.length=0;a=k.jb.length=0;for(b=this.type.A.length;a<b;a++){e=this.type.A[a];c=0;for(d=this.da.length;c<d;c++)this.ya[c]=this.da[c].get(a);-1<this.Gc?(this.type.Ha&&(l=e.type.ej[this.type.Lf]),c=this.$b.apply(e.La[this.Gc+l],this.ya)):c=this.$b.apply(e,this.ya);(h=Ha(c,this.Pk))?k.A.push(e):g&&k.jb.push(e)}this.type.finish&&this.type.finish(q);k.Bb=u;this.type.sk();return k.Dp()}var m=0,s=g?k.jb:k.A;h=u;a=0;for(b=
s.length;a<b;a++){e=s[a];c=0;for(d=this.da.length;c<d;c++)this.ya[c]=this.da[c].get(a);-1<this.Gc?(this.type.Ha&&(l=e.type.ej[this.type.Lf]),c=this.$b.apply(e.La[this.Gc+l],this.ya)):c=this.$b.apply(e,this.ya);if(Ha(c,this.Pk))if(h=q,g){if(k.A.push(e),n){c=0;for(d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.lb().A.push(f)}}else{s[m]=e;if(n){c=0;for(d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.lb().A[m]=f}m++}else if(g){s[m]=e;if(n){c=0;for(d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.lb().jb[m]=
f}m++}}s.length=m;if(n){a=0;for(b=this.type.qd.length;a<b;a++)e=this.type.qd[a].lb(),g?e.jb.length=m:e.A.length=m}l=h;if(g&&!h){a=0;for(b=k.A.length;a<b;a++){e=k.A[a];c=0;for(d=this.da.length;c<d;c++)this.ya[c]=this.da[c].get(a);c=-1<this.Gc?this.$b.apply(e.La[this.Gc],this.ya):this.$b.apply(e,this.ya);if(Ha(c,this.Pk)){h=q;break}}}this.type.finish&&this.type.finish(l||g);return g?h:k.Dp()};db=m;k.prototype.Sb=function(){var a,c;a=0;for(c=this.da.length;a<c;a++)this.da[a].Sb()};k.prototype.kr=function(){var a,
c;a=0;for(c=this.da.length;a<c;a++)this.ya[a]=this.da[a].get();return this.$b.apply(this.c.fg,this.ya)};k.prototype.jr=function(){var a=this.type.lb().Of(),c,b,d,h,e;c=0;for(d=a.length;c<d;c++){e=a[c];b=0;for(h=this.da.length;b<h;b++)this.ya[b]=this.da[b].get(c);-1<this.Gc?(b=0,this.type.Ha&&(b=e.type.ej[this.type.Lf]),this.$b.apply(e.La[this.Gc+b],this.ya)):this.$b.apply(e,this.ya)}return u};hb=k;var v=[],t=-1;l.prototype.Sb=function(){var a,c;if(11===this.type)this.qi=this.c.Ft(this.Ml,this.qe.parent);
else if(13===this.type){a=0;for(c=this.Qj.length;a<c;a++)this.Qj[a].Sb()}this.Kf&&this.Kf.Sb()};l.prototype.oc=function(){t++;v.length===t&&v.push(new mb);return v[t]};l.prototype.cc=function(){t--};l.prototype.bz=function(a){this.Hh=a||0;a=this.oc();this.Kf.get(a);this.cc();return a.data};l.prototype.cz=function(a){this.Hh=a||0;a=this.oc();this.Kf.get(a);this.cc();return ha(a.data)?a.data:""};l.prototype.iz=A("object");l.prototype.$y=A("gt");l.prototype.gz=function(a){this.Hh=a||0;a=this.oc();this.Kf.get(a);
this.cc();return a.zc()?this.c.Hk(a.data):this.c.Ap(a.data)};l.prototype.hz=A("fb");l.prototype.fz=A("key");l.prototype.ez=A("index");l.prototype.dz=function(a){var c=this.ga.type,b=r,b=c.lb(),d=b.Of(),b=d.length?d[a%d.length].type:b.jb[a%b.jb.length].type;return this.index+b.Km[c.Lf]};l.prototype.az=A("qi");l.prototype.Zy=A("yt");l.prototype.jz=function(){var a,c;a=0;for(c=this.Qj.length;a<c;a++)this.io[a]=this.Qj[a].get();return this.io};ib=l;h.prototype.Sb=function(){this.Tb=c(this.Tb)};h.prototype.NA=
function(a){var c=this.c.Dt();!this.parent||this.Vk||!c?this.data=a:(this.Ai>=c.length&&(c.length=this.Ai+1),c[this.Ai]=a)};h.prototype.Yy=function(){var a=this.c.Dt();return!this.parent||this.Vk||!a||this.cn?this.data:this.Ai>=a.length||"undefined"===typeof a[this.Ai]?this.Ip:a[this.Ai]};h.prototype.pc=function(){this.parent&&(!this.Vk&&!this.cn)&&this.NA(this.Ip)};$a=h;n.prototype.toString=function(){return"include:"+this.Nk.toString()};n.prototype.Sb=function(){this.Nk=this.c.np[this.nz];this.sheet.Pt.add(this);
this.Tb=c(this.Tb)};n.prototype.pc=function(){this.parent&&this.c.zl(this.c.V);this.Nk.Ep||this.Nk.pc();this.parent&&this.c.Nj(this.c.V)};n.prototype.qz=function(){for(var a=this.parent;a;){if(a.group&&!this.c.lm[a.Kk.toLowerCase()])return u;a=a.parent}return q};lb=n;s.prototype.reset=function(a){this.ff=a;this.oe=this.nd=0;this.Av.length=0;this.lp=this.qj=u};Za=s})();
(function(){function a(a,b){this.ga=a;this.c=a.c;this.type=b[0];this.get=[this.qy,this.ly,this.Ay,this.Dy,this.fy,this.By,this.wy,this.iy,this.uy,this.zy,this.gy,this.yy,this.jy,this.xy,this.ry,this.ty,this.my,this.ny,this.hy,this.Cy,this.tt,this.oy,this.tt,this.ky][this.type];var e=r;this.Jd=this.da=this.ya=this.$b=this.Zn=this.Cc=this.first=this.value=r;this.Gc=-1;this.zg=r;this.Hr=-1;this.qi=this.Ml=this.wx=r;this.Al=u;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new jb(a,b[1]);break;case 18:this.first=new jb(a,b[1]);this.Cc=new jb(a,b[2]);this.Zn=new jb(a,b[3]);break;case 19:this.$b=b[1];this.ya=[];this.da=[];3===b.length?(e=b[2],this.ya.length=e.length+1):this.ya.length=1;break;case 20:this.Jd=this.c.V[b[1]];this.Gc=-1;this.$b=b[2];this.Al=b[3];this.zg=b[4]?new jb(a,b[4]):r;this.ya=[];this.da=[];6===b.length?(e=b[5],this.ya.length=e.length+1):this.ya.length=1;break;case 21:this.Jd=this.c.V[b[1]];this.Al=b[2];this.zg=b[3]?new jb(a,b[3]):r;this.Hr=b[4];break;
case 22:this.Jd=this.c.V[b[1]];this.wx=this.Jd.Qm(b[2]);this.Gc=this.Jd.xp(b[2]);this.$b=b[3];this.Al=b[4];this.zg=b[5]?new jb(a,b[5]):r;this.ya=[];this.da=[];7===b.length?(e=b[6],this.ya.length=e.length+1):this.ya.length=1;break;case 23:this.Ml=b[1],this.qi=r}4<=this.type&&17>=this.type&&(this.first=new jb(a,b[1]),this.Cc=new jb(a,b[2]));if(e){var g,f;g=0;for(f=e.length;g<f;g++)this.da.push(new jb(a,e[g]))}}function b(a,b){this.type=a||nb.fk;this.data=b||0;this.Hj=r;this.type==nb.fk&&(this.data=
Math.floor(this.data))}a.prototype.Sb=function(){23===this.type&&(this.qi=this.ga.c.Ft(this.Ml,this.ga.qe.parent));this.first&&this.first.Sb();this.Cc&&this.Cc.Sb();this.Zn&&this.Zn.Sb();this.zg&&this.zg.Sb();if(this.da){var a,b;a=0;for(b=this.da.length;a<b;a++)this.da[a].Sb()}};a.prototype.Cy=function(a){this.ya[0]=a;a=this.ga.oc();var b,e;b=0;for(e=this.da.length;b<e;b++)this.da[b].get(a),this.ya[b+1]=a.data;this.ga.cc();this.$b.apply(this.c.fg,this.ya)};a.prototype.tt=function(a){var b=this.Jd.lb(),
e=b.Of();if(!e.length)if(b.jb.length)e=b.jb;else{this.Al?a.xf(""):a.rb(0);return}this.ya[0]=a;a.Hj=this.Jd;a=this.ga.oc();var g,b=0;for(g=this.da.length;b<g;b++)this.da[b].get(a),this.ya[b+1]=a.data;b=this.ga.Hh;this.zg&&(this.zg.get(a),a.zc()&&(b=a.data,e=this.Jd.A));this.ga.cc();b%=e.length;0>b&&(b+=e.length);e=e[b];-1<this.Gc?(a=0,this.Jd.Ha&&(a=e.type.ej[this.Jd.Lf]),this.$b.apply(e.La[this.Gc+a],this.ya)):this.$b.apply(e,this.ya)};a.prototype.oy=function(a){var b=this.Jd.lb(),e=b.Of();if(!e.length)if(b.jb.length)e=
b.jb;else{this.Al?a.xf(""):a.rb(0);return}b=this.ga.Hh;if(this.zg){var g=this.ga.oc();this.zg.get(g);if(g.zc()){b=g.data;e=this.Jd.A;b%=e.length;0>b&&(b+=e.length);e=e[b].yc[this.Hr];ha(e)?a.xf(e):a.ha(e);this.ga.cc();return}this.ga.cc()}b%=e.length;0>b&&(b+=e.length);e=e[b];b=0;this.Jd.Ha&&(b=e.type.Km[this.Jd.Lf]);e=e.yc[this.Hr+b];ha(e)?a.xf(e):a.ha(e)};a.prototype.qy=function(a){a.type=nb.fk;a.data=this.value};a.prototype.ly=function(a){a.type=nb.ak;a.data=this.value};a.prototype.Ay=function(a){a.type=
nb.Lo;a.data=this.value};a.prototype.Dy=function(a){this.first.get(a);a.zc()&&(a.data=-a.data)};a.prototype.fy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.zc()&&b.zc()&&(a.data+=b.data,b.lj()&&a.Fj());this.ga.cc()};a.prototype.By=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.zc()&&b.zc()&&(a.data-=b.data,b.lj()&&a.Fj());this.ga.cc()};a.prototype.wy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.zc()&&b.zc()&&(a.data*=b.data,b.lj()&&a.Fj());
this.ga.cc()};a.prototype.iy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.zc()&&b.zc()&&(a.data/=b.data,a.Fj());this.ga.cc()};a.prototype.uy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.zc()&&b.zc()&&(a.data%=b.data,b.lj()&&a.Fj());this.ga.cc()};a.prototype.zy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.zc()&&b.zc()&&(a.data=Math.pow(a.data,b.data),b.lj()&&a.Fj());this.ga.cc()};a.prototype.gy=function(a){this.first.get(a);var b=this.ga.oc();
this.Cc.get(b);a.zc()?b.en()?a.xf(a.data.toString()+b.data):a.data&&b.data?a.rb(1):a.rb(0):a.en()&&(a.data=b.en()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.ga.cc()};a.prototype.yy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.zc()&&b.zc()&&(a.data||b.data?a.rb(1):a.rb(0));this.ga.cc()};a.prototype.hy=function(a){this.first.get(a);a.data?this.Cc.get(a):this.Zn.get(a)};a.prototype.jy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.rb(a.data===
b.data?1:0);this.ga.cc()};a.prototype.xy=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.rb(a.data!==b.data?1:0);this.ga.cc()};a.prototype.ry=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.rb(a.data<b.data?1:0);this.ga.cc()};a.prototype.ty=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.rb(a.data<=b.data?1:0);this.ga.cc()};a.prototype.my=function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.rb(a.data>b.data?1:0);this.ga.cc()};a.prototype.ny=
function(a){this.first.get(a);var b=this.ga.oc();this.Cc.get(b);a.rb(a.data>=b.data?1:0);this.ga.cc()};a.prototype.ky=function(a){var b=this.qi.Yy();ga(b)?a.ha(b):a.xf(b)};jb=a;b.prototype.lj=function(){return this.type===nb.ak};b.prototype.zc=function(){return this.type===nb.fk||this.type===nb.ak};b.prototype.en=function(){return this.type===nb.Lo};b.prototype.Fj=function(){this.lj()||(this.en()&&(this.data=parseFloat(this.data)),this.type=nb.ak)};b.prototype.rb=function(a){this.type=nb.fk;this.data=
Math.floor(a)};b.prototype.ha=function(a){this.type=nb.ak;this.data=a};b.prototype.xf=function(a){this.type=nb.Lo;this.data=a};mb=b;nb={fk:0,ak:1,Lo:2}})();function zb(a){this.c=a;this.Pd=[]}
zb.prototype.Nd=function(){var a={},b,c,d,e,g,f,m,k;a.waits=[];var l=a.waits,h;b=0;for(c=this.Pd.length;b<c;b++){f=this.Pd[b];h={t:f.time,ev:f.Ak.Ia,sm:[],sols:{}};f.Ak.cf[f.oe]&&(h.act=f.Ak.cf[f.oe].Ia);d=0;for(e=f.Tb.length;d<e;d++)h.sm.push(f.Tb[d].Ia);for(g in f.Od)if(f.Od.hasOwnProperty(g)){m=this.c.V[parseInt(g,10)];k={sa:f.Od[g].mv,insts:[]};d=0;for(e=f.Od[g].vi.length;d<e;d++)k.insts.push(f.Od[g].vi[d].uid);h.sols[m.Ia.toString()]=k}l.push(h)}return a};
zb.prototype.Ge=function(a){a=a.waits;var b,c,d,e,g,f,m,k,l,h,n;b=this.Pd.length=0;for(c=a.length;b<c;b++)if(f=a[b],k=this.c.Vs[f.ev.toString()]){l=-1;d=0;for(e=k.cf.length;d<e;d++)if(k.cf[d].Ia===f.act){l=d;break}if(-1!==l){m={Od:{},Tb:[],pt:u};m.time=f.t;m.Ak=k;m.oe=l;d=0;for(e=f.sm.length;d<e;d++)(k=this.c.Vm(f.sm[d]))&&m.Tb.push(k);for(g in f.sols)if(f.sols.hasOwnProperty(g)&&(k=this.c.Vm(parseInt(g,10)))){l=f.sols[g];h={mv:l.sa,vi:[]};d=0;for(e=l.insts.length;d<e;d++)(n=this.c.ri(l.insts[d]))&&
h.vi.push(n);m.Od[k.index.toString()]=h}this.Pd.push(m)}}};
(function(){function a(){}function b(){}function c(){}var d=zb.prototype;a.prototype.Cw=C(q);a.prototype.Bw=C(q);a.prototype.ew=function(){var a=this.c.Xd();return a.lp?u:!a.qj};a.prototype.es=C(q);a.prototype.tw=C(q);a.prototype.Co=C(q);a.prototype.Dw=C(q);a.prototype.Bo=C(q);d.U=new a;b.prototype.cw=function(a,b,c,d){if(b&&a&&(b=this.c.kt(a,b,c,d))){this.c.jf++;var h;this.c.trigger(Object.getPrototypeOf(a.Mb).U.zo,b);if(b.$d){c=0;for(d=b.siblings.length;c<d;c++)h=b.siblings[c],this.c.trigger(Object.getPrototypeOf(h.type.Mb).U.zo,
h)}this.c.jf--;a=a.lb();a.Bb=u;a.A.length=1;a.A[0]=b;if(b.$d){c=0;for(d=b.siblings.length;c<d;c++)h=b.siblings[c],a=h.type.lb(),a.Bb=u,a.A.length=1,a.A[0]=h}}};var e=[],g=[];d.pe=new b;c.prototype["int"]=function(a,b){ha(b)?(a.rb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.rb(b)};c.prototype["float"]=function(a,b){ha(b)?(a.ha(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ha(b)};c.prototype.random=function(a,b,c){c===p?a.ha(Math.random()*b):a.ha(Math.random()*(c-b)+b)};c.prototype.sqrt=function(a,b){a.ha(Math.sqrt(b))};
c.prototype.abs=function(a,b){a.ha(Math.abs(b))};c.prototype.round=function(a,b){a.rb(Math.round(b))};c.prototype.floor=function(a,b){a.rb(Math.floor(b))};c.prototype.ceil=function(a,b){a.rb(Math.ceil(b))};c.prototype.sin=function(a,b){a.ha(Math.sin(M(b)))};c.prototype.cos=function(a,b){a.ha(Math.cos(M(b)))};c.prototype.tan=function(a,b){a.ha(Math.tan(M(b)))};c.prototype.asin=function(a,b){a.ha(va(Math.asin(b)))};c.prototype.acos=function(a,b){a.ha(va(Math.acos(b)))};c.prototype.exp=function(a,b){a.ha(Math.exp(b))};
c.prototype.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.ha(b)};c.prototype.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.ha(b)};c.prototype.ua=function(a){a.ha(this.c.ua)};c.prototype.Ug=function(a){a.ha(this.c.Ug)};c.prototype.time=function(a){a.ha(this.c.kf.je)};c.prototype.Mh=function(a){a.rb(this.c.Mh)};c.prototype.Hn=function(a){a.rb(this.c.Hn)};c.prototype.up=function(a){a.rb(this.c.up)};
c.prototype.xg=function(a,b,c,d,h){a.ha(Ga(b,c,d,h))};c.prototype.O=function(a,b,c,d,h){a.ha(va(Ba(b,c,d,h)))};c.prototype.left=function(a,b,c){a.xf(ha(b)?b.substr(0,c):"")};c.prototype.right=function(a,b,c){a.xf(ha(b)?b.substr(b.length-c):"")};c.prototype.replace=function(a,b,c,d){ha(b)&&ha(c)&&ha(d)?a.xf(b.replace(RegExp(Pa(c),"gi"),d)):a.xf(ha(b)?b:"")};c.prototype.cp=function(a){a.ha(this.c.cp/1E3)};c.prototype.sj=function(a){a.ha(this.c.sj)};d.Vd=new c;d.DA=function(){var a,b,c,d,h,n,s=this.c.Xd();
a=0;for(c=this.Pd.length;a<c;a++)if(d=this.Pd[a],!(d.time>this.c.kf.je)){s.ff=d.Ak;s.oe=d.oe;s.nd=0;for(b in d.Od)d.Od.hasOwnProperty(b)&&(h=this.c.V[parseInt(b,10)].lb(),n=d.Od[b],h.Bb=n.mv,ta(h.A,n.vi),h=n,h.vi.length=0,g.push(h));d.Ak.BA();this.c.Xo(d.Tb);d.pt=q}b=a=0;for(c=this.Pd.length;a<c;a++)d=this.Pd[a],this.Pd[b]=d,d.pt?(La(d.Od),d.Tb.length=0,e.push(d)):b++;this.Pd.length=b}})();
function Ab(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],g=a[5],f=a[6],m=a[7];a=a[8];b.U||(b.U={});b.pe||(b.pe={});b.Vd||(b.Vd={});var k=b.U,l=b.pe,b=b.Vd;d&&(k.yB=function(a,b){return Vb(this.x,a,b)},k.zB=function(a,b){return Vb(this.y,a,b)},k.JB=function(){var a=this.S;this.jd();var b=this.Wa;return!(b.right<a.Ue||b.bottom<a.We||b.left>a.Ve||b.top>a.Te)},k.KB=function(){this.jd();var a=this.Wa,b=this.c.ab;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.ZB=function(a,b,c){var d=this.lb(),
e=d.Of();if(!e.length)return u;var f=e[0],k=f,g=Ga(f.x,f.y,b,c),l,m,H;l=1;for(m=e.length;l<m;l++)if(f=e[l],H=Ga(f.x,f.y,b,c),0===a&&H<g||1===a&&H>g)g=H,k=f;d.wl(k);return q},l.uC=function(a){this.x!==a&&(this.x=a,this.ec())},l.vC=function(a){this.y!==a&&(this.y=a,this.ec())},l.oC=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ec()},l.pC=function(a,b){var c=a.Uy(this);if(c){var d;c.Nf?(d=c.Nf(b,q),c=c.Nf(b,u)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ec()}},l.RB=
function(a){0!==a&&(this.x+=Math.cos(this.O)*a,this.y+=Math.sin(this.O)*a,this.ec())},l.QB=function(a,b){0!==b&&(this.x+=Math.cos(M(a))*b,this.y+=Math.sin(M(a))*b,this.ec())},b.Bs=function(a){a.ha(this.x)},b.Cs=function(a){a.ha(this.y)},b.ua=function(a){a.ha(this.c.Et(this))});e&&(k.xB=function(a,b){return Vb(this.width,a,b)},k.uB=function(a,b){return Vb(this.height,a,b)},l.tC=function(a){this.width!==a&&(this.width=a,this.ec())},l.lC=function(a){this.height!==a&&(this.height=a,this.ec())},l.qC=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ec()},b.AC=function(a){a.ha(this.width)},b.CB=function(a){a.ha(this.height)},b.qB=function(a){this.jd();a.ha(this.Wa.left)},b.sB=function(a){this.jd();a.ha(this.Wa.top)},b.rB=function(a){this.jd();a.ha(this.Wa.right)},b.pB=function(a){this.jd();a.ha(this.Wa.bottom)});g&&(k.jB=function(a,b){return Ca(this.O,M(b))<=M(a)},k.HB=function(a){return Ea(this.O,M(a))},k.EB=function(a,b){var c=Aa(a),d=Aa(b),e=ya(this.O);return Ea(d,c)?Ea(e,
c)&&!Ea(e,d):!(!Ea(e,c)&&Ea(e,d))},l.hm=function(a){a=M(wa(a));!isNaN(a)&&this.O!==a&&(this.O=a,this.ec())},l.eC=function(a){0!==a&&!isNaN(a)&&(this.O+=M(a),this.O=ya(this.O),this.ec())},l.fC=function(a){0!==a&&!isNaN(a)&&(this.O-=M(a),this.O=ya(this.O),this.ec())},l.gC=function(a,b){var c=Da(this.O,M(b),M(a));!isNaN(c)&&this.O!==c&&(this.O=c,this.ec())},l.hC=function(a,b,c){a=Da(this.O,Math.atan2(c-this.y,b-this.x),M(a));!isNaN(a)&&this.O!==a&&(this.O=a,this.ec())},l.rC=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);!isNaN(c)&&this.O!==c&&(this.O=c,this.ec())},b.iB=function(a){a.ha(za(this.O))});c||(k.vB=function(a,b,c){return Vb(this.yc[a],b,c)},k.GB=function(a){return this.yc[a]},k.$B=function(a,b){var c=this.lb(),d=c.Of();if(!d.length)return u;var e=d[0],f=e,k=e.yc[b],g,l,m;g=1;for(l=d.length;g<l;g++)if(e=d[g],m=e.yc[b],0===a&&m<k||1===a&&m>k)k=m,f=e;c.wl(f);return q},k.YB=function(a){var b,c,d,e,f;if(this.c.Oy().Pk){f=this.lb();if(f.Bb){f.Bb=u;f.A.length=0;f.jb.length=0;d=this.A;b=0;for(c=
d.length;b<c;b++)e=d[b],e.uid===a?f.jb.push(e):f.A.push(e)}else{d=b=0;for(c=f.A.length;b<c;b++)e=f.A[b],f.A[d]=e,e.uid===a?f.jb.push(e):d++;f.A.length=d}return!!f.A.length}e=this.c.ri(a);if(!e)return u;f=this.lb();if(!f.Bb&&-1===f.A.indexOf(e))return u;if(this.Ha){a=e.type.kb;b=0;for(c=a.length;b<c;b++)if(a[b]===this)return f.wl(e),q}else if(e.type===this)return f.wl(e),q;return u},k.zo=C(q),k.uw=C(q),l.mC=function(a,b){var c=this.yc;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):ha(c[a])&&(c[a]=ha(b)?b:b.toString())},
l.hB=function(a,b){var c=this.yc;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):ha(c[a])&&(c[a]=ha(b)?c[a]+b:c[a]+b.toString())},l.wC=function(a,b){var c=this.yc;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},l.iC=function(a,b){this.yc[a]=b?1:0},l.yC=function(a){this.yc[a]=1-this.yc[a]},l.kd=function(){this.c.Uh(this)},b.AB=function(a){var b=a.Hj.A.length,c,d,e;c=0;for(d=this.c.Gf.length;c<d;c++)e=this.c.Gf[c],a.Hj.Ha?0<=e.type.kb.indexOf(a.Hj)&&b++:e.type===a.Hj&&b++;a.rb(b)},b.bC=function(a){a.rb(a.Hj.lb().Of().length)},
b.zC=function(a){a.rb(this.uid)},b.DB=function(a){a.rb(this.Jk())});f&&(k.MB=A("visible"),l.sC=function(a){!a!==!this.visible&&(this.visible=a,this.c.qb=q)},k.wB=function(a,b){return Vb(Ta(100*this.opacity),a,b)},l.nC=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.c.qb=q)},b.Opacity=function(a){a.ha(Ta(100*this.opacity))});m&&(k.IB=function(a){return!a?u:this.S===a},k.aC=function(a){var b=this.lb(),c=b.Of();if(!c.length)return u;var d=c[0],e=d,f,k;f=1;for(k=c.length;f<
k;f++)if(d=c[f],0===a){if(d.S.index>e.S.index||d.S.index===e.S.index&&d.Zd()>e.Zd())e=d}else if(d.S.index<e.S.index||d.S.index===e.S.index&&d.Zd()<e.Zd())e=d;b.wl(e);return q},l.UB=function(){var a=this.Zd();a!==this.S.A.length-1&&(sa(this.S.A,a),this.S.A.push(this),this.c.qb=q,this.S.Qd=q)},l.SB=function(){var a=this.Zd();0!==a&&(sa(this.S.A,a),this.S.A.unshift(this),this.c.qb=q,this.S.Qd=q)},l.TB=function(a){a&&a!=this.S&&(sa(this.S.A,this.Zd()),this.S.Qd=q,this.S=a,this.Qi=a.A.length,a.A.push(this),
this.c.qb=q)},l.CC=function(a,b){var c=0===a;if(b){var d=b.Py(this);if(d&&d.uid!==this.uid){this.S.index!==d.S.index&&(sa(this.S.A,this.Zd()),this.S.Qd=q,this.S=d.S,this.Qi=d.S.A.length,d.S.A.push(this));var e=this.Zd(),d=d.Zd();sa(this.S.A,e);e<d&&d--;c&&d++;d===this.S.A.length?this.S.A.push(this):this.S.A.splice(d,0,this);this.S.Qd=q;this.c.qb=q}}},b.OB=function(a){a.rb(this.S.Fu)},b.NB=function(a){a.xf(this.S.name)},b.BC=function(a){a.rb(this.Zd())});a&&(l.jC=function(a,b){if(this.c.Ca){var c=
this.type.zp(b);if(!(0>c)){var d=1===a;this.eh[c]!==d&&(this.eh[c]=d,this.Wg(),this.c.qb=q)}}},l.kC=function(a,b,c){if(this.c.Ca){var d=this.type.zp(a);0>d||(a=this.type.ra[d],d=this.Hb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.c.Ca.Xy(a.Hc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Td&&(this.c.qb=q))))}})}function Pb(){this.So=q;this.c.qb=q;var a,b;a=0;for(b=this.nm.length;a<b;a++)this.nm[a](this)}function Qb(a){a&&this.nm.push(a)}
function Sb(){if(this.So){this.Wa.set(this.x,this.y,this.x+this.width,this.y+this.height);this.Wa.offset(-this.Fd*this.width,-this.Gd*this.height);this.O?(this.Wa.offset(-this.x,-this.y),this.Mc.tv(this.Wa,this.O),this.Mc.offset(this.x,this.y),this.Mc.Xs(this.Wa)):this.Mc.or(this.Wa);var a=0;this.Wa.left>this.Wa.right&&(a=this.Wa.left,this.Wa.left=this.Wa.right,this.Wa.right=a);this.Wa.top>this.Wa.bottom&&(a=this.Wa.top,this.Wa.top=this.Wa.bottom,this.Wa.bottom=a);this.So=u}}
function Rb(a,b){return!this.Wa.hh(a,b)||!this.Mc.hh(a,b)?u:this.od&&!this.od.Yt()?(this.od.at(this.width,this.height,this.O),this.od.hh(a-this.x,b-this.y)):q}function Nb(){this.type.fo();return this.Mk}function Tb(){this.S.aB();return this.Qi}function Ub(){this.Va.length=0;var a,b;a=0;for(b=this.eh.length;a<b;a++)this.eh[a]&&this.Va.push(this.type.ra[a]);this.Qv=!!this.Va.length}function Ob(){return"Inst"+this.bv}
function Cb(a){if(a&&a.$d&&a.type!=this){var b,c,d;b=0;for(c=a.siblings.length;b<c;b++)if(d=a.siblings[b],d.type==this)return d}a=this.lb().Of();return a.length?a[0]:r}function Db(a){var b=this.lb().Of();return b.length?b[a.Jk()%b.length]:r}function Bb(){if(this.Kh&&!this.Ha){var a,b;a=0;for(b=this.A.length;a<b;a++)this.A[a].Mk=a;this.Kh=u}}function Eb(){return this.Ih[this.wg]}function Fb(){this.wg++;this.wg===this.Ih.length?this.Ih.push(new Wa(this)):this.Ih[this.wg].Bb=q}
function Gb(){this.wg++;this.wg===this.Ih.length&&this.Ih.push(new Wa(this));var a=this.Ih[this.wg],b=this.Ih[this.wg-1];b.Bb?a.Bb=q:(a.Bb=u,ta(a.A,b.A))}function Hb(){this.wg--}function Ib(a){var b,c,d,e,g,f=0;if(!this.Ha){b=0;for(c=this.kb.length;b<c;b++){g=this.kb[b];d=0;for(e=g.Wb.length;d<e;d++){if(a===g.Wb[d].name)return this.xa.au=f,g.Wb[d];f++}}}b=0;for(c=this.Wb.length;b<c;b++){if(a===this.Wb[b].name)return this.xa.au=f,this.Wb[b];f++}return r}
function Jb(a){return this.Qm(a)?this.xa.au:-1}function Kb(a){var b,c;b=0;for(c=this.ra.length;b<c;b++)if(this.ra[b].name===a)return b;return-1}
function Lb(){if(this.$d&&!this.Ha){var a,b,c,d,e,g,f;this.fo();g=this.lb();var m=g.Bb,k=(a=this.c.Xd())&&a.ff&&a.ff.$f;a=0;for(b=this.qd.length;a<b;a++)if(e=this.qd[a],e!==this&&(e.fo(),f=e.lb(),f.Bb=m,!m)){f.A.length=g.A.length;c=0;for(d=g.A.length;c<d;c++)f.A[c]=e.A[g.A[c].Mk];if(k){f.jb.length=g.jb.length;c=0;for(d=g.jb.length;c<d;c++)f.jb[c]=e.A[g.jb[c].Mk]}}}}function Mb(){return"Type"+this.Ia}
function Vb(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return u;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return u}}var vb={};function Wb(a){this.c=a}
(function(){function a(a){0>a&&(a=0);1<a&&(a=1);return 20*(Math.log(a)/Math.log(10))}function b(a){a=a.toLowerCase();return ca.hasOwnProperty(a)&&ca[a].length?ca[a][0].Yd():O.destination}function c(){return O.createGain?O.createGain():O.createGainNode()}function d(a){return O.createDelay?O.createDelay(a):O.createDelayNode(a)}function e(a){a.start?a.start(0):a.noteOn(0)}function g(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function f(a){a.stop?a.stop(0):a.noteOff(0)}function m(a,b,d,h,e,f){this.type=
"filter";this.Lb=[a,b,d,h,e,f];this.Ma=c();this.qa=c();this.qa.gain.value=f;this.ma=c();this.ma.gain.value=1-f;this.Zb=O.createBiquadFilter();this.Zb.type="number"===typeof this.Zb.type?a:Me[a];this.Zb.frequency.value=b;this.Zb.detune&&(this.Zb.detune.value=d);this.Zb.Q.value=h;this.Zb.gain.value=e;this.Ma.connect(this.Zb);this.Ma.connect(this.ma);this.Zb.connect(this.qa)}function k(a,b,h){this.type="delay";this.Lb=[a,b,h];this.Ma=c();this.qa=c();this.qa.gain.value=h;this.ma=c();this.ma.gain.value=
1-h;this.ll=c();this.ze=d(a);this.ze.delayTime.value=a;this.Dm=c();this.Dm.gain.value=b;this.Ma.connect(this.ll);this.Ma.connect(this.ma);this.ll.connect(this.qa);this.ll.connect(this.ze);this.ze.connect(this.Dm);this.Dm.connect(this.ll)}function l(a,b,d,h){this.type="convolve";this.Lb=[b,d,h];this.Ma=c();this.qa=c();this.qa.gain.value=d;this.ma=c();this.ma.gain.value=1-d;this.li=O.createConvolver();a&&(this.li.normalize=b,this.li.buffer=a);this.Ma.connect(this.li);this.Ma.connect(this.ma);this.li.connect(this.qa)}
function h(a,b,h,f,k){this.type="flanger";this.Lb=[a,b,h,f,k];this.Ma=c();this.ma=c();this.ma.gain.value=1-k/2;this.qa=c();this.qa.gain.value=k/2;this.Lm=c();this.Lm.gain.value=f;this.ze=d(a+b);this.ze.delayTime.value=a;this.Bc=O.createOscillator();this.Bc.frequency.value=h;this.Md=c();this.Md.gain.value=b;this.Ma.connect(this.ze);this.Ma.connect(this.ma);this.ze.connect(this.qa);this.ze.connect(this.Lm);this.Lm.connect(this.ze);this.Bc.connect(this.Md);this.Md.connect(this.ze.delayTime);e(this.Bc)}
function n(a,b,d,h,f,k){this.type="phaser";this.Lb=[a,b,d,h,f,k];this.Ma=c();this.ma=c();this.ma.gain.value=1-k/2;this.qa=c();this.qa.gain.value=k/2;this.Zb=O.createBiquadFilter();this.Zb.type="number"===typeof this.Zb.type?7:"allpass";this.Zb.frequency.value=a;this.Zb.detune&&(this.Zb.detune.value=b);this.Zb.Q.value=d;this.Bc=O.createOscillator();this.Bc.frequency.value=f;this.Md=c();this.Md.gain.value=h;this.Ma.connect(this.Zb);this.Ma.connect(this.ma);this.Zb.connect(this.qa);this.Bc.connect(this.Md);
this.Md.connect(this.Zb.frequency);e(this.Bc)}function s(a){this.type="gain";this.Lb=[a];this.Sa=c();this.Sa.gain.value=a}function x(a,b){this.type="tremolo";this.Lb=[a,b];this.Sa=c();this.Sa.gain.value=1-b/2;this.Bc=O.createOscillator();this.Bc.frequency.value=a;this.Md=c();this.Md.gain.value=b/2;this.Bc.connect(this.Md);this.Md.connect(this.Sa.gain);e(this.Bc)}function v(a,b){this.type="ringmod";this.Lb=[a,b];this.Ma=c();this.qa=c();this.qa.gain.value=b;this.ma=c();this.ma.gain.value=1-b;this.Bl=
c();this.Bl.gain.value=0;this.Bc=O.createOscillator();this.Bc.frequency.value=a;this.Bc.connect(this.Bl.gain);e(this.Bc);this.Ma.connect(this.Bl);this.Ma.connect(this.ma);this.Bl.connect(this.qa)}function t(a,b,d,h,e){this.type="distortion";this.Lb=[a,b,d,h,e];this.Ma=c();this.Nn=c();this.Mn=c();this.LA(d,Math.pow(10,h/20));this.qa=c();this.qa.gain.value=e;this.ma=c();this.ma.gain.value=1-e;this.jo=O.createWaveShaper();this.Am=new Float32Array(65536);this.Ky(a,b);this.jo.Am=this.Am;this.Ma.connect(this.Nn);
this.Ma.connect(this.ma);this.Nn.connect(this.jo);this.jo.connect(this.Mn);this.Mn.connect(this.qa)}function z(a,b,c,d,h){this.type="compressor";this.Lb=[a,b,c,d,h];this.Sa=O.createDynamicsCompressor();this.Sa.threshold.value=a;this.Sa.knee.value=b;this.Sa.ratio.value=c;this.Sa.attack.value=d;this.Sa.release.value=h}function D(a,b){this.type="analyser";this.Lb=[a,b];this.Sa=O.createAnalyser();this.Sa.fftSize=a;this.Sa.smoothingTimeConstant=b;this.Iy=new Float32Array(this.Sa.frequencyBinCount);this.vv=
new Uint8Array(a);this.CA=this.ul=0}function G(){this.Ga=r;this.sn=0;this.Jh=[];this.Hq=this.nn=this.mn=0}function E(a,b){this.src=a;this.pb=W;this.Uk=b;this.Ls=u;var d=this;this.Au=this.Qq=r;this.Lj=[];this.Tn=0;this.Jn=u;W===N&&(b&&!y.gn)&&(this.pb=Q,this.Qq=c());this.Gb=r;var h;switch(this.pb){case Q:this.Gb=new Audio;W===N&&this.Gb.addEventListener("canplay",function(){d.Au=O.createMediaElementSource(d.Gb);d.Au.connect(d.Qq)});this.Gb.autoplay=u;this.Gb.nD="auto";this.Gb.src=a;break;case N:h=
new XMLHttpRequest;h.open("GET",a,q);h.responseType="arraybuffer";h.onload=function(){if(O.decodeAudioData)O.decodeAudioData(h.response,function(a){d.Gb=a;var b,c,h;if(fa(d.Kn))fa(d.ym)||(b=d.ym.li,b.normalize=d.Eu,b.buffer=a);else if(d.Lj.length){b=0;for(c=d.Lj.length;b<c;b++){a=d.Lj[b];h=new H(d,a.Dv);h.rv(q);if("undefined"!==typeof a.Gu&&(a.Ga=y.ri(a.Gu),!a.Ga))continue;if(a.Ga){var e=Fa(a.Ga.x,a.Ga.y,a.Ga.S.Wd(),eb,fb,q),f=Fa(a.Ga.x,a.Ga.y,a.Ga.S.Wd(),eb,fb,u);h.mr(e,f,va(a.Ga.O+a.Ga.S.Wd()),
a.Fp,a.Jq,a.Mq);h.Cl(a.Ga)}else h.mr(a.x,a.y,a.H,a.Fp,a.Jq,a.Mq);h.play(d.nq,d.Jr,d.Tn);d.Jn&&h.pause();ba.push(h)}d.Lj.length=0}else h=new H(d,d.Kn),h.play(d.nq,d.Jr,d.Tn),d.Jn&&h.pause(),ba.push(h)});else if(d.Gb=O.createBuffer(h.response,u),fa(d.Kn)){if(!fa(d.ym)){var a=d.ym.li;a.normalize=d.Eu;a.buffer=d.Gb}}else a=new H(d,d.Kn),a.play(d.nq,d.Jr,d.Tn),d.Jn&&a.pause(),ba.push(a)};h.send();break;case R:this.Gb=q;break;case aa:this.Gb=q}}function H(a,d){var h=this;this.Lh=d;this.yf=this.nh=q;this.src=
a.src;this.buffer=a;this.pb=W;this.Uk=a.Uk;this.playbackRate=1;this.Sq=q;this.ph=this.Sg=u;this.vf=0;this.Rp=this.Qp=this.Eg=u;this.pl=this.volume=1;this.startTime=y.kf.je;this.Rb=this.Oc=r;this.ag=u;this.nc=r;this.Qu=this.Pu=this.Ou=this.Nu=this.Su=this.Ru=0;this.T=r;var e=u;switch(this.pb){case Q:this.Uk?(this.T=a.Gb,e=!a.Ls,a.Ls=q):(this.T=new Audio,this.T.autoplay=u,this.T.src=a.Gb.src,e=q);e&&this.T.addEventListener("ended",function(){K=h.Lh;h.yf=q;y.trigger(Wb.prototype.U.Ao,B)});break;case N:this.Oc=
c();this.Oc.connect(b(d));this.buffer.pb===N?a.Gb&&(this.T=O.createBufferSource(),this.T.buffer=a.Gb,this.T.connect(this.Oc)):(this.T=this.buffer.Gb,this.buffer.Qq.connect(this.Oc));break;case R:this.T=new window.Media(S+this.src,r,r,function(a){a===window.Media.MEDIA_STOPPED&&(h.Sq=q,h.yf=q,K=h.Lh,y.trigger(Wb.prototype.U.Ao,B))});break;case aa:this.T=q}}function I(a,b){ca.hasOwnProperty(a)?ca[a].push(b):ca[a]=[b];var c,d,h,e,f=O.destination;if(ca.hasOwnProperty(a)&&(h=ca[a],h.length)){f=h[0].Yd();
c=0;for(d=h.length;c<d;c++)e=h[c],c+1===d?e.we(O.destination):e.we(h[c+1].Yd())}gb.length=0;if(a.length){c=0;for(d=ba.length;c<d;c++)h=ba[c],a.toLowerCase()===h.Lh.toLowerCase()&&gb.push(h)}else Dc&&!Dc.Lk()&&(gb.length=1,gb[0]=Dc);c=0;for(d=gb.length;c<d;c++)gb[c].yA(f);Va&&Ec===a&&(Va.disconnect(),Va.connect(f))}function J(){}var F=Wb.prototype;F.uc=function(a){this.Mb=a;this.c=a.c};F.uc.prototype.cb=w();var y=r,B=r,K="",S="",Q=0,N=1,R=2,aa=3,W=Q,O=r,xa=[],ba=[],Dc=r,Zb=0,xb=u,Ja=1,eb=0,fb=0,Fc=
1,Gc=1,Id=10,Jd=1E4,Kd=1,Va=r,Ec="",ca={},Me="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");m.prototype.we=function(a){this.qa.disconnect();this.qa.connect(a);this.ma.disconnect();this.ma.connect(a)};m.prototype.remove=function(){this.Ma.disconnect();this.Zb.disconnect();this.qa.disconnect();this.ma.disconnect()};m.prototype.Yd=A("Ma");k.prototype.we=function(a){this.qa.disconnect();this.qa.connect(a);this.ma.disconnect();this.ma.connect(a)};k.prototype.remove=function(){this.Ma.disconnect();
this.ll.disconnect();this.ze.disconnect();this.Dm.disconnect();this.qa.disconnect();this.ma.disconnect()};k.prototype.Yd=A("Ma");l.prototype.we=function(a){this.qa.disconnect();this.qa.connect(a);this.ma.disconnect();this.ma.connect(a)};l.prototype.remove=function(){this.Ma.disconnect();this.li.disconnect();this.qa.disconnect();this.ma.disconnect()};l.prototype.Yd=A("Ma");h.prototype.we=function(a){this.ma.disconnect();this.ma.connect(a);this.qa.disconnect();this.qa.connect(a)};h.prototype.remove=
function(){this.Ma.disconnect();this.ze.disconnect();this.Bc.disconnect();this.Md.disconnect();this.ma.disconnect();this.qa.disconnect();this.Lm.disconnect()};h.prototype.Yd=A("Ma");n.prototype.we=function(a){this.ma.disconnect();this.ma.connect(a);this.qa.disconnect();this.qa.connect(a)};n.prototype.remove=function(){this.Ma.disconnect();this.Zb.disconnect();this.Bc.disconnect();this.Md.disconnect();this.ma.disconnect();this.qa.disconnect()};n.prototype.Yd=A("Ma");s.prototype.we=function(a){this.Sa.disconnect();
this.Sa.connect(a)};s.prototype.remove=function(){this.Sa.disconnect()};s.prototype.Yd=A("Sa");x.prototype.we=function(a){this.Sa.disconnect();this.Sa.connect(a)};x.prototype.remove=function(){this.Bc.disconnect();this.Md.disconnect();this.Sa.disconnect()};x.prototype.Yd=A("Sa");v.prototype.we=function(a){this.qa.disconnect();this.qa.connect(a);this.ma.disconnect();this.ma.connect(a)};v.prototype.remove=function(){this.Bc.disconnect();this.Bl.disconnect();this.Ma.disconnect();this.qa.disconnect();
this.ma.disconnect()};v.prototype.Yd=A("Ma");t.prototype.LA=function(a,b){0.01>a&&(a=0.01);this.Nn.gain.value=a;this.Mn.gain.value=Math.pow(1/a,0.6)*b};t.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};t.prototype.Ky=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),h=0,e=0;32768>e;++e)h=e/32768,h=this.shape(h,c,d),this.Am[32768+e]=h,this.Am[32768-e-1]=-h};t.prototype.we=function(a){this.qa.disconnect();this.qa.connect(a);
this.ma.disconnect();this.ma.connect(a)};t.prototype.remove=function(){this.Ma.disconnect();this.Nn.disconnect();this.jo.disconnect();this.Mn.disconnect();this.qa.disconnect();this.ma.disconnect()};t.prototype.Yd=A("Ma");z.prototype.we=function(a){this.Sa.disconnect();this.Sa.connect(a)};z.prototype.remove=function(){this.Sa.disconnect()};z.prototype.Yd=A("Sa");D.prototype.Ic=function(){this.Sa.getFloatFrequencyData(this.Iy);this.Sa.getByteTimeDomainData(this.vv);for(var b=this.Sa.fftSize,c=0,d=this.ul=
0,h=0;c<b;c++)h=(this.vv[c]-128)/128,0>h&&(h=-h),this.ul<h&&(this.ul=h),d+=h*h;this.ul=a(this.ul);this.CA=a(Math.sqrt(d/b))};D.prototype.we=function(a){this.Sa.disconnect();this.Sa.connect(a)};D.prototype.remove=function(){this.Sa.disconnect()};D.prototype.Yd=A("Sa");G.prototype.Cl=function(a){if(this.Ga=a)this.mn=this.Ga.x,this.nn=this.Ga.y;this.Jh.length=0};G.prototype.Zm=function(){return!!this.Ga};G.prototype.Ic=function(a){this.Ga&&(this.Hq=Ba(this.mn,this.nn,this.Ga.x,this.Ga.y),a=Ga(this.mn,
this.nn,this.Ga.x,this.Ga.y)/a,4>this.Jh.length||this.Jh.shift(),this.Jh.push(a),this.mn=this.Ga.x,this.nn=this.Ga.y)};G.prototype.It=function(){if(!this.Jh.length)return 0;var a,b,c=0;a=0;for(b=this.Jh.length;a<b;a++)c+=this.Jh[a];return c/this.Jh.length};G.prototype.Jt=function(){return Math.cos(this.Hq)*this.It()};G.prototype.Kt=function(){return Math.sin(this.Hq)*this.It()};var Ld=u;H.prototype.Lk=function(){switch(this.pb){case Q:return this.T.ended;case N:return this.buffer.pb===N?!this.nh&&
!this.yf&&this.T.loop||this.ph?u:y.kf.je-this.startTime>this.buffer.Gb.duration:this.T.ended;case R:return this.Sq;case aa:q}return q};H.prototype.Ax=function(){return this.nh||this.yf?q:this.Lk()};H.prototype.rv=function(a){W===N&&(!this.ag&&a?(this.Rb||(this.Rb=O.createPanner(),this.Rb.panningModel="number"===typeof this.Rb.panningModel?Fc:["equalpower","HRTF","soundfield"][Fc],this.Rb.distanceModel="number"===typeof this.Rb.distanceModel?Gc:["linear","inverse","exponential"][Gc],this.Rb.refDistance=
Id,this.Rb.maxDistance=Jd,this.Rb.rolloffFactor=Kd),this.Oc.disconnect(),this.Oc.connect(this.Rb),this.Rb.connect(b(this.Lh)),this.ag=q):this.ag&&!a&&(this.Rb.disconnect(),this.Oc.disconnect(),this.Oc.connect(b(this.Lh)),this.ag=u))};H.prototype.mr=function(a,b,c,d,h,e){this.ag&&W===N&&(this.Rb.setPosition(a,b,0),this.Rb.setOrientation(Math.cos(M(c)),Math.sin(M(c)),0),this.Rb.coneInnerAngle=d,this.Rb.coneOuterAngle=h,this.Rb.coneOuterGain=e,this.Ru=a,this.Su=b,this.Nu=c,this.Ou=d,this.Pu=h,this.Qu=
e)};H.prototype.Cl=function(a){this.ag&&W===N&&(this.nc||(this.nc=new G),this.nc.Cl(a))};H.prototype.Ic=function(a){if(this.ag&&!(W!==N||!this.nc||!this.nc.Zm()||!this.kj())){this.nc.Ic(a);a=this.nc.Ga;var b=Fa(a.x,a.y,a.S.Wd(),eb,fb,q),c=Fa(a.x,a.y,a.S.Wd(),eb,fb,u);this.Rb.setPosition(b,c,0);b=0;"undefined"!==typeof this.nc.Ga.O&&(b=a.O+a.S.Wd(),this.Rb.setOrientation(Math.cos(b),Math.sin(b),0));this.Rb.setVelocity(this.nc.Jt(),this.nc.Kt(),0)}};H.prototype.play=function(a,b,c){var d=this.T;this.Eg=
a;this.volume=b;c=c||0;switch(this.pb){case Q:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==b*Ja&&(d.volume=b*Ja);d.loop!==a&&(d.loop=a);d.muted&&(d.muted=u);if(d.currentTime!==c)try{d.currentTime=c}catch(h){}this.T.play();break;case N:this.muted=u;this.pl=1;if(this.buffer.pb===N)this.nh||(this.T=O.createBufferSource(),this.T.buffer=this.buffer.Gb,this.T.connect(this.Oc)),this.T.loop=a,this.Oc.gain.value=b*Ja,0===c?e(this.T):g(this.T,c,this.gj());else{1!==d.playbackRate&&(d.playbackRate=1);d.loop!==
a&&(d.loop=a);this.Oc.gain.value=b*Ja;if(d.currentTime!==c)try{d.currentTime=c}catch(f){}d.play()}break;case R:(!this.nh&&this.yf||0!==c)&&d.seekTo(c);d.play();this.Sq=u;break;case aa:y.Ee?AppMobi.context.playSound(this.src):AppMobi.player.playSound(this.src)}this.playbackRate=1;this.startTime=y.kf.je-c;this.ph=this.yf=this.nh=u};H.prototype.stop=function(){switch(this.pb){case Q:this.T.paused||this.T.pause();break;case N:this.buffer.pb===N?f(this.T):this.T.paused||this.T.pause();break;case R:this.T.stop()}this.yf=
q;this.ph=u};H.prototype.pause=function(){if(!this.nh&&!this.yf&&!this.Lk()&&!this.ph){switch(this.pb){case Q:this.T.paused||this.T.pause();break;case N:this.buffer.pb===N?(this.vf=this.Bp(),this.Eg&&(this.vf%=this.gj()),f(this.T)):this.T.paused||this.T.pause();break;case R:this.T.pause()}this.ph=q}};H.prototype.yA=function(a){this.pb===N&&(this.ag?(this.Rb.disconnect(),this.Rb.connect(a)):(this.Oc.disconnect(),this.Oc.connect(a)))};H.prototype.gj=function(){switch(this.pb){case Q:if("undefined"!==
typeof this.T.duration)return this.T.duration;break;case N:return this.buffer.Gb.duration;case R:return this.T.getDuration()}return 0};H.prototype.Bp=function(){var a=this.gj(),b=0;switch(this.pb){case Q:"undefined"!==typeof this.T.currentTime&&(b=this.T.currentTime);break;case N:if(this.buffer.pb===N){if(this.ph)return this.vf;b=y.kf.je-this.startTime}else"undefined"!==typeof this.T.currentTime&&(b=this.T.currentTime)}!this.Eg&&b>a&&(b=a);return b};H.prototype.kj=function(){return!this.ph&&!this.nh&&
!this.yf&&!this.Lk()};H.prototype.$A=function(){var a=this.volume*Ja;switch(this.pb){case Q:this.T.volume&&this.T.volume!==a&&(this.T.volume=a);break;case N:this.Oc.gain.value=a*this.pl}};H.prototype.st=function(a){switch(this.pb){case Q:this.T.muted!==!!a&&(this.T.muted=!!a);break;case N:this.pl=a?0:1,this.Oc.gain.value=Ja*this.volume*this.pl}};H.prototype.sv=function(a){this.Rp=!!a;this.st(this.Qp||this.Rp)};H.prototype.Nv=function(){var a=this.playbackRate;if(1===Zb&&!this.Uk||2===Zb)a*=y.Ug;switch(this.pb){case Q:this.T.playbackRate!==
a&&(this.T.playbackRate=a);break;case N:this.buffer.pb===N?this.T.playbackRate.value!==a&&(this.T.playbackRate.value=a):this.T.playbackRate!==a&&(this.T.playbackRate=a)}};H.prototype.MA=function(a){switch(this.pb){case Q:a?this.kj()?(this.T.pause(),this.Sg=q):this.Sg=u:this.Sg&&this.T.play();break;case N:a?this.kj()?(this.buffer.pb===N?(this.vf=this.Bp(),this.Eg&&(this.vf%=this.gj()),f(this.T)):this.T.pause(),this.Sg=q):this.Sg=u:this.Sg&&(this.buffer.pb===N?(this.T=O.createBufferSource(),this.T.buffer=
this.buffer.Gb,this.T.connect(this.Oc),this.T.loop=this.Eg,this.Oc.gain.value=Ja*this.volume*this.pl,this.startTime=y.kf.je-this.vf,g(this.T,this.vf,this.gj())):this.T.play());break;case R:a?this.kj()?(this.T.pause(),this.Sg=q):this.Sg=u:this.Sg&&this.T.play()}};F.Ob=function(a){this.type=a;y=this.c=a.c;B=this;this.$c=r;this.Yk=-600;O=r;"undefined"!==typeof AudioContext?(W=N,O=new AudioContext):"undefined"!==typeof webkitAudioContext&&(W=N,O=new webkitAudioContext);this.c.gn&&W===N&&document.addEventListener("touchstart",
function(){if(!Ld){var a=O.createBuffer(1,1,22050),b=O.createBufferSource();b.buffer=a;b.connect(O.destination);e(b);Ld=q}},q);W!==N&&(this.c.wi?W=R:this.c.ij&&(W=aa));W===R&&(S=location.href,a=S.lastIndexOf("/"),-1<a&&(S=S.substr(0,a+1)),S=S.replace("file://",""));if(this.c.tz&&this.c.Xt&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.c.Uh(this);else{if(!this.c.Ee)try{new Audio}catch(b){}this.c.yr(this)}};
var Ka=F.Ob.prototype;Ka.cb=function(){Zb=this.$a[0];Fc=this.$a[1];Gc=this.$a[2];this.Yk=-this.$a[3];Id=this.$a[4];Jd=this.$a[5];Kd=this.$a[6];this.$c=new G;W===N&&(O.listener.speedOfSound=this.$a[7],O.listener.dopplerFactor=this.$a[8],O.listener.setPosition(this.c.width/2,this.c.height/2,this.Yk),O.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){Va&&Va.disconnect();Ec=c.toLowerCase();Va=O.createMediaStreamSource(a);Va.connect(b(Ec))});this.c.Ks(function(a){B.qA(a)});
var a=this;this.c.Is(function(b){a.Nq(b)})};Ka.Nq=function(a){var b,c,d;b=0;for(c=ba.length;b<c;b++)d=ba[b],d.nc&&d.nc.Ga===a&&(d.nc.Ga=r,d.ag&&(d.kj()&&d.Eg)&&d.stop());this.$c.Ga===a&&(this.$c.Ga=r)};Ka.Nd=function(){var a={silent:xb,masterVolume:Ja,listenerZ:this.Yk,listenerUid:this.$c.Zm()?this.$c.Ga.uid:-1,playing:[],effects:{}},b=a.playing,c,d,h,e,f,k;c=0;for(d=ba.length;c<d;c++)h=ba[c],h.kj()&&(e=h.Bp(),h.Eg&&(e%=h.gj()),e={tag:h.Lh,buffersrc:h.buffer.src,is_music:h.Uk,playbackTime:e,volume:h.volume,
looping:h.Eg,muted:h.Qp,playbackRate:h.playbackRate,paused:h.ph,resume_position:h.vf},h.ag&&(e.pan={},k=e.pan,h.nc&&h.nc.Zm()?k.objUid=h.nc.Ga.uid:(k.x=h.Ru,k.y=h.Su,k.a=h.Nu),k.ia=h.Ou,k.oa=h.Pu,k.og=h.Qu),b.push(e));b=a.effects;for(f in ca)if(ca.hasOwnProperty(f)){h=[];c=0;for(d=ca[f].length;c<d;c++)h.push({type:ca[f][c].type,params:ca[f][c].Lb});b[f]=h}return a};var yb=[];Ka.Ge=function(a){var b=a.silent;Ja=a.masterVolume;this.Yk=a.listenerZ;this.$c.Cl(r);var c=a.listenerUid;-1!==c&&(this.$c.sn=
c,yb.push(this.$c));var c=a.playing,d,e,f,g,y,H,E,K,F,B,J;d=0;for(e=ba.length;d<e;d++)ba[d].stop();for(y in ca)if(ca.hasOwnProperty(y)){d=0;for(e=ca[y].length;d<e;d++)ca[y][d].remove()}La(ca);for(y in a.effects)if(a.effects.hasOwnProperty(y)){H=a.effects[y];d=0;for(e=H.length;d<e;d++)switch(f=H[d].type,B=H[d].params,f){case "filter":I(y,new m(B[0],B[1],B[2],B[3],B[4],B[5]));break;case "delay":I(y,new k(B[0],B[1],B[2]));break;case "convolve":f=B[2];g=this.wp(f,u);g.Gb?f=new l(g.Gb,B[0],B[1],f):(f=
new l(r,B[0],B[1],f),g.Eu=B[0],g.ym=f);I(y,f);break;case "flanger":I(y,new h(B[0],B[1],B[2],B[3],B[4]));break;case "phaser":I(y,new n(B[0],B[1],B[2],B[3],B[4],B[5]));break;case "gain":I(y,new s(B[0]));break;case "tremolo":I(y,new x(B[0],B[1]));break;case "ringmod":I(y,new v(B[0],B[1]));break;case "distortion":I(y,new t(B[0],B[1],B[2],B[3],B[4]));break;case "compressor":I(y,new z(B[0],B[1],B[2],B[3],B[4]));break;case "analyser":I(y,new D(B[0],B[1]))}}d=0;for(e=c.length;d<e;d++)a=c[d],f=a.buffersrc,
g=a.is_music,y=a.tag,H=a.playbackTime,E=a.looping,K=a.volume,J=(B=a.pan)&&B.hasOwnProperty("objUid")?B.objUid:-1,(F=this.My(f,y,g,E,K))?(F.vf=a.resume_position,F.rv(!!B),F.play(E,K,H),F.Nv(),F.$A(),F.st(F.Qp||F.Rp),a.paused&&F.pause(),a.muted&&F.eD(),B&&(-1!==J?(F.nc=F.nc||new G,F.nc.sn=J,yb.push(F.nc)):F.mr(B.x,B.y,B.a,B.ia,B.oa,B.og))):(g=this.wp(f,g),g.Tn=H,g.Jn=a.paused,B&&(-1!==J?g.Lj.push({Gu:J,Fp:B.ia,Jq:B.oa,Mq:B.og,Dv:y}):g.Lj.push({x:B.x,y:B.y,H:B.a,Fp:B.ia,Jq:B.oa,Mq:B.og,Dv:y})));if(b&&
!xb){d=0;for(e=ba.length;d<e;d++)ba[d].sv(q);xb=q}else if(!b&&xb){d=0;for(e=ba.length;d<e;d++)ba[d].sv(u);xb=u}};Ka.rk=function(){var a,b,c,d;a=0;for(b=yb.length;a<b;a++)c=yb[a],d=this.c.ri(c.sn),c.Cl(d),c.sn=-1,d&&(eb=d.x,fb=d.y);yb.length=0};Ka.qA=function(a){var b,c;b=0;for(c=ba.length;b<c;b++)ba[b].MA(a)};Ka.Ic=function(){var a=this.c.ua,b,c,d;b=0;for(c=ba.length;b<c;b++)d=ba[b],d.Ic(a),d.pb!==Q&&d.pb!==aa&&(!d.nh&&!d.yf&&d.Lk())&&(d.yf=q,K=d.Lh,y.trigger(Wb.prototype.U.Ao,B)),0!==Zb&&d.Nv();
var h,e;for(h in ca)if(ca.hasOwnProperty(h)){d=ca[h];b=0;for(c=d.length;b<c;b++)e=d[b],e.Ic&&e.Ic()}W===N&&this.$c.Zm()&&(this.$c.Ic(a),eb=this.$c.Ga.x,fb=this.$c.Ga.y,O.listener.setPosition(this.$c.Ga.x,this.$c.Ga.y,this.Yk),O.listener.setVelocity(this.$c.Jt(),this.$c.Kt(),0))};Ka.wp=function(a,b){var c,d,h;c=0;for(d=xa.length;c<d;c++)if(h=xa[c],h.src===a)return h;h=new E(a,b);xa.push(h);return h};Ka.My=function(a,b,c,d,h){var e,f,k;e=0;for(f=ba.length;e<f;e++)if(k=ba[e],k.src===a&&(k.Ax()||c))return k.Lh=
b,k;a=this.wp(a,c);if(!a.Gb)return"<preload>"!==b&&(a.Kn=b,a.nq=d,a.Jr=h),r;k=new H(a,b);ba.push(k);return k};var gb=[];J.prototype.Ao=function(a){return K.toLowerCase()===a.toLowerCase()};F.U=new J;F.pe=new (w());F.Vd=new (w())})();function Xb(a){this.c=a}
(function(){function a(){}var b=Xb.prototype;b.uc=function(a){this.Mb=a;this.c=a.c};b.uc.prototype.cb=w();b.Ob=function(a){this.type=a;this.c=a.c};b.Ob.prototype.cb=function(){var a=this;window.addEventListener("resize",function(){a.c.trigger(Xb.prototype.U.Jw,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.c.trigger(Xb.prototype.U.Gw,a)}),window.addEventListener("offline",function(){a.c.trigger(Xb.prototype.U.Fw,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.c.sj=1;a.c.trigger(Xb.prototype.U.ls,a)}),window.applicationCache.addEventListener("progress",function(b){a.c.sj=b.loaded/b.total}));this.c.Ee||(document.addEventListener("appMobi.device.update.available",function(){a.c.trigger(Xb.prototype.U.ls,a)}),document.addEventListener("menubutton",function(){a.c.trigger(Xb.prototype.U.Ew,a)}),document.addEventListener("searchbutton",function(){a.c.trigger(Xb.prototype.U.Kw,a)}));this.c.Ks(function(b){b?
a.c.trigger(Xb.prototype.U.Hw,a):a.c.trigger(Xb.prototype.U.Iw,a)});this.OC="undefined"!==typeof window.is_scirra_arcade;this.IC=""};a.prototype.Gw=C(q);a.prototype.Fw=C(q);a.prototype.ls=C(q);a.prototype.Iw=C(q);a.prototype.Hw=C(q);a.prototype.Jw=C(q);a.prototype.Ew=C(q);a.prototype.Kw=C(q);b.U=new a;b.pe=new (w());b.Vd=new (w())})();function Yb(a){this.c=a}
(function(){function a(){}var b=Yb.prototype;b.uc=function(a){this.Mb=a;this.c=a.c};b.uc.prototype.cb=w();b.Ob=function(a){this.type=a;this.c=a.c;this.Sp=Array(256);this.ho=Array(256);this.Oh=0};var c=b.Ob.prototype;c.cb=function(){var a=this;this.c.rd||(jQuery(document).keydown(function(b){a.iA(b)}),jQuery(document).keyup(function(b){a.jA(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];c.iA=function(a){var b=u;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=q,a.stopPropagation());if(this.Sp[a.which])this.ho[a.which]&&
!b&&a.preventDefault();else{this.Sp[a.which]=q;this.Oh=a.which;this.c.trigger(Yb.prototype.U.rw,this);var c=this.c.trigger(Yb.prototype.U.xw,this),m=this.c.trigger(Yb.prototype.U.yw,this);if(c||m)this.ho[a.which]=q,b||a.preventDefault()}};c.jA=function(a){this.Sp[a.which]=u;this.Oh=a.which;this.c.trigger(Yb.prototype.U.sw,this);var b=this.c.trigger(Yb.prototype.U.Aw,this),c=this.c.trigger(Yb.prototype.U.zw,this);if(b||c||this.ho[a.which])this.ho[a.which]=q,a.preventDefault()};c.Nd=function(){return{triggerKey:this.Oh}};
c.Ge=function(a){this.Oh=a.triggerKey};a.prototype.xw=function(a){return a===this.Oh};a.prototype.rw=C(q);a.prototype.sw=C(q);a.prototype.Aw=function(a){return a===this.Oh};a.prototype.yw=function(a){return a===this.Oh};a.prototype.zw=function(a){return a===this.Oh};b.U=new a;b.pe=new (w());b.Vd=new (w())})();function $b(a){this.c=a}
(function(){function a(){if(0===this.ip.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Pj?b.drawImage(this.hd,this.Jj,this.Kj,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.hd,0,0,this.width,this.height);this.ip=a.toDataURL("image/png")}return this.ip}function b(){}var c=$b.prototype;c.uc=function(a){this.Mb=a;this.c=a.c};var d=c.uc.prototype;d.cb=function(){if(!this.Ha){var b,c,d,e,f,g,m,t,z;this.df=[];this.$m=
u;b=0;for(c=this.Bd.length;b<c;b++){f=this.Bd[b];m={};m.name=f[0];m.speed=f[1];m.loop=f[2];m.gr=f[3];m.Sn=f[4];m.Tu=f[5];m.Ia=f[6];m.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],t={},t.Bv=g[0],t.Cv=g[1],t.Jj=g[2],t.Kj=g[3],t.width=g[4],t.height=g[5],t.duration=g[6],t.Fd=g[7],t.Gd=g[8],t.Gp=g[9],t.Ln=g[10],t.Uu=g[11],t.Pj=0!==t.width,t.ip="",t.LC=a,z={left:0,top:0,right:1,bottom:1},t.rr=z,t.Sh=r,(z=this.c.Hy(g[0]))?t.hd=z:(t.hd=new Image,t.hd.src=g[0],t.hd.Dx=g[0],t.hd.Cx=g[1],t.hd.zx=r,this.c.Rh.push(t.hd)),
m.frames.push(t),this.df.push(t);this.Bd[b]=m}}};d.ZA=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.zm=c.xe.Sh};d.Hu=function(){if(!this.Ha){var a,b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],c.hd.zx=r,c.Sh=r}};d.Ju=function(){if(!this.Ha&&this.A.length){var a,b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],c.Sh=this.c.Ca.ku(c.hd,this.c.kc,c.Uu);this.ZA()}};d.Bz=function(){if(!this.Ha&&!this.$m&&this.c.Ca){var a,b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],c.Sh=this.c.Ca.ku(c.hd,
this.c.kc,c.Uu);this.$m=q}};d.Lv=function(){if(!this.Ha&&!this.A.length&&this.$m){var a,b,c;a=0;for(b=this.df.length;a<b;++a)c=this.df[a],this.c.Ca.deleteTexture(c.Sh);this.$m=u}};var e=[];d.Yu=function(a){var b,c,d;b=e.length=0;for(c=this.df.length;b<c;++b)d=this.df[b].hd,-1===e.indexOf(d)&&(a.drawImage(d,0,0),e.push(d))};c.Ob=function(a){this.type=a;this.c=a.c;a=this.type.Bd[0].frames[0].Ln;this.bg?this.od.El(a):this.od=new Qa(a)};var g=c.Ob.prototype;g.cb=function(){this.visible=0===this.$a[0];
this.Ot=this.uz=u;this.cj=0!==this.$a[3];!(1===this.type.Bd.length&&1===this.type.Bd[0].frames.length)&&0!==this.type.Bd[0].speed&&(this.c.yr(this),this.uz=q);this.ib=this.Ct(this.$a[1])||this.type.Bd[0];this.X=this.$a[2];0>this.X&&(this.X=0);this.X>=this.ib.frames.length&&(this.X=this.ib.frames.length-1);var a=this.ib.frames[this.X];this.od.El(a.Ln);this.Fd=a.Fd;this.Gd=a.Gd;this.xk=this.ib.speed;this.yg=this.Um();this.gi=q;this.qg=0;this.fi=q;this.Vo=this.Os="";this.Bx=0;this.Uo=-1;this.type.Bz();
var b,c,d,e,f,g,m,a=0;for(b=this.type.Bd.length;a<b;a++){e=this.type.Bd[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.hd.width,f.height=f.hd.height),f.Pj&&(m=f.hd,g=f.rr,g.left=f.Jj/m.width,g.top=f.Kj/m.height,g.right=(f.Jj+f.width)/m.width,g.bottom=(f.Kj+f.height)/m.height,0===f.Jj&&(0===f.Kj&&f.width===m.width&&f.height===m.height)&&(f.Pj=u))}this.xe=this.ib.frames[this.X];this.zm=this.xe.Sh};g.Nd=function(){var a={a:this.ib.Ia,f:this.X,cas:this.xk,fs:this.yg,ar:this.qg};
this.gi||(a.ap=this.gi);this.fi||(a.af=this.fi);return a};g.Ge=function(a){var b=this.Ly(a.a);b&&(this.ib=b);this.X=a.f;0>this.X&&(this.X=0);this.X>=this.ib.frames.length&&(this.X=this.ib.frames.length-1);this.xk=a.cas;this.yg=a.fs;this.qg=a.ar;this.gi=a.hasOwnProperty("ap")?a.ap:q;this.fi=a.hasOwnProperty("af")?a.af:q;this.xe=this.ib.frames[this.X];this.zm=this.xe.Sh;this.od.El(this.xe.Ln);this.Fd=this.xe.Fd;this.Gd=this.xe.Gd};g.Ro=function(a){this.X=a?0:this.ib.frames.length-1;this.gi=u;this.Os=
this.ib.name;this.Ot=q;this.c.trigger($b.prototype.U.qw,this);this.c.trigger($b.prototype.U.pw,this);this.Ot=u;this.qg=0};g.Um=function(){return(Date.now()-this.c.Gl)/1E3};g.Ic=function(){this.Vo.length&&this.Hx();0<=this.Uo&&this.Ix();var a=this.Um(),b=this.ib,c=b.frames[this.X],d=c.duration/this.xk,e=this.c.Ug;-1!==this.Li&&(e=this.Li);d/=0===e?1E-9:e;if(this.gi&&a>=this.yg+d){this.fi?this.X++:this.X--;this.yg+=d;this.X>=b.frames.length&&(b.Tu?(this.fi=u,this.X=b.frames.length-2):b.loop?this.X=
b.Sn:(this.qg++,this.qg>=b.gr?this.Ro(u):this.X=b.Sn));0>this.X&&(b.Tu?(this.X=1,this.fi=q,b.loop||(this.qg++,this.qg>=b.gr&&this.Ro(q))):b.loop?this.X=b.Sn:(this.qg++,this.qg>=b.gr?this.Ro(q):this.X=b.Sn));0>this.X?this.X=0:this.X>=b.frames.length&&(this.X=b.frames.length-1);if(a>this.yg+b.frames[this.X].duration/this.xk/(0===e?1E-9:e))this.yg=a;a=b.frames[this.X];this.jk(c,a);this.c.qb=q}};g.Ct=function(a){var b,c,d=a.toLowerCase();a=0;for(b=this.type.Bd.length;a<b;a++)if(c=this.type.Bd[a],c.name.toLowerCase()===
d)return c;return r};g.Ly=function(a){var b,c,d;b=0;for(c=this.type.Bd.length;b<c;b++)if(d=this.type.Bd[b],d.Ia===a)return d;return r};g.Hx=function(){var a=this.ib.frames[this.X],b=this.Ct(this.Vo);this.Vo="";b&&!(b.name.toLowerCase()===this.ib.name.toLowerCase()&&this.gi)&&(this.ib=b,this.xk=b.speed,0>this.X&&(this.X=0),this.X>=this.ib.frames.length&&(this.X=this.ib.frames.length-1),1===this.Bx&&(this.X=0),this.gi=q,this.yg=this.Um(),this.fi=q,this.jk(a,this.ib.frames[this.X]),this.c.qb=q)};g.Ix=
function(){var a=this.ib.frames[this.X],b=this.X;this.X=na(this.Uo);0>this.X&&(this.X=0);this.X>=this.ib.frames.length&&(this.X=this.ib.frames.length-1);b!==this.X&&(this.jk(a,this.ib.frames[this.X]),this.yg=this.Um(),this.c.qb=q);this.Uo=-1};g.jk=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Fd=b.Fd;this.Gd=b.Gd;this.od.El(b.Ln);this.ec();this.xe=b;this.zm=b.Sh;c=0;for(d=this.La.length;c<d;c++)e=this.La[c],e.pA&&e.pA(a,b);this.c.trigger($b.prototype.U.jk,
this)};g.ni=function(a){a.globalAlpha=this.opacity;var b=this.xe,c=b.Pj,d=b.hd,e=this.x,f=this.y,g=this.width,m=this.height;if(0===this.O&&0<=g&&0<=m)e-=this.Fd*g,f-=this.Gd*m,this.c.Mj&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.Jj,b.Kj,b.width,b.height,e,f,g,m):a.drawImage(d,e,f,g,m);else{this.c.Mj&&(e=e+0.5|0,f=f+0.5|0);a.save();var z=0<g?1:-1,D=0<m?1:-1;a.translate(e,f);(1!==z||1!==D)&&a.scale(z,D);a.rotate(this.O*z*D);e=0-this.Fd*ja(g);f=0-this.Gd*ja(m);c?a.drawImage(d,b.Jj,b.Kj,b.width,b.height,
e,f,ja(g),ja(m)):a.drawImage(d,e,f,ja(g),ja(m));a.restore()}};g.If=function(a){a.wf(this.zm);a.Dl(this.opacity);var b=this.xe,c=this.Mc;if(this.c.Mj){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.Pj?a.Ni(c.ud+d,c.vd+e,c.Re+d,c.Se+e,c.ue+d,c.ve+e,c.se+d,c.te+e,b.rr):a.Qn(c.ud+d,c.vd+e,c.Re+d,c.Se+e,c.ue+d,c.ve+e,c.se+d,c.te+e)}else b.Pj?a.Ni(c.ud,c.vd,c.Re,c.Se,c.ue,c.ve,c.se,c.te,b.rr):a.Qn(c.ud,c.vd,c.Re,c.Se,c.ue,c.ve,c.se,c.te)};g.Ry=function(a){var b=this.xe,c,d;c=0;for(d=b.Gp.length;c<
d;c++)if(a.toLowerCase()===b.Gp[c][0].toLowerCase())return c;return-1};g.Nf=function(a,b){var c=this.xe,d=c.Gp,e;e=ha(a)?this.Ry(a):a-1;e=na(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Fd)*this.width,d=d[e][2],d=(d-c.Gd)*this.height,c=Math.cos(this.O);e=Math.sin(this.O);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var f=new Na,m=u;d.finish=function(a){if(m){if(a){var b=this.c.Xd().ff.$f;a=r.lb();var c=f.Sj(),d,e;if(a.Bb){a.Bb=u;a.A.length=c.length;d=0;for(e=c.length;d<
e;d++)a.A[d]=c[d];if(b){d=a.jb.length=0;for(e=r.A.length;d<e;d++)b=r.A[d],f.contains(b)||a.jb.push(b)}}else{var g=a.A.length;a.A.length=g+c.length;d=0;for(e=c.length;d<e;d++)a.A[g+d]=c[d],b&&ua(a.jb,c[d])}r.sk()}f.clear();m=u}};b.prototype.pw=function(a){return this.Os.toLowerCase()===a.toLowerCase()};b.prototype.qw=C(q);b.prototype.jk=C(q);c.U=new b;c.pe=new (w());c.Vd=new (w())})();function ac(a){this.c=a}
(function(){function a(a){m=a.x;k=a.y;l=a.F}function b(a){h=a.x;n=a.y;s=a.F}function c(){}function d(){}var e=ac.prototype;e.uc=function(a){this.Mb=a;this.c=a.c};e.uc.prototype.cb=w();e.Ob=function(a){this.type=a;this.c=a.c;this.touches=[];this.Gq=u};var g=e.Ob.prototype,f={left:0,top:0};g.Ck=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var m=0,k=0,l=0,h=0,n=0,s=0;g.cb=function(){this.vz=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);
this.co=this.Ph=this.gp=this.fp=this.Gs=this.Fs=this.Es=this.mx=this.lx=this.kx=this.tl=this.sl=this.rl=0;this.cB=0!==this.$a[0];var c=0<this.c.Be?document:this.c.canvas,d=document;this.c.Ee?d=c=window.Canvas:this.c.Qf&&(d=c=window);var h=this;window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(a){h.oA(a)},u),c.addEventListener("MSPointerMove",function(a){h.nA(a)},u),d.addEventListener("MSPointerUp",function(a){h.Iu(a)},u),d.addEventListener("MSPointerCancel",function(a){h.Iu(a)},
u),this.c.canvas&&(this.c.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},u),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},u))):(c.addEventListener("touchstart",function(a){h.Lu(a)},u),c.addEventListener("touchmove",function(a){h.Ku(a)},u),d.addEventListener("touchend",function(a){h.Pq(a)},u),d.addEventListener("touchcancel",function(a){h.Pq(a)},u));if(this.vz){var e=function(a){a=a.reading;h.Es=a.accelerationX;h.Fs=a.accelerationY;h.Gs=a.accelerationZ},
f=function(a){a=a.reading;h.rl=a.yawDegrees;h.sl=a.pitchDegrees;h.tl=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",
e),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",f))},u)}else window.addEventListener("deviceorientation",function(a){h.rl=a.alpha||0;h.sl=a.beta||0;h.tl=a.gamma||0},u),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(h.kx=a.accelerationIncludingGravity.x,h.lx=a.accelerationIncludingGravity.y,h.mx=a.accelerationIncludingGravity.z);a.acceleration&&(h.Es=a.acceleration.x,h.Fs=a.acceleration.y,
h.Gs=a.acceleration.z)},u);this.cB&&!this.c.rd&&(jQuery(document).mousemove(function(a){h.lA(a)}),jQuery(document).mousedown(function(a){h.kA(a)}),jQuery(document).mouseup(function(a){h.mA(a)}));this.c.ij&&!this.c.Ee&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:q});this.c.wi&&navigator.accelerometer.watchAcceleration(b,r,{frequency:40});this.c.XA(this)};g.nA=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.Ck(a.pointerId),
c=Ma();if(0<=b){var d=this.c.rd?f:jQuery(this.c.canvas).offset(),b=this.touches[b];2>c-b.time||(b.pn=b.time,b.aq=b.x,b.bq=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};g.oA=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.c.rd?f:jQuery(this.c.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=Ma();this.Ph=this.touches.length;this.co=a.pointerId;this.touches.push({time:d,x:c,y:b,pn:d,aq:c,bq:b,id:a.pointerId,ur:this.Ph});this.c.trigger(ac.prototype.U.hs,
this);this.c.trigger(ac.prototype.U.Do,this);this.fp=c;this.gp=b;this.c.trigger(ac.prototype.U.ks,this)}};g.Iu=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Ck(a.pointerId),this.Ph=0<=a?this.touches[a].ur:-1,this.co=0<=a?this.touches[a].id:-1,this.c.trigger(ac.prototype.U.gs,this),this.c.trigger(ac.prototype.U.js,this),0<=a&&this.touches.splice(a,1))};g.Ku=function(a){a.preventDefault&&a.preventDefault();var b=Ma(),c,d,h,e;c=0;for(d=a.changedTouches.length;c<
d;c++)if(h=a.changedTouches[c],e=this.Ck(h.identifier),0<=e){var g=this.c.rd?f:jQuery(this.c.canvas).offset();e=this.touches[e];2>b-e.time||(e.pn=e.time,e.aq=e.x,e.bq=e.y,e.time=b,e.x=h.pageX-g.left,e.y=h.pageY-g.top)}};g.Lu=function(a){a.preventDefault&&a.preventDefault();var b=this.c.rd?f:jQuery(this.c.canvas).offset(),c=Ma(),d,h,e,g;d=0;for(h=a.changedTouches.length;d<h;d++)if(e=a.changedTouches[d],g=this.Ck(e.identifier),-1===g){g=e.pageX-b.left;var k=e.pageY-b.top;this.Ph=this.touches.length;
this.co=e.identifier;this.touches.push({time:c,x:g,y:k,pn:c,aq:g,bq:k,id:e.identifier,ur:this.Ph});this.c.trigger(ac.prototype.U.hs,this);this.c.trigger(ac.prototype.U.Do,this);this.fp=g;this.gp=k;this.c.trigger(ac.prototype.U.ks,this)}};g.Pq=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Ck(d.identifier),this.Ph=0<=d?this.touches[d].ur:-1,this.co=0<=d?this.touches[d].id:-1,this.c.trigger(ac.prototype.U.gs,this),this.c.trigger(ac.prototype.U.js,
this),0<=d&&this.touches.splice(d,1)};g.JC=function(){return this.c.ij&&0===this.rl&&0!==l?90*l:this.c.wi&&0===this.rl&&0!==s?90*s:this.rl};g.KC=function(){return this.c.ij&&0===this.sl&&0!==k?-90*k:this.c.wi&&0===this.sl&&0!==n?-90*n:this.sl};g.MC=function(){return this.c.ij&&0===this.tl&&0!==m?90*m:this.c.wi&&0===this.tl&&0!==h?90*h:this.tl};g.kA=function(a){a.preventDefault&&this.c.Ym&&a.preventDefault();this.Lu({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Gq=q};g.lA=function(a){a.preventDefault&&
this.c.Ym&&a.preventDefault();this.Gq&&this.Ku({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};g.mA=function(a){a.preventDefault&&this.c.Ym&&a.preventDefault();this.c.Ym=q;this.Pq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Gq=u};g.xr=function(){var a,b,c,d=Ma();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.pn=d)};c.prototype.Do=C(q);c.prototype.js=C(q);c.prototype.ks=function(a){return!a?u:this.c.VA(a,this.fp,this.gp)};c.prototype.hs=
function(a){a=Math.floor(a);return a===this.Ph};c.prototype.gs=function(a){a=Math.floor(a);return a===this.Ph};e.U=new c;d.prototype.Bs=function(a,b){if(this.touches.length){var c,d,h,e,f;fa(b)?(c=this.c.Hk(0),d=c.scale,h=c.Yg,e=c.yh,f=c.O,c.scale=this.c.ab.scale,c.Yg=1,c.yh=1,c.O=this.c.ab.O,a.ha(c.Cd(this.touches[0].x,this.touches[0].y,q)),c.scale=d,c.Yg=h,c.yh=e,c.O=f):(c=ga(b)?this.c.Hk(b):this.c.Ap(b))?a.ha(c.Cd(this.touches[0].x,this.touches[0].y,q)):a.ha(0)}else a.ha(0)};d.prototype.Cs=function(a,
b){if(this.touches.length){var c,d,h,e,f;fa(b)?(c=this.c.Hk(0),d=c.scale,h=c.Yg,e=c.zh,f=c.O,c.scale=this.c.ab.scale,c.Yg=1,c.zh=1,c.O=this.c.ab.O,a.ha(c.Cd(this.touches[0].x,this.touches[0].y,u)),c.scale=d,c.Yg=h,c.zh=e,c.O=f):(c=ga(b)?this.c.Hk(b):this.c.Ap(b))?a.ha(c.Cd(this.touches[0].x,this.touches[0].y,u)):a.ha(0)}else a.ha(0)};e.Vd=new d})();function bc(a){this.c=a}
(function(){var a=bc.prototype;a.uc=function(a){this.Mb=a;this.c=a.c};a.uc.prototype.cb=w();a.Ob=function(a){this.type=a;this.c=a.c};a.Ob.prototype.cb=w();a.U=new (w());a.pe=new (w());a.Vd=new (w())})();function cc(a){this.c=a}
(function(){function a(a,b){return b?4<=a?-1:a+h:16<=a?-1:a}function b(a){m[a.gamepad.index]=a.gamepad;g.trigger(cc.prototype.U.vw,f)}function c(a){g.trigger(cc.prototype.U.ww,f);m[a.gamepad.index]=r}function d(){}var e=cc.prototype;e.uc=function(a){this.Mb=a;this.c=a.c};e.uc.prototype.cb=w();var g=r,f=r,m=Array(16),k="",l="",h=16,n=r,s={windows:{}};s.windows.firefox={};var x=[0,1,2,3,4,5,8,9,10,11],v=[0,1,[7,6],2,3,[14,15],[12,13]];s.windows.firefox.xbox360=function(a,b){return b?a>=v.length?-1:
ga(v[a])?v[a]+h:v[a]:a>=x.length?-1:x[a]};var t=[2,0,1,3,4,6,5,7,8,9],z=[0,1,2,3,[14,15],[12,13]];s.windows.firefox.logitechdualaction=function(a,b){return b?a>=z.length?-1:ga(z[a])?z[a]+h:z[a]:a>=t.length?-1:t[a]};e.Ob=function(a){this.type=a;g=this.c=a.c;f=this};var D=e.Ob.prototype;D.cb=function(){this.GC=this.$a[0];this.Vp=0;var a=navigator.userAgent;k="windows";/mac/i.test(a)&&(k="mac");n=s[k];l="chrome";/firefox/i.test(a)&&(l="firefox");n&&(n=n[l]);window.addEventListener("webkitgamepadconnected",
b,u);window.addEventListener("webkitgamepaddisconnected",c,u);window.addEventListener("MozGamepadConnected",b,u);window.addEventListener("MozGamepadDisconnected",c,u);window.addEventListener("gamepadconnected",b,u);window.addEventListener("gamepaddisconnected",c,u);this.c.yr(this);this.Hs=[]};D.Ic=function(){this.Hs.length=0;var b=r;if(b=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():navigator.mozGetGamepads?navigator.mozGetGamepads():navigator.gamepads||
navigator.webkitGamepads||navigator.MozGamepads||m){var c,d,h,e,f,g,k;c=0;for(d=b.length;c<d;c++){var l=b[c];if(l){if(l.sg)for(h=0;20>h;h++)l.To[h]=l.sg[h];else{l.sg=Array(20);l.To=Array(20);for(h=0;20>h;h++)l.To[h]=0}n?(h="",e=l.id.toLowerCase(),-1<e.indexOf("xbox 360")?h="xbox360":-1<e.indexOf("logitech dual action")&&(h="logitechdualaction"),f=n[h]||a):f=a;h=0;for(e=l.buttons.length;h<e;h++)k=l.buttons[h],g=f(h,u,k),0<=g&&20>g&&(l.sg[g]=100*k,50<=l.sg[g]&&50>l.To[g]&&(this.Vp=g));h=0;for(e=l.axes.length;h<
e;h++)k=l.axes[h],g=f(h,q,k),ga(g)?0<=g&&20>g&&(l.sg[g]=100*k):(l.sg[g[0]]=0,l.sg[g[1]]=0,0>=k?l.sg[g[0]]=Math.abs(100*k):l.sg[g[1]]=Math.abs(100*k));this.Hs.push(l)}}}};D.Nd=function(){return{lastButton:this.Vp}};D.Ge=function(a){this.Vp=a.lastButton};d.prototype.vw=C(q);d.prototype.ww=C(q);e.U=new d;e.pe=new (w());e.Vd=new (w())})();function P(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)ea("Using CocoonJS native physics"),!window.ext||"undefined"===typeof window.ext.IDTK_SRV_BOX2D?console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available"):function(){function a(a){this.I=a.I;this.J=a.J;this.hg=a.hg;this.type=a.type;this.next=r}function b(a,b){this.wn=[];this.ob=[];this.Di=[];this.Gg=r;this.Oz=[];this.mc=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,
a.y,b)}function c(){}function d(a,b,c){this.ub=a;this.nb=b;this.Vz=c}function e(a,b){var c=a.hg;a.hg=r;this.Fa=b;this.q=new m(a.position,k.Ui(a.O));this.dl=[];this.$k=a.Td;a.type===e.Ud&&(a.gf=0);this.lc=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.mc,a);this.Wz=c;a.hg=c}function g(a,b,c,d){this.bl=a;this.Wz=b;this.sq=c;this.Ng={};this.Ng.cd=l.n(0,0);this.zn=u;this.xn=d.gf;this.uq=d.Mf;this.jl=d.dg;this.zn=d.Op}function f(){}function m(a,b){this.position=l.n(0,0);this.k=new k;a===p&&(a=r);b===
p&&(b=r);a&&(this.position.B(a),this.k.Ze(b))}function k(){this.g=l.n(0,0);this.i=l.n(0,0);this.bh()}function l(a,b){a===p&&(a=0);b===p&&(b=0);this.x=a;this.y=b}T=l;l.pg=[];l.n=function(a,b){if(0<T.pg.length){var c=T.pg.pop();c.C(a,b);return c}return new T(a,b)};l.rc=function(a){1E4>T.pg.length&&T.pg.push(a)};l.prototype.$=function(){this.y=this.x=0};l.prototype.C=function(a,b){a===p&&(a=0);b===p&&(b=0);this.x=a;this.y=b};l.prototype.B=function(a){this.x=a.x;this.y=a.y};l.PB=function(a,b){a===p&&
(a=0);b===p&&(b=0);return l.n(a,b)};l.prototype.Ub=function(){return l.n(this.x,this.y)};l.prototype.kg=function(a){this.x+=a.x;this.y+=a.y};l.prototype.Mo=function(a){this.x-=a.x;this.y-=a.y};l.prototype.Wc=function(a){a===p&&(a=0);this.x*=a;this.y*=a};l.prototype.Df=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.gm=function(){return this.x*this.x+this.y*this.y};l.prototype.Xc=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;
this.x*=b;this.y*=b;return a};U=k;k.Ui=function(a){a===p&&(a=0);var b=new k;b.C(a);return b};k.Cf=function(a,b){var c=new k;c.Jo(a,b);return c};k.prototype.C=function(a){a===p&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.g.x=b;this.i.x=-a;this.g.y=a;this.i.y=b};k.prototype.Jo=function(a,b){this.g.B(a);this.i.B(b)};k.prototype.Ub=function(){var a=new k;a.Ze(this);return a};k.prototype.Ze=function(a){this.g.B(a.g);this.i.B(a.i)};k.prototype.Ql=function(a){this.g.x+=a.g.x;this.g.y+=a.g.y;this.i.x+=a.i.x;
this.i.y+=a.i.y};k.prototype.bh=function(){this.g.x=1;this.i.x=0;this.g.y=0;this.i.y=1};k.prototype.$=function(){this.g.x=0;this.i.x=0;this.g.y=0;this.i.y=0};k.prototype.xd=function(){return Math.atan2(this.g.y,this.g.x)};k.prototype.so=function(a){var b=this.g.x,c=this.i.x,d=this.g.y,e=this.i.y,f=b*e-c*d;0!==f&&(f=1/f);a.g.x=f*e;a.i.x=-f*c;a.g.y=-f*d;a.i.y=f*b;return a};k.prototype.dh=function(a,b,c){b===p&&(b=0);c===p&&(c=0);var d=this.g.x,e=this.i.x,f=this.g.y,g=this.i.y,k=d*g-e*f;0!==k&&(k=1/
k);a.x=k*(g*b-e*c);a.y=k*(d*c-f*b);return a};k.prototype.jg=function(){this.g.jg();this.i.jg()};dc=m;m.prototype.Vb=function(a,b){this.position.B(a);this.k.Ze(b)};m.prototype.bh=function(){this.position.$();this.k.bh()};m.prototype.C=function(a){this.position.B(a.position);this.k.Ze(a.k)};m.prototype.hm=function(){return Math.atan2(this.k.g.y,this.k.g.x)};V=f;f.fm=function(a){a===p&&(a=0);return isFinite(a)};f.sb=function(a,b){return a.x*b.x+a.y*b.y};f.Th=function(a,b){return a.x*b.y-a.y*b.x};f.lg=
function(a,b){b===p&&(b=0);return l.n(b*a.y,-b*a.x)};f.no=function(a,b){a===p&&(a=0);return l.n(-a*b.y,a*b.x)};f.Eb=function(a,b){return l.n(a.g.x*b.x+a.i.x*b.y,a.g.y*b.x+a.i.y*b.y)};f.mg=function(a,b){return l.n(f.sb(b,a.g),f.sb(b,a.i))};f.gc=function(a,b){var c=f.Eb(a.k,b);c.x+=a.position.x;c.y+=a.position.y;return c};f.cs=function(a,b){var c=f.eb(b,a.position),d=c.x*a.k.g.x+c.y*a.k.g.y;c.y=c.x*a.k.i.x+c.y*a.k.i.y;c.x=d;return c};f.Xj=function(a,b){return l.n(a.x+b.x,a.y+b.y)};f.eb=function(a,b){return l.n(a.x-
b.x,a.y-b.y)};f.dw=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};f.Rr=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};f.mw=function(a,b){a===p&&(a=0);return l.n(a*b.x,a*b.y)};f.Vv=function(a,b){return k.Cf(f.Xj(a.g,b.g),f.Xj(a.i,b.i))};f.nw=function(a,b){return k.Cf(f.Eb(a,b.g),f.Eb(a,b.i))};f.ow=function(a,b){var c=l.n(f.sb(a.g,b.g),f.sb(a.i,b.g)),d=l.n(f.sb(a.g,b.i),f.sb(a.i,b.i));return k.Cf(c,d)};f.jg=function(a){a===p&&(a=0);return 0<a?a:-a};f.Uj=function(a){return l.n(f.jg(a.x),
f.jg(a.y))};f.Tv=function(a){return k.Cf(f.Uj(a.g),f.Uj(a.i))};f.as=function(a,b){a===p&&(a=0);b===p&&(b=0);return a<b?a:b};f.bs=function(a,b){return l.n(f.as(a.x,b.x),f.as(a.y,b.y))};f.Zr=function(a,b){a===p&&(a=0);b===p&&(b=0);return a>b?a:b};f.$r=function(a,b){return l.n(f.Zr(a.x,b.x),f.Zr(a.y,b.y))};f.hb=function(a,b,c){a===p&&(a=0);b===p&&(b=0);c===p&&(c=0);return a<b?b:a>c?c:a};f.Xv=function(a,b,c){return f.$r(b,f.bs(a,c))};f.xC=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};f.cC=function(){return 2*
Math.random()-1};f.dC=function(a,b){a===p&&(a=0);b===p&&(b=0);var c=Math.random();return(b-a)*c+a};f.VB=function(a){a===p&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};f.LB=function(a){a===p&&(a=0);return 0<a&&0===(a&a-1)};f.ux=new l(0,0);f.tx=k.Cf(new l(1,0),new l(0,1));f.FC=new m(f.ux,f.tx);X=function(){this.position=l.n(0,0);this.gq=l.n(0,0);this.hg=r;this.O=0;this.gq.C(0,0);this.ei=this.xi=this.Ns=0;this.Rs=this.Ms=q;this.ii=this.qp=u;
this.type=e.Ud;this.Td=q;this.Qt=1};ec=g;g.prototype.Ja=A("bl");g.prototype.fc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");return r};g.prototype.Zh=A("zn");fc=e;e.prototype.Wl=function(a){var b=a.hg;a.hg=r;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Fa.mc,this.lc,a);a.hg=b;a=new g(this,b,c,a);this.Fa.Di[c]=a;this.dl.push(a);return a};e.prototype.ro=function(){return 0===this.dl.length?r:this.dl[0]};e.prototype.Qr=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",
this.Fa.mc,a.sq);delete this.Fa.Di[a.sq]};e.prototype.ok=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",this.Fa.mc,this.lc,a.x,a.y,b);this.q.k.C(b);this.q.position.B(a)};e.prototype.Io=function(a){this.ok(a,this.xd())};e.prototype.Vh=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Fa.mc,this.lc);return l.n(a[0],a[1])};e.prototype.Vi=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Fa.mc,this.lc);return l.n(a[0],a[1])};e.prototype.Wh=
function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Fa.mc,this.lc);return l.n(a[0],a[1])};e.prototype.Lc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Fa.mc,this.lc)};e.prototype.$l=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Fa.mc,this.lc)};e.prototype.Fc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.Fa.mc,this.lc,a)};e.prototype.ai=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.Fa.mc,
this.lc,a.x,a.y)};e.prototype.zf=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Fa.mc,this.lc,a.x,a.y,b.x,b.y,c)};e.prototype.Rl=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Fa.mc,this.lc,a,b)};e.prototype.nk=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Fa.mc,this.lc,a)};e.prototype.Yh=A("$k");e.prototype.xd=function(){return this.q.k.xd()};e.prototype.hm=function(a){a===p&&(a=0);this.ok(this.q.position,a)};e.prototype.$g=function(){for(var a=
window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Fa.mc,this.lc),b=[],c=0;c<a.length;c++)b.push(this.Fa.wn[a[c]]);return b};fc.Ud=0;fc.Ts=1;fc.hc=2;d.prototype.wo=A("Vz");gc=c;c.prototype.Sl=w();gc.Ss=new c;window.tB.BB.EC=w();hc=b;b.prototype.ss=da("Gg");b.prototype.rs=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",function(c,d){return a.bi(b.Di[c],b.Di[d])})};b.prototype.mo=function(a){a=new e(a,this);return this.wn[a.lc]=a};b.prototype.Yl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",
this.mc,a.lc);delete this.wn[a.lc];for(var b=0;b<a.dl.length;++b)delete this.Di[a.dl[b].sq]};b.prototype.Xl=function(b){if(b.I.lc!==b.J.lc){var c=b.I,d=b.J;b.I=c.lc;b.J=d.lc;window.ext.IDTK_SRV_BOX2D.makeCall("createDistanceJoint",this.mc,b);b.I=c;b.J=d;b=new a(b);this.Oz.push(b);return b}};b.prototype.ng=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.mc,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var e=this.wn[c[a+0]];if(e===r)break;e.q.position.C(c[a+1],c[a+2]);e.q.k.C(c[a+3])}if(this.Gg!==
r){c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.mc);b=c[0];for(a=1;a<=3*b;a+=3){var e=c[a+2],f=this.Di[c[a+0]],g=this.Di[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.Gg.Sl(new d(f,g,e))}}};b.prototype.Pr=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.mc)};ic=function(a){this.Rn=a;this.type="circle"};Y=w();Y.prototype.jm=function(a,b){this.type="box";this.width=a;this.height=b};Y.prototype.ps=
function(a,b){this.type="edge";this.hD=a.x;this.iD=a.y;this.jD=b.x;this.kD=b.y};Y.prototype.Go=function(a,b){this.type="polygon";this.Sv=[];for(var c=0;c<b;c++)this.Sv.push(a[c].x),this.Sv.push(a[c].y)};jc=function(){this.hg=this.shape=r;this.Mf=0.2;this.gf=this.dg=0;this.Op=u;this.filter={aj:1,Gj:65535,oh:0}};Z=a;a.prototype.bk=A("I");a.prototype.qo=A("J");a.prototype.sc=A("type");a.jp=0;kc=function(b,c,d,e){this.type=a.jp;this.Cb=l.n(0,0);this.Db=l.n(0,0);this.hg=r;b!==p&&(this.I=b);c!==p&&(this.J=
c);d!==p&&this.Cb.B(d);e!==p&&this.Db.B(e);d!==p&&e!==p&&(b=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(b*b+d*d));this.Bm=this.Pm=0}}();else{var V={},lc=2/180*Math.PI,mc=8/180*Math.PI,nc=0.5*Math.PI,oc=nc*nc,pc=2/180*Math.PI,qc=Number.MIN_VALUE*Number.MIN_VALUE;V.sb=function(a,b){return a.x*b.x+a.y*b.y};V.Th=function(a,b){return a.x*b.y-a.y*b.x};V.lg=function(a,b){return T.n(b*a.y,-b*a.x)};V.no=function(a,b){return T.n(-a*b.y,a*b.x)};V.Eb=function(a,b){return T.n(a.g.x*b.x+a.i.x*b.y,a.g.y*b.x+a.i.y*b.y)};
V.mg=function(a,b){return T.n(V.sb(b,a.g),V.sb(b,a.i))};V.gc=function(a,b){var c=V.Eb(a.k,b);c.x+=a.position.x;c.y+=a.position.y;return c};V.cs=function(a,b){var c=V.eb(b,a.position),d=c.x*a.k.g.x+c.y*a.k.g.y;c.y=c.x*a.k.i.x+c.y*a.k.i.y;c.x=d;return c};V.Xj=function(a,b){return T.n(a.x+b.x,a.y+b.y)};V.eb=function(a,b){return T.n(a.x-b.x,a.y-b.y)};V.dw=function(a,b){return Math.sqrt(V.Rr(a,b))};V.Rr=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};V.mw=function(a,b){return T.n(a*b.x,a*b.y)};V.Vv=
function(a,b){return U.Cf(V.Xj(a.g,b.g),V.Xj(a.i,b.i))};V.nw=function(a,b){return U.Cf(V.Eb(a,b.g),V.Eb(a,b.i))};V.ow=function(a,b){var c=T.n(V.sb(a.g,b.g),V.sb(a.i,b.g)),d=T.n(V.sb(a.g,b.i),V.sb(a.i,b.i));return U.Cf(c,d)};V.Uj=function(a){return T.n(Math.abs(a.x),Math.abs(a.y))};V.Tv=function(a){return U.Cf(V.Uj(a.g),V.Uj(a.i))};V.hb=function(a,b,c){return a<b?b:a>c?c:a};V.Xv=function(a,b,c){return T.n(V.hb(a.x,b.x,c.x),V.hb(a.y,b.y,c.y))};var U=function(){this.g=T.n(0,0);this.i=T.n(0,0);this.bh()};
U.Ui=function(a){var b=new U;b.C(a);return b};U.Cf=function(a,b){var c=new U;c.Jo(a,b);return c};L=U.prototype;L.C=function(a){var b=Math.cos(a);a=Math.sin(a);this.g.C(b,a);this.i.C(-a,b)};L.Jo=function(a,b){this.g.B(a);this.i.B(b)};L.Ub=function(){var a=new U;a.Ze(this);return a};L.Ze=function(a){this.g.B(a.g);this.i.B(a.i)};L.Ql=function(a){this.g.kg(a.g);this.i.kg(a.i)};L.bh=function(){this.g.C(1,0);this.i.C(0,1)};L.$=function(){this.g.C(0,0);this.i.C(0,0)};L.xd=function(){return Math.atan2(this.g.y,
this.g.x)};L.so=function(a){var b=this.g.x*this.i.y-this.i.x*this.g.y;0!==b&&(b=1/b);a.g.x=b*this.i.y;a.i.x=-b*this.i.x;a.g.y=-b*this.g.y;a.i.y=b*this.g.x;return a};L.dh=function(a,b,c){var d=this.g.x*this.i.y-this.i.x*this.g.y;0!==d&&(d=1/d);a.x=d*(this.i.y*b-this.i.x*c);a.y=d*(this.g.x*c-this.g.y*b);return a};L.jg=function(){this.g.jg();this.i.jg()};var sc=function(a,b,c){this.g=new rc(0,0,0);this.i=new rc(0,0,0);this.la=new rc(0,0,0);a&&this.g.B(a);b&&this.i.B(b);c&&this.la.B(c)};L=sc.prototype;
L.Ub=function(){return new sc(this.g,this.i,this.la)};L.Ze=function(a){this.g.B(a.g);this.i.B(a.i);this.la.B(a.la)};L.Ql=function(a){this.g.x+=a.g.x;this.g.y+=a.g.y;this.g.F+=a.g.F;this.i.x+=a.i.x;this.i.y+=a.i.y;this.i.F+=a.i.F;this.la.x+=a.la.x;this.la.y+=a.la.y;this.la.F+=a.la.F};L.bh=function(){this.g.C(1,0,0);this.i.C(0,1,0);this.la.C(0,0,1)};L.$=function(){this.g.C(0,0,0);this.i.C(0,0,0);this.la.C(0,0,0)};L.Xi=function(a,b,c){var d=this.g.x,e=this.i.x,g=this.g.y,f=this.i.y,m=d*f-e*g;0!=m&&(m=
1/m);a.x=m*(f*b-e*c);a.y=m*(d*c-g*b);return a};L.pk=function(a,b,c,d){var e=this.g.x,g=this.g.y,f=this.g.F,m=this.i.x,k=this.i.y,l=this.i.F,h=this.la.x,n=this.la.y,s=this.la.F,x=e*(k*s-l*n)+g*(l*h-m*s)+f*(m*n-k*h);0!=x&&(x=1/x);a.x=x*(b*(k*s-l*n)+c*(l*h-m*s)+d*(m*n-k*h));a.y=x*(e*(c*s-d*n)+g*(d*h-b*s)+f*(b*n-c*h));a.F=x*(e*(k*d-l*c)+g*(l*b-m*d)+f*(m*c-k*b));return a};var tc=function(){this.K=T.n(0,0);this.wc=T.n(0,0);this.p=T.n(0,0)};tc.prototype.C=function(a){this.K.B(a.K);this.wc.B(a.wc);this.p.B(a.p);
this.ne=a.ne;this.H=a.H;this.Uc=a.Uc};tc.prototype.Ub=function(){var a=new tc;a.K.B(this.K);a.wc.B(this.wc);a.p.B(this.p);a.ne=this.ne;a.H=this.H;a.Uc=this.Uc;return a};tc.prototype.zd=function(a,b){b===p&&(b=0);a.position.x=(1-b)*this.wc.x+b*this.p.x;a.position.y=(1-b)*this.wc.y+b*this.p.y;a.k.C((1-b)*this.ne+b*this.H);var c=a.k;a.position.x-=c.g.x*this.K.x+c.i.x*this.K.y;a.position.y-=c.g.y*this.K.x+c.i.y*this.K.y};tc.prototype.Zg=function(a){a===p&&(a=0);if(this.Uc<a&&1-this.Uc>Number.MIN_VALUE){var b=
(a-this.Uc)/(1-this.Uc);this.wc.x=(1-b)*this.wc.x+b*this.p.x;this.wc.y=(1-b)*this.wc.y+b*this.p.y;this.ne=(1-b)*this.ne+b*this.H;this.Uc=a}};var dc=function(a,b){this.position=T.n(0,0);this.k=new U;a&&this.position.B(a);b&&this.k.Ze(b)};dc.prototype.Vb=function(a,b){this.position.B(a);this.k.Ze(b)};dc.prototype.bh=function(){this.position.$();this.k.bh()};dc.prototype.C=function(a){this.position.B(a.position);this.k.Ze(a.k)};dc.prototype.xd=function(){return Math.atan2(this.k.g.y,this.k.g.x)};var T=
function(a,b){this.x=a;this.y=b};T.pg=[];T.n=function(a,b){if(0<T.pg.length){var c=T.pg.pop();c.C(a,b);return c}return new T(a,b)};T.rc=function(a){T.pg.push(a)};L=T.prototype;L.$=function(){this.y=this.x=0};L.C=function(a,b){this.x=a;this.y=b};L.B=function(a){this.x=a.x;this.y=a.y};L.ah=function(){return T.n(-this.x,-this.y)};L.ds=function(){this.x=-this.x;this.y=-this.y};L.Ub=function(){return T.n(this.x,this.y)};L.kg=function(a){this.x+=a.x;this.y+=a.y};L.Mo=function(a){this.x-=a.x;this.y-=a.y};
L.Wc=function(a){this.x*=a;this.y*=a};L.lg=function(a){var b=this.x;this.x=a*this.y;this.y=-a*b};L.no=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};L.bs=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};L.$r=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};L.jg=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};L.Df=function(){return Math.sqrt(this.gm())};L.gm=function(){return this.x*this.x+this.y*this.y};L.Xc=function(){var a=this.Df();if(a<
Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};L.fm=function(){return isFinite(this.x)&&isFinite(this.y)};var rc=function(a,b,c){this.x=a;this.y=b;this.F=c};L=rc.prototype;L.$=function(){this.F=this.y=this.x=0};L.C=function(a,b,c){this.x=a;this.y=b;this.F=c};L.B=function(a){this.x=a.x;this.y=a.y;this.F=a.F};L.ah=function(){return new rc(-this.x,-this.y,-this.F)};L.ds=function(){this.x=-this.x;this.y=-this.y;this.F=-this.F};L.Ub=function(){return new rc(this.x,this.y,this.F)};L.kg=
function(a){this.x+=a.x;this.y+=a.y;this.F+=a.F};L.Mo=function(a){this.x-=a.x;this.y-=a.y;this.F-=a.F};L.Wc=function(a){this.x*=a;this.y*=a;this.F*=a};var uc=function(){this.Oa=0.005};L=uc.prototype;L.Xh=w();L.Ub=w();L.C=function(a){this.Oa=a.Oa};L.Ti=w();L.Yj=w();L.Vl=w();L.Ho=w();var ic=function(a){this.Oa=0.005;this.Oa=a;this.Dj=a*a;this.Xa=T.n(0,0)};P(ic,uc);L=ic.prototype;L.Xh=function(){return ic.Ye};L.Ub=function(){var a=new ic(this.Oa);a.C(this);return a};L.C=function(a){uc.prototype.C.call(this,
a);a instanceof ic&&this.Xa.B(a.Xa)};L.Ti=function(a,b){var c=b.k,d=b.position.x+(c.g.x*this.Xa.x+c.i.x*this.Xa.y),c=b.position.y+(c.g.y*this.Xa.x+c.i.y*this.Xa.y);a.va.C(d-this.Oa,c-this.Oa);a.wa.C(d+this.Oa,c+this.Oa)};L.Yj=function(a,b){a.Zf=b*Math.PI*this.Dj;a.ug.B(this.Xa);a.Wi=a.Zf*(0.5*this.Dj+(this.Xa.x*this.Xa.x+this.Xa.y*this.Xa.y))};L.Vl=function(a,b,c,d){c=V.gc(c,this.Xa);var e=-(V.sb(a,c)-b);if(e<-this.Oa+Number.MIN_VALUE)return 0;if(e>this.Oa)return d.B(c),Math.PI*this.Dj;b=e*e;e=this.Dj*
(Math.asin(e/this.Oa)+Math.PI/2)+e*Math.sqrt(this.Dj-b);b=-2/3*Math.pow(this.Dj-b,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};L.Ho=function(a){a.G=[this.Xa];a.ea=1;a.Oa=this.Oa};ic.Ye="b2CircleShape";var vc=function(a,b){this.Oa=0.005;this.ZC=this.aD=r;this.fa=a;this.Aa=b;this.Ci=T.n(this.Aa.x-this.fa.x,this.Aa.y-this.fa.y);this.vq=this.Ci.Xc();this.ja=T.n(this.Ci.y,-this.Ci.x);this.SC=T.n(-0.04*(this.ja.x-this.Ci.x)+this.fa.x,-0.04*(this.ja.y-this.Ci.y)+this.fa.y);this.TC=T.n(-0.04*(this.ja.x+this.Ci.x)+
this.Aa.x,-0.04*(this.ja.y+this.Ci.y)+this.Aa.y);this.WC=this.ja;this.XC=T.n(-this.ja.x,-this.ja.y);this.VC=this.UC=u};P(vc,uc);vc.prototype.Xh=C("b2EdgeShape");vc.prototype.Ti=function(a,b){var c=b.k,d=b.position.x+(c.g.x*this.fa.x+c.i.x*this.fa.y),e=b.position.y+(c.g.y*this.fa.x+c.i.y*this.fa.y),g=b.position.x+(c.g.x*this.Aa.x+c.i.x*this.Aa.y),c=b.position.y+(c.g.y*this.Aa.x+c.i.y*this.Aa.y);d<g?(a.va.x=d,a.wa.x=g):(a.va.x=g,a.wa.x=d);e<c?(a.va.y=e,a.wa.y=c):(a.va.y=c,a.wa.y=e)};vc.prototype.Yj=
function(a){a.Zf=0;a.ug.B(this.fa);a.Wi=0};vc.prototype.Vl=function(a,b,c,d){b===p&&(b=0);var e=T.n(a.x*b,a.y*b),g=V.gc(c,this.fa);c=V.gc(c,this.Aa);var f=V.sb(a,g)-b;a=V.sb(a,c)-b;if(0<f){if(0<a)return 0;g.x=-a/(f-a)*g.x+f/(f-a)*c.x;g.y=-a/(f-a)*g.y+f/(f-a)*c.y}else 0<a&&(c.x=-a/(f-a)*g.x+f/(f-a)*c.x,c.y=-a/(f-a)*g.y+f/(f-a)*c.y);d.x=(e.x+g.x+c.x)/3;d.y=(e.y+g.y+c.y)/3;return 0.5*((g.x-e.x)*(c.y-e.y)-(g.y-e.y)*(c.x-e.x))};var wc=function(){this.Zf=0;this.ug=T.n(0,0);this.Wi=0},Y=function(){this.Oa=
0.005;this.cd=T.n(0,0);this.G=[];this.pa=[]};P(Y,uc);Y.prototype.Xh=function(){return Y.Ye};Y.prototype.Ub=function(){var a=new Y;a.C(this);return a};Y.prototype.C=function(a){uc.prototype.C.call(this,a);if(a instanceof Y){this.cd.B(a.cd);this.Ea=a.Ea;this.mk(this.Ea);for(var b=0;b<this.Ea;b++)this.G[b].B(a.G[b]),this.pa[b].B(a.pa[b])}};Y.prototype.Go=function(a){this.qs(a)};Y.kB=function(a){var b=new Y;b.Go(a);return b};Y.prototype.qs=function(a){var b=a.length;this.Ea=b;this.mk(b);for(b=b=0;b<this.Ea;b++)this.G[b].B(a[b]);
for(b=0;b<this.Ea;++b)a=V.eb(this.G[b+1<this.Ea?b+1:0],this.G[b]),this.pa[b].B(V.lg(a,1)),this.pa[b].Xc();this.cd=Y.aw(this.G,this.Ea)};Y.oB=function(a){var b=new Y;b.qs(a);return b};Y.prototype.jm=function(a,b){this.Ea=4;this.mk(4);this.G[0].C(-a,-b);this.G[1].C(a,-b);this.G[2].C(a,b);this.G[3].C(-a,b);this.pa[0].C(0,-1);this.pa[1].C(1,0);this.pa[2].C(0,1);this.pa[3].C(-1,0);this.cd.$()};Y.lB=function(a,b){var c=new Y;c.jm(a,b);return c};Y.prototype.Pw=function(a,b,c,d){this.Ea=4;this.mk(4);this.G[0].C(-a,
-b);this.G[1].C(a,-b);this.G[2].C(a,b);this.G[3].C(-a,b);this.pa[0].C(0,-1);this.pa[1].C(1,0);this.pa[2].C(0,1);this.pa[3].C(-1,0);this.cd=c;a=new U;a.C(d);c=new dc(c,a);for(d=0;d<this.Ea;++d)this.G[d]=V.gc(c,this.G[d]),this.pa[d]=V.Eb(c.k,this.pa[d])};Y.nB=function(a,b,c,d){var e=new Y;e.Pw(a,b,c,d);return e};Y.prototype.ps=function(a,b){this.Ea=2;this.mk(2);this.G[0].B(a);this.G[1].B(b);this.cd.x=0.5*(a.x+b.x);this.cd.y=0.5*(a.y+b.y);this.pa[0]=V.lg(V.eb(b,a),1);this.pa[0].Xc();this.pa[1].x=-this.pa[0].x;
this.pa[1].y=-this.pa[0].y};Y.mB=function(a,b){var c=new Y;c.ps(a,b);return c};L=Y.prototype;L.Ti=function(a,b){for(var c=b.k,d=this.G[0],e=b.position.x+(c.g.x*d.x+c.i.x*d.y),g=b.position.y+(c.g.y*d.x+c.i.y*d.y),f=e,m=g,k=1;k<this.Ea;++k)var d=this.G[k],l=b.position.x+(c.g.x*d.x+c.i.x*d.y),d=b.position.y+(c.g.y*d.x+c.i.y*d.y),e=e<l?e:l,g=g<d?g:d,f=f>l?f:l,m=m>d?m:d;a.va.x=e-this.Oa;a.va.y=g-this.Oa;a.wa.x=f+this.Oa;a.wa.y=m+this.Oa};L.Yj=function(a,b){if(2==this.Ea)a.ug.x=0.5*(this.G[0].x+this.G[1].x),
a.ug.y=0.5*(this.G[0].y+this.G[1].y),a.Zf=0,a.Wi=0;else{for(var c=0,d=0,e=0,g=0,f=1/3,m=0;m<this.Ea;++m)var k=this.G[m],l=m+1<this.Ea?this.G[m+1]:this.G[0],h=k.x-0,n=k.y-0,s=l.x-0,x=l.y-0,v=h*x-n*s,t=0.5*v,e=e+t,c=c+t*f*(0+k.x+l.x),d=d+t*f*(0+k.y+l.y),k=h,g=g+v*(f*(0.25*(k*k+s*k+s*s)+(0*k+0*s))+0+(f*(0.25*(n*n+x*n+x*x)+(0*n+0*x))+0));a.Zf=b*e;a.ug.C(c*(1/e),d*(1/e));a.Wi=b*g}};L.Vl=function(a,b,c,d){var e=V.mg(c.k,a),g=b-V.sb(a,c.position),f=[],m=0,k=-1;b=-1;var l=u;for(a=a=0;a<this.Ea;++a){f[a]=
V.sb(e,this.G[a])-g;var h=f[a]<-Number.MIN_VALUE;0<a&&(h?l||(k=a-1,m++):l&&(b=a-1,m++));l=h}switch(m){case 0:return l?(a=new wc,this.Yj(a,1),d.B(V.gc(c,a.ug)),a.Zf):0;case 1:-1==k?k=this.Ea-1:b=this.Ea-1}a=(k+1)%this.Ea;e=(b+1)%this.Ea;g=(0-f[k])/(f[a]-f[k]);f=(0-f[b])/(f[e]-f[b]);k=T.n(this.G[k].x*(1-g)+this.G[a].x*g,this.G[k].y*(1-g)+this.G[a].y*g);b=T.n(this.G[b].x*(1-f)+this.G[e].x*f,this.G[b].y*(1-f)+this.G[e].y*f);f=0;g=T.n(0,0);for(m=this.G[a];a!=e;)a=(a+1)%this.Ea,l=a==e?b:this.G[a],h=0.5*
((m.x-k.x)*(l.y-k.y)-(m.y-k.y)*(l.x-k.x)),f+=h,g.x+=h*(k.x+m.x+l.x)/3,g.y+=h*(k.y+m.y+l.y)/3,m=l;g.Wc(1/f);d.B(V.gc(c,g));return f};L.Ho=function(a){a.G=this.G;a.ea=this.Ea;a.Oa=this.Oa};L.dm=function(a){for(var b=0,c=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.Ea;++d){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>c&&(b=d,c=e)}return b};L.ek=function(a){for(var b=0,c=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.Ea;++d){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>c&&(b=d,c=e)}return this.G[b]};L.mk=function(a){this.G=
[];this.pa=[];for(var b=this.G.length;b<a;b++)this.G[b]=T.n(0,0),this.pa[b]=T.n(0,0)};Y.aw=function(a,b){for(var c=T.n(0,0),d=0,e=1/3,g=0;g<b;++g){var f=a[g],m=g+1<b?a[g+1]:a[0],k=0.5*((f.x-0)*(m.y-0)-(f.y-0)*(m.x-0)),d=d+k;c.x+=k*e*(0+f.x+m.x);c.y+=k*e*(0+f.y+m.y)}c.x*=1/d;c.y*=1/d;return c};Y.oD=new U;Y.Ye="b2PolygonShape";var xc=function(){this.Po=this.Oo=this.Qo=this.Yc=0};L=xc.prototype;L.$h=function(a){this.Yc=a;this.Qo=this.Yc&255;this.Oo=(this.Yc&65280)>>8&255;this.Po=(this.Yc&16711680)>>
16&255;this.Ds=(this.Yc&4278190080)>>24&255};L.C=function(a){this.$h(a.Yc)};L.vs=function(a){this.Qo=a;this.Yc=this.Yc&4294967040|this.Qo&255};L.ts=function(a){this.Oo=a;this.Yc=this.Yc&4294902015|this.Oo<<8&65280};L.us=function(a){this.Po=a;this.Yc=this.Yc&4278255615|this.Po<<16&16711680};L.Qw=function(a){this.Ds=a;this.Yc=this.Yc&16777215|this.Ds<<24&4278190080};L.Ub=function(){var a=new xc;a.C(this);return a};var yc=function(){this.ke=T.n(0,0);this.id=new xc};yc.prototype.C=function(a){this.ke.B(a.ke);
this.id.C(a.id)};var zc=function(){this.va=T.n(0,0);this.wa=T.n(0,0)},Ac=[],Bc=function(){if(0<Ac.length){var a=Ac.pop();a.$();return a}return new zc};L=zc.prototype;L.$=function(){this.va.C(0,0);this.wa.C(0,0)};L.fm=function(){return 0>this.wa.x-this.va.x||0>this.wa.y-this.va.y?u:this.va.fm()&&this.wa.fm()};L.hw=function(){return T.n((this.va.x+this.wa.x)/2,(this.va.y+this.wa.y)/2)};L.lo=function(a){var b;return b=(b=(b=(b=q&&this.va.x<=a.va.x)&&this.va.y<=a.va.y)&&a.wa.x<=this.wa.x)&&a.wa.y<=this.wa.y};
L.qk=function(a){return 0<a.va.x-this.wa.x||0<a.va.y-this.wa.y||0<this.va.x-a.wa.x||0<this.va.y-a.wa.y?u:q};L.Ul=function(a,b){this.va.x=Math.min(a.va.x,b.va.x);this.va.y=Math.min(a.va.y,b.va.y);this.wa.x=Math.max(a.wa.x,b.wa.x);this.wa.y=Math.max(a.wa.y,b.wa.y)};var Cc=function(a,b,c,d){var e=0,g=b[0].ke,f=b[1].ke,m=c.x*g.x+c.y*g.y-d;c=c.x*f.x+c.y*f.y-d;0>=m&&a[e++].C(b[0]);0>=c&&a[e++].C(b[1]);0>m*c&&(c=m/(m-c),d=a[e].ke,d.x=g.x+c*(f.x-g.x),d.y=g.y+c*(f.y-g.y),a[e].id=0<m?b[0].id:b[1].id,e++);return e},
Hc=function(a,b,c,d,e){for(var g=b.k.g.x*a.pa[c].x+b.k.i.x*a.pa[c].y,f=b.k.g.y*a.pa[c].x+b.k.i.y*a.pa[c].y,m=e.k.g.x*g+e.k.g.y*f,k=e.k.i.x*g+e.k.i.y*f,l=0,h=Number.MAX_VALUE,n=0;n<d.Ea;n++){var s=d.G[n].x*m+d.G[n].y*k;s<h&&(h=s,l=n)}return(e.position.x+(e.k.g.x*d.G[l].x+e.k.i.x*d.G[l].y)-(b.position.x+(b.k.g.x*a.G[c].x+b.k.i.x*a.G[c].y)))*g+(e.position.y+(e.k.g.y*d.G[l].x+e.k.i.y*d.G[l].y)-(b.position.y+(b.k.g.y*a.G[c].x+b.k.i.y*a.G[c].y)))*f},Ic=function(a,b,c,d){for(var e=d.position.x+(d.k.g.x*
c.cd.x+d.k.i.x*c.cd.y),g=d.position.y+(d.k.g.y*c.cd.x+d.k.i.y*c.cd.y),e=e-(b.position.x+(b.k.g.x*a.cd.x+b.k.i.x*a.cd.y)),g=g-(b.position.y+(b.k.g.y*a.cd.x+b.k.i.y*a.cd.y)),f=e*b.k.g.x+g*b.k.g.y,g=e*b.k.i.x+g*b.k.i.y,e=0,m=-Number.MAX_VALUE,k=0;k<a.Ea;++k){var l=a.pa[k].x*f+a.pa[k].y*g;l>m&&(m=l,e=k)}f=Hc(a,b,e,c,d);g=e-1;0>g&&(g=a.Ea-1);m=Hc(a,b,g,c,d);k=e+1;k>=a.Ea&&(k=0);var l=Hc(a,b,k,c,d),h=0,n=0;if(m>f&&m>l){h=g;for(n=m;;)if(e=h-1,0>e&&(e=a.Ea-1),f=Hc(a,b,e,c,d),f>n)h=e,n=f;else break}else if(l>
f){h=k;for(n=l;;)if(e=h+1,e>=a.Ea&&(e=0),f=Hc(a,b,e,c,d),f>n)h=e,n=f;else break}else h=e,n=f;return{Us:h,Vn:n}},Kc=function(a,b,c){var d=new Jc;d.Mw(b,c.Qg,c.ao,c.Rg,c.bo);for(var e=0;20>e;){for(var g=[],f=0;f<d.ea;f++)g[f]={},g[f].Pb=d.G[f].Pb,g[f].Qb=d.G[f].Qb;2==d.ea?d.Rw():3==d.ea&&d.Sw();if(3==d.ea)break;f=d.jw();if(f.gm()<qc)break;var m=f.ah();d.G[d.ea].Pb=c.Qg.dm(V.mg(c.ao.k,m));d.G[d.ea].Jc=V.gc(c.ao,c.Qg.Ec(d.G[d.ea].Pb));d.G[d.ea].Qb=c.Rg.dm(V.mg(c.bo.k,f));d.G[d.ea].Xe=V.gc(c.bo,c.Rg.Ec(d.G[d.ea].Qb));
d.G[d.ea].Dc=V.eb(d.G[d.ea].Xe,d.G[d.ea].Jc);T.rc(f);T.rc(m);e++;m=u;for(f=0;f<g.length;f++)if(d.G[d.ea].Pb==g[f].Pb&&d.G[d.ea].Qb==g[f].Qb){m=q;break}if(m)break;d.ea++}d.kw(a.sf,a.tf);a.xg=V.eb(a.sf,a.tf).Df();d.Yw(b);c.Pv&&(b=c.Qg.Oa,c=c.Rg.Oa,a.xg>b+c&&a.xg>Number.MIN_VALUE?(a.xg-=b+c,d=V.eb(a.tf,a.sf),d.Xc(),a.sf.x+=b*d.x,a.sf.y+=b*d.y,a.tf.x-=c*d.x,a.tf.y-=c*d.y,T.rc(d)):(c=T.n(0,0),c.x=0.5*(a.sf.x+a.tf.x),c.y=0.5*(a.sf.y+a.tf.y),a.sf.x=a.tf.x=c.x,a.sf.y=a.tf.y=c.y,a.xg=0,T.rc(c)))},Lc=w(),Mc=
function(){this.sf=T.n(0,0);this.tf=T.n(0,0);this.xg=0},Nc=w();Nc.prototype.C=function(a){a.Ho(this)};Nc.prototype.dm=function(a){for(var b=0,c=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.ea;d++){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>c&&(b=d,c=e)}return b};Nc.prototype.ek=function(a){return this.G[this.dm(a)]};Nc.prototype.Ec=function(a){a===p&&(a=0);return this.G[a]};var Oc=function(){this.Yf=r;this.Nz=this.$C=0};L=Oc.prototype;L.Zj=function(a,b){var c=Pc(b);c.Ka.va.x=a.va.x-0.1;c.Ka.va.y=a.va.y-
0.1;c.Ka.wa.x=a.wa.x+0.1;c.Ka.wa.y=a.wa.y+0.1;this.Xr(c);return c};L.$j=function(a){this.ms(a);a.kd()};L.xo=function(a,b,c){if(a.Ka.lo(b))return u;this.ms(a);var d=0.1+2*Math.abs(c.x);c=0.1+2*Math.abs(c.y);a.Ka.va.x=b.va.x-d;a.Ka.va.y=b.va.y-c;a.Ka.wa.x=b.wa.x+d;a.Ka.wa.y=b.wa.y+c;this.Xr(a);return q};L.ck=function(a){return a.Ka};L.Eo=function(a,b){if(this.Yf!==r){var c=[];for(c.push(this.Yf);0<c.length;){var d=c.pop();if(d.Ka.qk(b))if(d.Yr()){if(!a(d.Ae))break}else c.push(d.Dd),c.push(d.Ff)}}};
L.Xr=function(a){this.Nz++;if(this.Yf===r)this.Yf=a,this.Yf.parent=r;else{var b=this.gw(a),c=b.parent,d=Pc();d.parent=c;d.Ka.Ul(a.Ka,b.Ka);if(c){b.parent.Dd==b?c.Dd=d:c.Ff=d;d.Dd=b;d.Ff=a;b.parent=d;for(a.parent=d;c&&!c.Ka.lo(d.Ka);)c.Ka.Ul(c.Dd.Ka,c.Ff.Ka),d=c,c=c.parent}else d.Dd=b,d.Ff=a,b.parent=d,this.Yf=a.parent=d}};L.gw=function(a){a=a.Ka.hw();for(var b=this.Yf;!b.Yr();)var c=b.Dd,b=b.Ff,d=Math.abs((c.Ka.va.x+c.Ka.wa.x)/2-a.x)+Math.abs((c.Ka.va.y+c.Ka.wa.y)/2-a.y),e=Math.abs((b.Ka.va.x+b.Ka.wa.x)/
2-a.x)+Math.abs((b.Ka.va.y+b.Ka.wa.y)/2-a.y),b=d<e?c:b;T.rc(a);return b};L.ms=function(a){if(a==this.Yf)this.Yf=r;else{var b=a.parent,c=b.parent;a=b.Dd==a?b.Ff:b.Dd;if(c){c.Dd==b?c.Dd=a:c.Ff=a;for(a.parent=c;c;){a=c.Ka;c.Ka.Ul(c.Dd.Ka,c.Ff.Ka);if(a.lo(c.Ka))break;c=c.parent}}else this.Yf=a,a.parent=r;b.kd()}};var Qc=function(){this.Og=new Oc;this.Dn=[]};L=Qc.prototype;L.Zj=function(a,b){var c=this.Og.Zj(a,b);this.Or(c);return c};L.$j=function(a){this.Ww(a);this.Og.$j(a)};L.xo=function(a,b,c){this.Og.xo(a,
b,c)&&this.Or(a)};L.qk=function(a,b){return this.Og.ck(a).qk(this.Og.ck(b))};L.ck=function(a){return this.Og.ck(a)};L.Xw=function(a){for(var b=[];0<this.Dn.length;){var c=this.Dn.pop();this.Og.Eo(function(a){a!=c.Ae&&b.push(new Rc(c.Ae,a));return q},this.Og.ck(c))}for(var d=0;d<b.length;){var e=b[d];a(e.Ek,e.Fk);for(d++;d<b.length;){var g=b[d];if(!(g.Ek==e.Ek&&g.Fk==e.Fk)&&!(g.Ek==e.Fk&&g.Fk==e.Ek))break;d++}}};L.Eo=function(a,b){this.Og.Eo(a,b)};L.Or=function(a){this.Dn.push(a)};L.Ww=function(a){ua(this.Dn,
a)};var Sc=function(a){this.Ka=Bc();this.Ae=this.parent=this.Ff=this.Dd=r;"undefined"!=typeof a&&(this.Ae=a)},Tc=[],Pc=function(a){if(0<Tc.length){var b=Tc.pop();"undefined"!=typeof a&&(b.Ae=a);b.Ka.$();return b}return new Sc(a)};Sc.prototype.kd=function(){this.Ae=this.parent=this.Ff=this.Dd=r;Tc.push(this)};Sc.prototype.Yr=function(){return this.Dd===r};var Rc=function(a,b){this.Ek=a;this.Fk=b},Vc=function(){this.Pa=this.Jb=0;this.ca=[];for(var a=0;2>a;a++)this.ca[a]=new Uc;this.Ac=T.n(0,0);this.na=
T.n(0,0)};Vc.prototype.tc=function(){for(var a=0;2>a;a++)this.ca[a].tc();this.Ac.$();this.na.$();this.Jb=this.Pa=0};Vc.prototype.C=function(a){this.Jb=a.Jb;for(var b=0;2>b;b++)this.ca[b].C(a.ca[b]);this.Ac.B(a.Ac);this.na.B(a.na);this.Pa=a.Pa};Vc.prototype.Ub=function(){var a=new Vc;a.C(this);return a};var Uc=function(){this.na=T.n(0,0);this.Ke=new xc;this.tc()};Uc.prototype.tc=function(){this.na.$();this.Ji=this.Fi=0;this.Ke.$h(0)};Uc.prototype.C=function(a){this.na.B(a.na);this.Fi=a.Fi;this.Ji=
a.Ji;this.Ke.C(a.Ke)};var Wc=function(){this.na=T.n(0,0);this.N=T.n(0,0)};Wc.prototype.Vb=function(a,b,c,d,e){this.wh=b;this.xh=d;var g,f,m,k=m=f=0,l=0;d=b=0;var h,n,k=0;1==a.count?(this.Pa=Xc,g=this.wh.Ec(a.Pb[0]),a=this.xh.Ec(a.Qb[0]),n=g,h=c.k,f=c.position.x+(h.g.x*n.x+h.i.x*n.y),m=c.position.y+(h.g.y*n.x+h.i.y*n.y),n=a,h=e.k,k=e.position.x+(h.g.x*n.x+h.i.x*n.y),l=e.position.y+(h.g.y*n.x+h.i.y*n.y),this.N.x=k-f,this.N.y=l-m,this.N.Xc()):(a.Qb[0]==a.Qb[1]?(this.Pa=Yc,b=this.wh.Ec(a.Pb[0]),d=this.wh.Ec(a.Pb[1]),
a=this.xh.Ec(a.Qb[0]),this.na.x=0.5*(b.x+d.x),this.na.y=0.5*(b.y+d.y),this.N=V.lg(V.eb(d,b),1),this.N.Xc(),n=this.N,h=c.k,b=h.g.x*n.x+h.i.x*n.y,d=h.g.y*n.x+h.i.y*n.y,n=this.na,h=c.k,f=c.position.x+(h.g.x*n.x+h.i.x*n.y),m=c.position.y+(h.g.y*n.x+h.i.y*n.y),n=a,h=e.k,k=e.position.x+(h.g.x*n.x+h.i.x*n.y),l=e.position.y+(h.g.y*n.x+h.i.y*n.y),k=(k-f)*b+(l-m)*d):a.Pb[0]==a.Pb[0]?(this.Pa=Zc,f=this.xh.Ec(a.Qb[0]),m=this.xh.Ec(a.Qb[1]),g=this.wh.Ec(a.Pb[0]),this.na.x=0.5*(f.x+m.x),this.na.y=0.5*(f.y+m.y),
this.N=V.lg(V.eb(m,f),1),this.N.Xc(),n=this.N,h=e.k,b=h.g.x*n.x+h.i.x*n.y,d=h.g.y*n.x+h.i.y*n.y,n=this.na,h=e.k,k=e.position.x+(h.g.x*n.x+h.i.x*n.y),l=e.position.y+(h.g.y*n.x+h.i.y*n.y),n=g,h=c.k,f=c.position.x+(h.g.x*n.x+h.i.x*n.y),m=c.position.y+(h.g.y*n.x+h.i.y*n.y),k=(f-k)*b+(m-l)*d):(b=this.wh.Ec(a.Pb[0]),d=this.wh.Ec(a.Pb[1]),f=this.xh.Ec(a.Qb[0]),m=this.xh.Ec(a.Qb[1]),k=V.Eb(c.k,V.eb(d,b)),l=V.Eb(e.k,V.eb(m,f)),e=k.x*k.x+k.y*k.y,c=l.x*l.x+l.y*l.y,g=V.eb(l,k),a=k.x*g.x+k.y*g.y,g=l.x*g.x+l.y*
g.y,l=k.x*l.x+k.y*l.y,h=e*c-l*l,k=0,0!=h&&(k=V.hb((l*g-a*c)/h,0,1)),0>(l*k+g)/c&&(k=V.hb((l-a)/e,0,1)),g=T.n(0,0),g.x=b.x+k*(d.x-b.x),g.y=b.y+k*(d.y-b.y),a=T.n(0,0),a.x=f.x+k*(m.x-f.x),a.y=f.y+k*(m.y-f.y),0==k||1==k?(this.Pa=Zc,this.N=V.lg(V.eb(m,f),1),this.N.Xc(),this.na=a):(this.Pa=Yc,this.N=V.lg(V.eb(d,b),1),this.na=g)),0>k&&this.N.ds())};Wc.prototype.Bf=function(a,b){var c,d,e=0;switch(this.Pa){case Xc:c=V.mg(a.k,this.N);d=V.mg(b.k,this.N.ah());c=this.wh.ek(c);d=this.xh.ek(d);c=V.gc(a,c);d=V.gc(b,
d);e=(d.x-c.x)*this.N.x+(d.y-c.y)*this.N.y;break;case Yc:e=V.Eb(a.k,this.N);c=V.gc(a,this.na);d=V.mg(b.k,e.ah());d=this.xh.ek(d);d=V.gc(b,d);e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case Zc:e=V.Eb(b.k,this.N),d=V.gc(b,this.na),c=V.mg(a.k,e.ah()),c=this.wh.ek(c),c=V.gc(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e};var Xc=1,Yc=2,Zc=4,Jc=function(){this.fa=new $c;this.Aa=new $c;this.Hd=new $c;this.G=[this.fa,this.Aa,this.Hd]};L=Jc.prototype;L.Mw=function(a,b,c,d,e){var g,f;this.ea=a.count;for(var m=this.G,
k=0;k<this.ea;k++){var l=m[k];l.Pb=a.Pb[k];l.Qb=a.Qb[k];g=b.Ec(l.Pb);f=d.Ec(l.Qb);l.Jc=V.gc(c,g);l.Xe=V.gc(e,f);l.Dc=V.eb(l.Xe,l.Jc);l.H=0}if(1<this.ea&&(a=a.bA,g=this.Wr(),g<0.5*a||2*a<g||g<Number.MIN_VALUE))this.ea=0;0==this.ea&&(l=m[0],l.Pb=0,l.Qb=0,g=b.Ec(0),f=d.Ec(0),l.Jc=V.gc(c,g),l.Xe=V.gc(e,f),l.Dc=V.eb(l.Xe,l.Jc),this.ea=1)};L.Yw=function(a){a.bA=this.Wr();a.count=this.ea;for(var b=this.G,c=0;c<this.ea;c++)a.Pb[c]=b[c].Pb,a.Qb[c]=b[c].Qb};L.jw=function(){if(1==this.ea)return this.fa.Dc.ah();
if(2==this.ea){var a=V.eb(this.Aa.Dc,this.fa.Dc);return 0<V.Th(a,this.fa.Dc.ah())?V.no(1,a):V.lg(a,1)}return T.n(0,0)};L.kw=function(a,b){1==this.ea?(a.B(this.fa.Jc),b.B(this.fa.Xe)):2==this.ea?(a.x=this.fa.H*this.fa.Jc.x+this.Aa.H*this.Aa.Jc.x,a.y=this.fa.H*this.fa.Jc.y+this.Aa.H*this.Aa.Jc.y,b.x=this.fa.H*this.fa.Xe.x+this.Aa.H*this.Aa.Xe.x,b.y=this.fa.H*this.fa.Xe.y+this.Aa.H*this.Aa.Xe.y):3==this.ea&&(b.x=a.x=this.fa.H*this.fa.Jc.x+this.Aa.H*this.Aa.Jc.x+this.Hd.H*this.Hd.Jc.x,b.y=a.y=this.fa.H*
this.fa.Jc.y+this.Aa.H*this.Aa.Jc.y+this.Hd.H*this.Hd.Jc.y)};L.Wr=function(){return 1==this.ea?0:2==this.ea?V.eb(this.fa.Dc,this.Aa.Dc).Df():3==this.ea?V.Th(V.eb(this.Aa.Dc,this.fa.Dc),V.eb(this.Hd.Dc,this.fa.Dc)):0};L.Rw=function(){var a=this.fa.Dc,b=this.Aa.Dc,c=V.eb(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.ea=this.fa.H=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.ea=this.Aa.H=1,this.fa.C(this.Aa)):(c=1/(b+a),this.fa.H=b*c,this.Aa.H=a*c,this.ea=2))};L.Sw=function(){var a=this.fa.Dc,b=this.Aa.Dc,c=this.Hd.Dc,d=V.eb(b,
a),e=V.sb(b,d),g=-V.sb(a,d),f=V.eb(c,a),m=V.sb(c,f),k=-V.sb(a,f),l=V.eb(c,b),h=V.sb(c,l),l=-V.sb(b,l),f=V.Th(d,f),d=f*V.Th(b,c),c=f*V.Th(c,a),a=f*V.Th(a,b);0>=g&&0>=k?this.ea=this.fa.H=1:0<e&&0<g&&0>=a?(m=1/(e+g),this.fa.H=e*m,this.Aa.H=g*m,this.ea=2):0<m&&0<k&&0>=c?(e=1/(m+k),this.fa.H=m*e,this.Hd.H=k*e,this.ea=2,this.Aa.C(this.Hd)):0>=e&&0>=l?(this.ea=this.Aa.H=1,this.fa.C(this.Aa)):0>=m&&0>=h?(this.ea=this.Hd.H=1,this.fa.C(this.Hd)):0<h&&0<l&&0>=d?(e=1/(h+l),this.Aa.H=h*e,this.Hd.H=l*e,this.ea=
2,this.fa.C(this.Hd)):(e=1/(d+c+a),this.fa.H=d*e,this.Aa.H=c*e,this.Hd.H=a*e,this.ea=3)};var ad=function(){this.Pb=[0,0,0];this.Qb=[0,0,0]},$c=w();$c.prototype.C=function(a){this.Jc.B(a.Jc);this.Xe.B(a.Xe);this.Dc.B(a.Dc);this.H=a.H;this.Pb=a.Pb;this.Qb=a.Qb};var bd=function(){this.Qg=new Nc;this.Rg=new Nc;this.yv=new tc;this.zv=new tc},cd=function(){this.ja=T.n(0,0);this.ca=[];for(var a=this.Jb=0;2>a;a++)this.ca[a]=T.n(0,0)};cd.prototype.Vb=function(a,b,c,d,e){if(0!=a.Jb){var g=0,f,m,k=0,l=0,h=0,
n=0,s=0;f=0;switch(a.Pa){case 1:m=b.k;f=a.na;g=b.position.x+m.g.x*f.x+m.i.x*f.y;b=b.position.y+m.g.y*f.x+m.i.y*f.y;m=d.k;f=a.ca[0].na;a=d.position.x+m.g.x*f.x+m.i.x*f.y;d=d.position.y+m.g.y*f.x+m.i.y*f.y;f=a-g;m=d-b;k=f*f+m*m;k>qc?(k=Math.sqrt(k),this.ja.x=f/k,this.ja.y=m/k):(this.ja.x=1,this.ja.y=0);f=b+c*this.ja.y;d-=e*this.ja.y;this.ca[0].x=0.5*(g+c*this.ja.x+(a-e*this.ja.x));this.ca[0].y=0.5*(f+d);break;case 2:m=b.k;f=a.Ac;k=m.g.x*f.x+m.i.x*f.y;l=m.g.y*f.x+m.i.y*f.y;m=b.k;f=a.na;h=b.position.x+
m.g.x*f.x+m.i.x*f.y;n=b.position.y+m.g.y*f.x+m.i.y*f.y;this.ja.x=k;this.ja.y=l;for(g=0;g<a.Jb;g++)m=d.k,f=a.ca[g].na,s=d.position.x+m.g.x*f.x+m.i.x*f.y,f=d.position.y+m.g.y*f.x+m.i.y*f.y,this.ca[g].x=s+0.5*(c-(s-h)*k-(f-n)*l-e)*k,this.ca[g].y=f+0.5*(c-(s-h)*k-(f-n)*l-e)*l;break;case 4:m=d.k;f=a.Ac;k=m.g.x*f.x+m.i.x*f.y;l=m.g.y*f.x+m.i.y*f.y;m=d.k;f=a.na;h=d.position.x+m.g.x*f.x+m.i.x*f.y;n=d.position.y+m.g.y*f.x+m.i.y*f.y;this.ja.x=-k;this.ja.y=-l;for(g=0;g<a.Jb;g++)m=b.k,f=a.ca[g].na,s=b.position.x+
m.g.x*f.x+m.i.x*f.y,f=b.position.y+m.g.y*f.x+m.i.y*f.y,this.ca[g].x=s+0.5*(e-(s-h)*k-(f-n)*l-c)*k,this.ca[g].y=f+0.5*(e-(s-h)*k-(f-n)*l-c)*l}}};var fc=function(a,b){this.Vc="Body"+fc.yo++;this.q=new dc;this.q.position.B(a.position);this.q.k.C(a.O);this.j=new tc;this.j.K.$();this.j.Uc=1;this.j.ne=this.j.H=a.O;this.j.p.x=this.q.k.g.x*this.j.K.x+this.q.k.i.x*this.j.K.y;this.j.p.y=this.q.k.g.y*this.j.K.x+this.q.k.i.y*this.j.K.y;this.j.p.x+=this.q.position.x;this.j.p.y+=this.q.position.y;this.j.wc.B(this.j.p);
this.m=a.gq.Ub();this.Ig=T.n(0,0);this.yj=a.ii;this.Iz=a.qp;this.pq=a.Ms;this.qq=a.Rs;this.$k=a.Td;this.Fa=b;this.ob=r;this.pd=new dd;this.ki=new ed;this.RC=0;this.u=a.Ns;this.Pz=a.xi;this.Dz=a.ei;this.kl=this.Ki=0;this.Pa=a.type;this.L=this.Pa==X.hc?1:0;this.D=this.Pa==X.hc?1:0;this.M=this.Ie=0;this.Mz=a.Qt;this.fj=new fd;this.Bn=[]};L=fc.prototype;L.Wl=function(a){a=new ec(this,this.q,a);this.$k&&a.Zj(this.Fa.dd.xj,this.q);this.fj.Uv(a);a.bl=this;0<a.xn&&this.os();this.Fa.Aq=q;return a};L.kd=function(){T.rc(this.m);
T.rc(this.Ig)};L.Qr=function(a){this.fj.Nw(a);for(var b=this.pd.Ba(gd);b;b=b.next)(a==b.ic.ub||a==b.ic.nb)&&this.Fa.dd.kd(b.ic);this.$k&&a.$j(this.Fa.dd.xj);a.kd();a.bl=r;this.os()};L.ok=function(a,b){this.q.k.C(b);this.q.position.B(a);var c=this.q.k,d=this.j.K;this.j.p.x=c.g.x*d.x+c.i.x*d.y;this.j.p.y=c.g.y*d.x+c.i.y*d.y;this.j.p.x+=this.q.position.x;this.j.p.y+=this.q.position.y;this.j.wc.B(this.j.p);this.j.ne=this.j.H=b;c=this.Fa.dd.xj;for(d=this.fj.Ba();d;d=d.next)d.Ae.ws(c,this.q,this.q);this.Fa.dd.Zl()};
L.zd=A("q");L.Io=function(a){this.ok(a,this.xd())};L.xd=function(){return this.j.H};L.hm=function(a){this.ok(this.q.position,a)};L.Vi=function(){return this.j.p};L.Wh=function(){return this.j.K};L.ai=function(a){this.Pa!=X.Ud&&this.m.B(a)};L.Vh=A("m");L.nk=function(a){a===p&&(a=0);this.Pa!=X.Ud&&(this.u=a)};L.$l=A("u");L.zf=function(a,b){this.Pa==X.hc&&(this.Fc(q),this.Ig.x+=a.x,this.Ig.y+=a.y,this.Ki+=(b.x-this.j.p.x)*a.y-(b.y-this.j.p.y)*a.x)};L.Rl=function(a){a===p&&(a=0);this.Pa==X.hc&&(this.Fc(q),
this.Ki+=a)};L.Vr=function(a){a||(a=new wc);a.Zf=this.L;a.Wi=this.Ie;a.ug.B(this.j.K);return a};L.os=function(){this.M=this.Ie=this.D=this.L=0;this.j.K.$();if(!(this.Pa==X.Ud||this.Pa==X.Ts)){for(var a=T.n(0,0),b=this.fj.Ba();b;b=b.next){var c=b.Ae;0!=c.xn&&(c=c.Vr(),this.L+=c.Zf,a.x+=c.ug.x*c.Zf,a.y+=c.ug.y*c.Zf,this.Ie+=c.Wi)}0<this.L?(this.D=1/this.L,a.x*=this.D,a.y*=this.D):this.D=this.L=1;0<this.Ie&&!this.Iz?(this.Ie-=this.L*(a.x*a.x+a.y*a.y),this.Ie*=this.Mz,this.M=1/this.Ie):this.M=this.Ie=
0;b=this.j.p.Ub();this.j.K.B(a);this.j.wc.B(V.gc(this.q,this.j.K));this.j.p.B(this.j.wc);this.m.x+=this.u*-(this.j.p.y-b.y);this.m.y+=this.u*+(this.j.p.x-b.x);T.rc(a);T.rc(b)}};L.em=function(a){var b=this.q.k;a=T.n(b.g.x*a.x+b.i.x*a.y,b.g.y*a.x+b.i.y*a.y);a.x+=this.q.position.x;a.y+=this.q.position.y;return a};L.uo=function(a){return V.Eb(this.q.k,a)};L.yd=function(a){return V.cs(this.q,a)};L.to=function(a){return V.mg(this.q.k,a)};L.iw=function(a){return T.n(this.m.x-this.u*(a.y-this.j.p.y),this.m.y+
this.u*(a.x-this.j.p.x))};L.sc=A("Pa");L.Fc=function(a){if(this.qq!=a){this.qq=a;this.kl=0;a||(this.m.$(),this.u=0,this.Ig.$(),this.Ki=0);for(a=0;a<this.Bn.length;a++)this.Bn[a].zs(this)}};L.Lc=A("qq");L.Yh=A("$k");L.ro=A("fj");L.Vj=function(a){this.ki.Vj(a)};L.lk=function(a){this.ki.lk(a)};L.$g=A("pd");L.xs=function(){var a=fc.IA;a.k.C(this.j.ne);var b=a.k,c=this.j.K;a.position.x=this.j.wc.x-(b.g.x*c.x+b.i.x*c.y);a.position.y=this.j.wc.y-(b.g.y*c.x+b.i.y*c.y);b=this.Fa.dd.xj;for(c=this.fj.Ba();c;c=
c.next)c.Ae.ws(b,a,this.q)};L.tb=function(){this.q.k.C(this.j.H);var a=this.q.k,b=this.j.K;this.q.position.x=this.j.p.x-(a.g.x*b.x+a.i.x*b.y);this.q.position.y=this.j.p.y-(a.g.y*b.x+a.i.y*b.y)};L.bi=function(a){if(this.Pa!=X.hc&&a.Pa!=X.hc)return u;for(var b=this.ob;b;b=b.next)if(b.ie==a&&b.Cg.qu==u)return u;return q};L.Zg=function(a){this.j.Zg(a);this.j.p.B(this.j.wc);this.j.H=this.j.ne;this.tb()};fc.yo=0;var X=function(){this.position=T.n(0,0);this.gq=T.n(0,0);this.ei=this.xi=this.Ns=this.O=0;this.Rs=
this.Ms=q;this.ii=this.qp=u;this.type=X.Ud;this.Td=q;this.Qt=1};X.Ud=0;X.Ts=1;X.hc=2;var id=function(){this.rm=[];for(var a=0;a<=hd;a++)this.rm[a]=r;this.tm=[];for(a=0;a<=hd;a++)this.tm[a]=r;this.$i={};this.Ws=0};L=id.prototype;L.Ba=function(a){return this.rm[a]};L.Ri=function(a){var b=a.Vc;this.$i[b]==r&&(this.Af(a,b,hd),this.zs(a),a.Bn.push(this),this.Ws++)};L.zs=function(a){var b=a.sc(),c=a.Vc,d=a.Lc(),e=a.Yh();b==X.hc?this.Af(a,c,jd):this.Ef(c,jd);b!=X.Ud?this.Af(a,c,kd):this.Ef(c,kd);b!=X.Ud&&
e&&d?this.Af(a,c,ld):this.Ef(c,ld);d?this.Af(a,c,md):this.Ef(c,md);e?this.Af(a,c,nd):this.Ef(c,nd)};L.kk=function(a){var b=a.Vc;if(this.$i[b]!=r){ua(a.Bn,this);for(a=0;a<=hd;a++)this.Ef(b,a);delete this.$i[b];this.Ws--}};L.Ef=function(a,b){var c=this.$i[a];if(c!=r){var d=c[b];d!=r&&(c[b]=r,c=d.Oe,d=d.next,c==r?this.rm[b]=d:c.$e(d),d==r?this.tm[b]=c:d.bf(c))}};L.Af=function(a,b,c){var d=this.$i[b];if(d==r){for(var d=[],e=0;e<=hd;e++)d[e]=r;this.$i[b]=d}d[c]==r&&(d[c]=new od(a),a=this.tm[c],a!=r?a.$e(d[c]):
this.rm[c]=d[c],d[c].bf(a),this.tm[c]=d[c])};var jd=0,kd=1,nd=2,ld=3,md=4,hd=5,od=function(a){this.body=a;this.Oe=this.next=r};od.prototype.$e=da("next");od.prototype.bf=da("Oe");od.prototype.Ja=A("body");var pd=w();pd.prototype.bi=function(a,b){var c=a.Ur(),d=b.Ur();return c.oh==d.oh&&0!=c.oh?0<c.oh:0!=(c.Gj&d.aj)&&0!=(c.aj&d.Gj)};var qd=new pd,rd=function(){this.eA=[];this.TA=[]},gc=w();gc.prototype.Sl=w();var td=function(a){this.Fa=a;this.rq=qd;this.Gg=gc.Ss;this.ru=new sd;this.xj=new Qc};td.prototype.Wv=
function(a,b){var c=a.Ja(),d=b.Ja();if(c!=d&&d.bi(c)&&this.rq.bi(a,b)){for(c=d.pd.Ba(gd);c;c=c.next)if(d=c.ic.ub,d==a){if(d=c.ic.nb,d==b)return}else if(d==b&&(d=c.ic.nb,d==a))return;this.ru.le(a,b)}};td.prototype.Zl=function(){var a=this;this.xj.Xw(function(b,c){a.Wv(b,c)})};td.prototype.kd=function(a){0<a.ge.Jb&&(a.ub.Ja().Fc(q),a.nb.Ja().Fc(q));a.Ow();this.ru.kd(a)};td.prototype.Zv=function(){for(var a=this.Fa.pd.Ba(gd);a;a=a.next){var b=a.ic,c=b.ub,d=b.nb,e=c.Ja(),g=d.Ja();if(!(e.Lc()==u&&g.Lc()==
u)){if(b.Mm){if(g.bi(e)==u){this.kd(b);continue}if(this.rq.bi(c,d)==u){this.kd(b);continue}b.Yv()}this.xj.qk(c.Gi,d.Gi)==u?this.kd(b):b.ys(this.Gg)}}};var ud=function(){this.aj=1;this.Gj=65535;this.oh=0};ud.prototype.Ub=function(){var a=new ud;a.aj=this.aj;a.Gj=this.Gj;a.oh=this.oh;return a};var ec=function(a,b,c){this.Vc="Fixture"+ec.yo++;this.Hz=c.filter.Ub();this.Bi=Bc();this.bl=a;this.Ng=c.shape.Ub();this.xn=c.gf;this.uq=c.Mf;this.jl=c.dg;this.zn=c.Op};L=ec.prototype;L.fc=A("Ng");L.Zh=A("zn");
L.Ur=function(){return this.Hz.Ub()};L.Ja=A("bl");L.Vr=function(a){a||(a=new wc);this.Ng.Yj(a,this.xn);return a};L.kd=function(){Ac.push(this.Bi)};L.Zj=function(a,b){this.Ng.Ti(this.Bi,b);this.Gi=a.Zj(this.Bi,this)};L.$j=function(a){this.Gi!=r&&(a.$j(this.Gi),this.Gi=r)};L.ws=function(a,b,c){if(this.Gi){var d=Bc(),e=Bc();this.Ng.Ti(d,b);this.Ng.Ti(e,c);this.Bi.Ul(d,e);Ac.push(d);Ac.push(e);b=V.eb(c.position,b.position);a.xo(this.Gi,this.Bi,b);T.rc(b)}};ec.yo=0;var jc=function(){this.filter=new ud;
this.filter.aj=1;this.filter.Gj=65535;this.filter.oh=0;this.shape=r;this.Mf=0.2;this.gf=this.dg=0;this.Op=u},fd=function(){this.sp=this.rp=r;this.Nm={};this.At=0};fd.prototype.Ba=A("rp");fd.prototype.Uv=function(a){var b=a.Vc;if(this.Nm[b]==r){a=new vd(a);var c=this.sp;c!=r?c.$e(a):this.rp=a;a.bf(c);this.sp=a;this.Nm[b]=a;this.At++}};fd.prototype.Nw=function(a){a=a.Vc;var b=this.Nm[a];if(b!=r){var c=b.Oe,b=b.next;c==r?this.rp=b:c.$e(b);b==r?this.sp=c:b.bf(c);delete this.Nm[a];this.At--}};var vd=function(a){this.Ae=
a;this.Oe=this.next=r};vd.prototype.$e=da("next");vd.prototype.bf=da("Oe");var wd=function(a,b){this.Qz=a;this.pf=b;this.Sf=[];this.yn=[];this.vh=[];this.Hg=[];this.Rc=[]};L=wd.prototype;L.Tl=function(){this.Sf=[];this.yn=[];this.vh=[];this.Hg=[];this.Rc=[]};L.dh=function(a,b,c){this.bx(a,b);this.pf.Vb(a,this.Hg,this.Hg.length);this.jx(a);this.dx(a);this.gx(a);this.ns(this.pf.Tf);c&&this.cx(a)};L.bx=function(a,b){for(var c=0;c<this.yn.length;c++){var d=this.yn[c];d.m.x+=a.ua*(b.x+d.D*d.Ig.x);d.m.y+=
a.ua*(b.y+d.D*d.Ig.y);d.u+=a.ua*d.M*d.Ki;d.m.Wc(V.hb(1-a.ua*d.Pz,0,1));d.u*=V.hb(1-a.ua*d.Dz,0,1)}};L.jx=function(a){this.pf.me(a);for(var b=0;b<this.Rc.length;b++)this.Rc[b].me(a);for(b=0;b<a.Ol;b++){for(var c=0;c<this.Rc.length;c++)this.Rc[c].Sd(a);this.pf.Sd()}for(a=0;a<this.Rc.length;a++)this.Rc[a].po();this.pf.po()};L.dx=function(a){for(var b=0;b<this.vh.length;++b){var c=this.vh[b],d=a.ua*c.m.x,e=a.ua*c.m.y;4<d*d+e*e&&(c.m.Xc(),c.m.x*=2*a.Ag,c.m.y*=2*a.Ag);d=a.ua*c.u;d*d>oc&&(c.u=0>c.u?-nc*
a.Ag:nc*a.Ag);c.j.wc.B(c.j.p);c.j.ne=c.j.H;c.j.p.x+=a.ua*c.m.x;c.j.p.y+=a.ua*c.m.y;c.j.H+=a.ua*c.u;c.tb()}};L.gx=function(a){for(var b=0;b<a.xl;b++){for(var c=this.pf.Rd(0.2),d=q,e=0;e<this.Rc.length;e++)var g=this.Rc[e].Rd(0.2),d=d&&g;if(c&&d)break}};L.cx=function(a){for(var b=Number.MAX_VALUE,c=0;c<this.vh.length;c++){var d=this.vh[c];!d.pq||Math.abs(d.u)>pc||1E-4<V.sb(d.m,d.m)?b=d.kl=0:(d.kl+=a.ua,b=Math.min(b,d.kl))}if(0.5<=b)for(a=0;a<this.Sf.length;a++)this.Sf[a].Fc(u)};L.Ko=function(a){var b=
0,c=0;this.pf.Vb(a,this.Hg,this.Hg.length);for(var d=this.pf,b=0;b<this.Rc.length;++b)this.Rc[b].me(a);for(b=0;b<a.Ol;++b){d.Sd();for(c=0;c<this.Rc.length;++c)this.Rc[c].Sd(a)}for(b=0;b<this.vh.length;++b){var c=this.vh[b],e=a.ua*c.m.x,g=a.ua*c.m.y;4<e*e+g*g&&(c.m.Xc(),c.m.x*=2*a.Ag,c.m.y*=2*a.Ag);e=a.ua*c.u;e*e>oc&&(c.u=0>c.u?-nc*a.Ag:nc*a.Ag);c.j.wc.B(c.j.p);c.j.ne=c.j.H;c.j.p.x+=a.ua*c.m.x;c.j.p.y+=a.ua*c.m.y;c.j.H+=a.ua*c.u;c.tb()}for(b=0;b<a.xl;++b){e=d.Rd(0.75);g=q;for(c=0;c<this.Rc.length;++c)var f=
this.Rc[c].Rd(0.2),g=g&&f;if(e&&g)break}this.ns(d.Tf)};L.ns=function(a){if(this.Qz!=r)for(var b=0;b<this.Hg.length;++b)for(var c=a[b],d=new rd,e=0;e<c.Ne;++e)d.eA[e]=c.Nb[e].Kb,d.TA[e]=c.Nb[e].gg};L.Ri=function(a){this.Sf.push(a);a.sc()!=X.Ud&&(this.vh.push(a),a.sc()==X.hc&&this.yn.push(a))};L.Si=function(a){this.Hg.push(a)};L.Mr=function(a){this.Rc.push(a)};var xd=function(a,b,c,d,e){this.ua=a;var g=0;0<a&&(g=1/a);this.Ag=g;this.Yb=b;this.xl=c;this.Ol=d;this.Xg=e},hc=function(a,b){this.dd=new td(this);
this.pf=new yd;this.Aq=this.uu=u;this.YC=r;this.vc=new id;this.pd=new dd;this.ob=r;this.ki=new ed;this.An=0;this.Fz=this.Xz=q;this.pq=b;this.su=a;this.tu=0;this.Lz=this.mo(new X)};hc.lw=1-100*Number.MIN_VALUE;L=hc.prototype;L.rs=function(a){this.dd.rq=a};L.ss=function(a){this.dd.Gg=a};L.mo=function(a){a=new fc(a,this);this.vc.Ri(a);return a};L.Yl=function(a){for(var b=a.ob;b;){var c=b,b=b.next;this.oo(c.Cg)}for(b=a.ki.Ba();b;b=b.next)b.it.kk(a);for(b=a.pd.Ba(gd);b;b=b.next)this.dd.kd(b.ic);for(b=
a.ro().Ba();b;b=b.next)a.Qr(b.Ae);a.kd();this.vc.kk(a)};L.Xl=function(a){var b=Z.le(a);b.Aj=r;if(b.uh=this.ob)this.ob.Aj=b;this.ob=b;this.An++;b.ed.Cg=b;b.ed.ie=b.R;b.ed.prev=r;if(b.ed.next=b.P.ob)b.P.ob.prev=b.ed;b.P.ob=b.ed;b.fd.Cg=b;b.fd.ie=b.P;b.fd.prev=r;if(b.fd.next=b.R.ob)b.R.ob.prev=b.fd;b.R.ob=b.fd;var c=a.I,d=a.J;if(!a.Yo)for(a=d.pd.Ba(gd);a;a=a.next)a.ic.cm(d)==c&&a.ic.Sr();return b};L.oo=function(a){var b=a.qu;a.Aj&&(a.Aj.uh=a.uh);a.uh&&(a.uh.Aj=a.Aj);a==this.ob&&(this.ob=a.uh);var c=
a.P,d=a.R;c.Fc(q);d.Fc(q);a.ed.prev&&(a.ed.prev.next=a.ed.next);a.ed.next&&(a.ed.next.prev=a.ed.prev);a.ed==c.ob&&(c.ob=a.ed.next);a.ed.prev=r;a.ed.next=r;a.fd.prev&&(a.fd.prev.next=a.fd.next);a.fd.next&&(a.fd.next.prev=a.fd.prev);a.fd==d.ob&&(d.ob=a.fd.next);a.fd.prev=r;a.fd.next=r;this.An--;if(!b)for(a=d.pd.Ba(gd);a;a=a.next)a.ic.cm(d)==c&&a.ic.Sr()};L.Vj=function(a){if(a.Fa!==r&&a.Fa!=this)throw Error("Controller can only be a member of one world");this.ki.Vj(a);a.Fa=this;return a};L.lk=function(a){this.ki.lk(a);
a.Fa=r;a.Tl()};L.ng=function(a,b,c){this.Aq&&(this.dd.Zl(),this.Aq=u);this.uu=q;a=new xd(a,this.tu*a,b,c,this.Xz);this.dd.Zv();0<a.ua&&(this.dh(a),this.Fz&&this.Ko(a),this.tu=a.Ag);this.uu=u};L.Pr=function(){for(var a=this.vc.Ba(jd);a;a=a.next)a.body.Ig.$(),a.body.Ki=0};L.$g=A("pd");var zd=[];hc.prototype.dh=function(a){for(var b=this.ki.Ba();b;b=b.next)b.it.ng(a);for(var b=new wd(this.dd.Gg,this.pf),c=this.vc.Ba(hd);c;c=c.next)c.body.gb=u;for(var d=this.pd.Ba(gd);d;d=d.next)d.ic.gb=u;for(c=this.ob;c;c=
c.uh)c.gb=u;for(c=this.vc.Ba(ld);c;c=c.next)if(d=c.body,!d.gb){b.Tl();zd.length=0;var e=zd;e.push(d);for(d.gb=q;0<e.length;){var g=e.pop();b.Ri(g);g.Lc()||g.Fc(q);if(g.sc()!=X.Ud){for(d=g.pd.Ba(Ad);d;d=d.next){var f=d.ic;f.gb||(b.Si(f),f.gb=q,f=f.cm(g),f.gb||(e.push(f),f.gb=q))}for(d=g.ob;d;d=d.next)!d.Cg.gb&&d.ie.Yh()&&(b.Mr(d.Cg),d.Cg.gb=q,d.ie.gb||(e.push(d.ie),d.ie.gb=q))}}b.dh(a,this.su,this.pq)}for(c=this.vc.Ba(ld);c;c=c.next)c.body.xs();this.dd.Zl()};hc.prototype.Ko=function(a){for(var b=new wd(this.dd.Gg,
this.pf),c=this.vc.Ba(hd);c;c=c.next){var d=c.body;d.gb=u;d.j.Uc=0}for(var e=this.pd.Ba(gd);e;e=e.next)e.ic.gb=u,e.ic.Ej=r;for(c=this.ob;c;c=c.uh)c.gb=u;for(;;){var c=this.hx(),g=c.cA,c=c.dA;if(g===r||hc.lw<c)break;e=g.ub.Ja();d=g.nb.Ja();hc.kv.C(e.j);hc.lv.C(d.j);e.Zg(c);d.Zg(c);g.ys(this.dd.Gg);g.Ej=r;if(g.Un||!g.enabled)e.j.C(hc.kv),d.j.C(hc.lv),e.tb(),d.tb();else if(g.Kl){e.sc()!=X.hc&&(e=d);b.Tl();zd.length=0;g=zd;g.push(e);for(e.gb=q;0<g.length;)if(d=g.pop(),b.Ri(d),d.Lc()||d.Fc(q),d.sc()==
X.hc){for(e=d.pd.Ba(Ad);e&&32!=b.Ez;e=e.next){var f=e.ic;f.gb||(b.Si(f),f.gb=q,f=f.cm(d),f.gb||(f.sc()!=X.Ud&&(f.Zg(c),f.Fc(q),g.push(f)),f.gb=q))}for(d=d.ob;d;d=d.next)32!=b.An&&(!d.Cg.gb&&d.ie.Yh())&&(b.Mr(d.Cg),d.Cg.gb=q,d.ie.gb||(d.ie.sc()!=X.Ud&&(d.ie.Zg(c),d.ie.Fc(q),g.push(d.ie)),d.ie.gb=q))}b.Ko(new xd((1-c)*a.ua,0,a.Ol,a.xl,u));for(c=0;c<b.Sf.length;c++)if(b.Sf[c].gb=u,b.Sf[c].Lc()&&b.Sf[c].sc()==X.hc){b.Sf[c].xs();for(e=b.Sf[c].pd.Ba(gd);e;e=e.next)e.ic.Ej=r}for(c=0;c<b.Ez;c++)b.Hg[c].gb=
u,b.Hg[c].Ej=r;for(c=0;c<b.An;c++)b.Rc[c].gb=u;this.dd.Zl()}}};hc.prototype.hx=function(){for(var a=r,b=1,c=this.pd.Ba(Bd);c;c=c.next){var d=c.ic;if(!this.ix(d)){var e=1;if(d.Ej!=r)e=d.Ej;else{if(d.Kl)e=1;else{var e=d.ub.Ja(),g=d.nb.Ja(),f=e.j.Uc;e.j.Uc<g.j.Uc?(f=g.j.Uc,e.j.Zg(f)):g.j.Uc<e.j.Uc&&(f=e.j.Uc,g.j.Zg(f));e=d.bw(e.j,g.j);0<e&&1>e&&(e=(1-e)*f+e)}d.Ej=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}}return{cA:a,dA:b}};hc.prototype.ix=function(a){var b=a.ub.Ja();a=a.nb.Ja();return(b.sc()!=X.hc||!b.Lc())&&
(a.sc()!=X.hc||!a.Lc())?q:u};var Dd=function(a,b){this.Vc="Contact"+Cd++;this.ge=new Vc;this.hl=new Vc;this.Kl=u;var c=a.Ja(),d=b.Ja();this.Zo=c.sc()!=X.hc||c.yj||d.sc()!=X.hc||d.yj;this.Un=a.Zh()||b.Zh();this.Mm=u;this.ub=a;this.nb=b;this.enabled=q;this.pm=c.$g();this.qm=d.$g();this.ko=d.Fa.$g();this.Nr()};L=Dd.prototype;L.tc=function(a,b){this.ge.tc();this.hl.tc();this.Kl=u;var c=a.Ja(),d=b.Ja();this.Zo=c.sc()!=X.hc||c.yj||d.sc()!=X.hc||d.yj;this.Un=a.Zh()||b.Zh();this.Mm=u;this.ub=a;this.nb=b;
this.enabled=q;this.pm=c.$g();this.qm=d.$g();this.ko=d.Fa.$g();this.Nr()};L.Nr=function(){this.pm.Si(this);this.qm.Si(this);this.ko.Si(this);this.As()};L.As=function(){var a=u,b=u;!this.Zh()&&this.vo()&&(this.wo()&&(a=q),this.Zo&&(b=q));this.pm.No(this,a,b);this.qm.No(this,a,b);this.ko.No(this,a,b)};L.Ow=function(){this.pm.Fo(this);this.qm.Fo(this);this.ko.Fo(this)};L.wo=A("Kl");L.Zh=A("Un");L.vo=A("enabled");L.cm=function(a){var b=this.ub.Ja();return b!=a?b:this.nb.Ja()};L.Sr=function(){this.Mm=
q};L.Yv=function(){this.Mm=u};L.ys=function(a){var b=this.hl;this.hl=this.ge;this.ge=b;this.enabled=q;var c=u,b=this.wo(),d=this.ub.Ja(),e=this.nb.Ja(),g=this.ub.Bi.qk(this.nb.Bi);if(this.Un){if(g){var c=this.ub.fc(),d=d.zd(),g=this.nb.fc(),f=e.zd(),e=new Lc;e.Qg=new Nc;e.Qg.C(c);e.Rg=new Nc;e.Rg.C(g);e.ao=d;e.bo=f;e.Pv=q;d=new ad;d.count=0;c=new Mc;Kc(c,d,e);c=c.xg<10*Number.MIN_VALUE}this.ge.Jb=0}else{this.Zo=d.sc()!=X.hc||d.yj||e.sc()!=X.hc||e.yj?q:u;if(g){this.Bf();c=0<this.ge.Jb;for(g=0;g<this.ge.Jb;g++){f=
this.ge.ca[g];f.Fi=0;for(var m=f.Ji=0;m<this.hl.Jb;m++){var k=this.hl.ca[m];if(k.Ke.Yc==f.Ke.Yc){f.Fi=k.Fi;f.Ji=k.Ji;break}}}}else this.ge.Jb=0;c!=b&&(d.Fc(q),e.Fc(q))}this.Kl=c;c!=b&&this.As();!b&&c&&a.Sl(this)};L.Bf=w();L.bw=function(a,b){Ed.Qg.C(this.ub.fc());Ed.Rg.C(this.nb.fc());Ed.yv=a;Ed.zv=b;Ed.YA=0.005;var c=Ed;Fd++;var d=c.Qg,e=c.Rg,g=c.yv,f=c.zv,m=d.Oa+e.Oa,c=c.YA,k=0,l=0,h=0;Gd.count=0;for(Hd.Pv=u;;){g.zd(Md,k);f.zd(Nd,k);Hd.Qg=d;Hd.Rg=e;Hd.ao=Md;Hd.bo=Nd;Kc(Od,Gd,Hd);if(0>=Od.xg){k=1;
break}Pd.Vb(Gd,d,Md,e,Nd);var n=Pd.Bf(Md,Nd);if(0>=n){k=1;break}0==l&&(h=n>m?Math.max(m-c,0.75*m):Math.max(n-c,0.02*m));if(n-h<0.5*c){if(0==l){k=1;break}break}var s=k,x=k,v=1;g.zd(Md,v);f.zd(Nd,v);var t=Pd.Bf(Md,Nd);if(t>=h){k=1;break}for(var z=0;;){var D=0,D=z&1?x+(h-n)*(v-x)/(t-n):0.5*(x+v);g.zd(Md,D);f.zd(Nd,D);var G=Pd.Bf(Md,Nd);if(Math.abs(G-h)<0.025*c){s=D;break}G>h?(x=D,n=G):(v=D,t=G);z++;Qd++;if(50==z)break}Rd=Math.max(Rd,z);if(s<(1+100*Number.MIN_VALUE)*k)break;k=s;l++;Sd++;if(1E3==l)break}Td=
Math.max(Td,l);return k};var Ed=new bd,Cd=0,Ud=function(a,b){Dd.call(this,a,b)};P(Ud,Dd);Ud.prototype.tc=function(a,b){Dd.prototype.tc.call(this,a,b)};Ud.prototype.Bf=function(){var a=this.ge,b=this.ub.fc(),c=this.ub.Ja().q,d=this.nb.fc(),e=this.nb.Ja().q;a.Jb=0;var g=e.position.x+(e.k.g.x*d.Xa.x+e.k.i.x*d.Xa.y)-(c.position.x+(c.k.g.x*b.Xa.x+c.k.i.x*b.Xa.y)),c=e.position.y+(e.k.g.y*d.Xa.x+e.k.i.y*d.Xa.y)-(c.position.y+(c.k.g.y*b.Xa.x+c.k.i.y*b.Xa.y)),e=b.Oa+d.Oa;g*g+c*c>e*e||(a.Pa=1,a.na.B(b.Xa),
a.Ac.$(),a.Jb=1,a.ca[0].na.B(d.Xa),a.ca[0].Ke.$h(0))};var Wd=function(){this.Rf=T.n(0,0);this.Ib=T.n(0,0);this.Sc=T.n(0,0);this.Pg=new U;this.Ad=new U;this.Nb=[];for(var a=0;2>a;a++)this.Nb[a]=new Vd},Vd=function(){this.Ib=T.n(0,0);this.zb=T.n(0,0);this.Ab=T.n(0,0)};Vd.prototype.tc=function(){this.Ib.C(0,0);this.zb.C(0,0);this.Ab.C(0,0)};var sd=function(){this.rf={};this.Jg={};this.Wj(Ud,ic.Ye,ic.Ye);this.Wj(Xd,Y.Ye,ic.Ye);this.Wj(Yd,Y.Ye,Y.Ye);this.Wj(Zd,"b2EdgeShape",ic.Ye);this.Wj($d,Y.Ye,"b2EdgeShape")};
sd.prototype.Wj=function(a,b,c){this.Jg[b]=this.Jg[b]||{};this.Jg[b][c]=this.Jg[b][c]||[];this.rf[b]=this.rf[b]||{};this.rf[b][c]=new ae;this.rf[b][c].mt=a;this.rf[b][c].Zu=q;b!=c&&(this.rf[c]=this.rf[c]||{},this.rf[c][b]=new ae,this.rf[c][b].mt=a,this.rf[c][b].Zu=u)};sd.prototype.le=function(a,b){var c=a.fc().Xh(),d=b.fc().Xh(),e=this.rf[c][d],g=e.mt;return g!=r?e.Zu?0<this.Jg[c][d].length?(c=this.Jg[c][d].pop(),c.tc(a,b),c):new g(a,b):0<this.Jg[d][c].length?(c=this.Jg[d][c].pop(),c.tc(b,a),c):new g(b,
a):r};sd.prototype.kd=function(a){var b=a.ub.fc().Xh(),c=a.nb.fc().Xh();this.Jg[b][c].push(a)};var dd=function(){this.vm=[];for(var a=0;a<=gd;a++)this.vm[a]=r;this.wm=[];for(a=0;a<=gd;a++)this.wm[a]=r;this.ji={};this.ht=0};L=dd.prototype;L.Ba=function(a){return this.vm[a]};L.Si=function(a){var b=a.Vc;if(this.ji[b]==r){this.ji[b]=[];for(var c=0;c<=gd;c++)this.ji[b][c]=r;this.Af(a,b,gd);this.ht++}};L.No=function(a,b,c){b?this.Af(a,a.Vc,Ad):this.Ef(a.Vc,Ad);c?this.Af(a,a.Vc,Bd):this.Ef(a.Vc,Bd)};L.Fo=
function(a){a=a.Vc;if(this.ji[a]!=r){for(var b=0;b<=gd;b++)this.Ef(a,b);delete this.ji[a];this.ht--}};L.Ef=function(a,b){var c=this.ji[a];if(c!=r){var d=c[b];if(d!=r){c[b]=r;var c=d.Oe,e=d.next;c==r?this.vm[b]=e:c.$e(e);e==r?this.wm[b]=c:e.bf(c);be.push(d)}}};L.Af=function(a,b,c){b=this.ji[b];if(b[c]==r){if(0<be.length){var d=be.pop();d.next=r;d.Oe=r;d.ic=a;a=d}else a=new ce(a);b[c]=a;a=this.wm[c];a!=r?(a.$e(b[c]),b[c].bf(a)):this.vm[c]=b[c];this.wm[c]=b[c]}};var Ad=0,Bd=1,gd=2,ce=function(a){this.ic=
a;this.Oe=this.next=r},be=[];ce.prototype.$e=da("next");ce.prototype.bf=da("Oe");var ae=function(){this.lD=r;this.mD=0},de=function(){this.ja=T.n(0,0);this.Fn=[];this.ca=[];for(var a=0;2>a;a++)this.ca[a]=T.n(0,0)};de.prototype.Vb=function(a){switch(a.type){case 1:this.Zw(a);break;case 2:this.$w(a);break;case 4:this.ax(a)}};de.prototype.Zw=function(a){var b=a.I.q.k,c=a.Ib,d=a.I.q.position.x+(b.g.x*c.x+b.i.x*c.y),e=a.I.q.position.y+(b.g.y*c.x+b.i.y*c.y),b=a.J.q.k,c=a.Nb[0].Ib,g=a.J.q.position.x+(b.g.x*
c.x+b.i.x*c.y),b=a.J.q.position.y+(b.g.y*c.x+b.i.y*c.y),c=g-d,f=b-e,m=c*c+f*f;m>qc?(m=Math.sqrt(m),this.ja.x=c/m,this.ja.y=f/m):(this.ja.x=1,this.ja.y=0);this.ca[0].x=0.5*(d+g);this.ca[0].y=0.5*(e+b);this.Fn[0]=c*this.ja.x+f*this.ja.y-a.Rn};de.prototype.$w=function(a){this.ja.x=a.I.q.k.g.x*a.Rf.x+a.I.q.k.i.x*a.Rf.y;this.ja.y=a.I.q.k.g.y*a.Rf.x+a.I.q.k.i.y*a.Rf.y;for(var b=a.I.q.position.x+(a.I.q.k.g.x*a.Ib.x+a.I.q.k.i.x*a.Ib.y),c=a.I.q.position.y+(a.I.q.k.g.y*a.Ib.x+a.I.q.k.i.y*a.Ib.y),d=0;d<a.Ne;d++){var e=
a.J.q.position.x+(a.J.q.k.g.x*a.Nb[d].Ib.x+a.J.q.k.i.x*a.Nb[d].Ib.y),g=a.J.q.position.y+(a.J.q.k.g.y*a.Nb[d].Ib.x+a.J.q.k.i.y*a.Nb[d].Ib.y);this.Fn[d]=(e-b)*this.ja.x+(g-c)*this.ja.y-a.Rn;this.ca[d].x=e;this.ca[d].y=g}};de.prototype.ax=function(a){this.ja.x=a.J.q.k.g.x*a.Rf.x+a.J.q.k.i.x*a.Rf.y;this.ja.y=a.J.q.k.g.y*a.Rf.x+a.J.q.k.i.y*a.Rf.y;for(var b=a.J.q.position.x+(a.J.q.k.g.x*a.Ib.x+a.J.q.k.i.x*a.Ib.y),c=a.J.q.position.y+(a.J.q.k.g.y*a.Ib.x+a.J.q.k.i.y*a.Ib.y),d=0;d<a.Ne;d++){var e=a.I.q.position.x+
(a.I.q.k.g.x*a.Nb[d].Ib.x+a.I.q.k.i.x*a.Nb[d].Ib.y),g=a.I.q.position.y+(a.I.q.k.g.y*a.Nb[d].Ib.x+a.I.q.k.i.y*a.Nb[d].Ib.y);this.Fn[d]=(e-b)*this.ja.x+(g-c)*this.ja.y-a.Rn;this.ca[d].C(e,g)}this.ja.x*=-1;this.ja.y*=-1};var yd=function(){this.Tf=[]};L=yd.prototype;L.Vb=function(a,b,c){for(this.cl=c;this.Tf.length<this.cl;)this.Tf[this.Tf.length]=new Wd;for(a=0;a<c;a++){var d=b[a],e=d.ub,g=d.nb,f=e.Ng.Oa,m=g.Ng.Oa,k=e.Ja(),l=g.Ja(),h=d.ge,n=Math.sqrt(e.uq*g.uq),s=e.jl>g.jl?e.jl:g.jl,x=k.m.x,v=k.m.y,
t=l.m.x,z=l.m.y,D=k.u,G=l.u;ee.Vb(h,k.q,f,l.q,m);g=ee.ja.x;d=ee.ja.y;e=this.Tf[a];e.I=k;e.J=l;e.Yz=h;e.Sc.x=g;e.Sc.y=d;e.Ne=h.Jb;e.Mf=n;e.dg=s;e.Rf.x=h.Ac.x;e.Rf.y=h.Ac.y;e.Ib.x=h.na.x;e.Ib.y=h.na.y;e.Rn=f+m;e.type=h.Pa;for(f=0;f<e.Ne;++f){n=h.ca[f];m=e.Nb[f];m.Kb=n.Fi;m.gg=n.Ji;m.Ib.B(n.na);var n=m.zb.x=ee.ca[f].x-k.j.p.x,s=m.zb.y=ee.ca[f].y-k.j.p.y,E=m.Ab.x=ee.ca[f].x-l.j.p.x,H=m.Ab.y=ee.ca[f].y-l.j.p.y,I=n*d-s*g,J=E*d-H*g,I=I*I,J=J*J;m.Pg=1/(k.D+l.D+k.M*I+l.M*J);var F=k.L*k.D+l.L*l.D,F=F+(k.L*
k.M*I+l.L*l.M*J);m.ey=1/F;J=d;F=-g;I=n*F-s*J;J=E*F-H*J;I*=I;J*=J;m.UA=1/(k.D+l.D+k.M*I+l.M*J);m.Nl=0;n=e.Sc.x*(t+-G*H-x- -D*s)+e.Sc.y*(z+G*E-v-D*n);-1>n&&(m.Nl+=-e.dg*n)}2==e.Ne&&(z=e.Nb[0],t=e.Nb[1],h=k.D,k=k.M,x=l.D,l=l.M,v=z.zb.x*d-z.zb.y*g,z=z.Ab.x*d-z.Ab.y*g,D=t.zb.x*d-t.zb.y*g,t=t.Ab.x*d-t.Ab.y*g,g=h+x+k*v*v+l*z*z,d=h+x+k*D*D+l*t*t,l=h+x+k*v*D+l*z*t,g*g<100*(g*d-l*l)?(e.Ad.g.C(g,l),e.Ad.i.C(l,d),e.Ad.so(e.Pg)):e.Ne=1)}};L.me=function(a){for(var b=0;b<this.cl;++b){var c=this.Tf[b],d=c.I,e=c.J,
g=d.D,f=d.M,m=e.D,k=e.M,l=c.Sc.x,h=c.Sc.y,n=h,s=-l,x=0,v=0;if(a.Xg){v=c.Ne;for(x=0;x<v;++x){var t=c.Nb[x];t.Kb*=a.Yb;t.gg*=a.Yb;var z=t.Kb*l+t.gg*n,D=t.Kb*h+t.gg*s;d.u-=f*(t.zb.x*D-t.zb.y*z);d.m.x-=g*z;d.m.y-=g*D;e.u+=k*(t.Ab.x*D-t.Ab.y*z);e.m.x+=m*z;e.m.y+=m*D}}else{v=c.Ne;for(x=0;x<v;++x)d=c.Nb[x],d.Kb=0,d.gg=0}}};L.Sd=function(){for(var a=0;a<this.cl;a++)this.Tw(this.Tf[a])};L.Tw=function(a){for(var b=a.Sc.x,c=a.Sc.y,d=0;d<a.Ne;d++)yd.prototype.Uw(a,a.Nb[d]);if(1==a.Ne){var d=a.Nb[0],e=d.Kb-d.Pg*
((a.J.m.x-a.J.u*d.Ab.y-a.I.m.x+a.I.u*d.zb.y)*b+(a.J.m.y+a.J.u*d.Ab.x-a.I.m.y-a.I.u*d.zb.x)*c-d.Nl),e=0<e?e:0,g=e-d.Kb,f=g*b,c=g*c;a.I.m.x-=a.I.D*f;a.I.m.y-=a.I.D*c;a.I.u-=a.I.M*(d.zb.x*c-d.zb.y*f);a.J.m.x+=a.J.D*f;a.J.m.y+=a.J.D*c;a.J.u+=a.J.M*(d.Ab.x*c-d.Ab.y*f);d.Kb=e}else for(var d=a.Nb[0],e=a.Nb[1],g=d.Kb,f=e.Kb,m=(a.J.m.x-a.J.u*d.Ab.y-a.I.m.x+a.I.u*d.zb.y)*b+(a.J.m.y+a.J.u*d.Ab.x-a.I.m.y-a.I.u*d.zb.x)*c-d.Nl,c=(a.J.m.x-a.J.u*e.Ab.y-a.I.m.x+a.I.u*e.zb.y)*b+(a.J.m.y+a.J.u*e.Ab.x-a.I.m.y-a.I.u*
e.zb.x)*c-e.Nl,m=m-(a.Ad.g.x*g+a.Ad.i.x*f),c=c-(a.Ad.g.y*g+a.Ad.i.y*f);;){b=-(a.Pg.g.x*m+a.Pg.i.x*c);if(0<=b){var k=-(a.Pg.g.y*m+a.Pg.i.y*c);if(0<=k){this.km(a,d,e,b-g,k-f);d.Kb=b;e.Kb=k;break}}b=-d.Pg*m;if(0<=b&&0<=a.Ad.g.y*b+c){this.km(a,d,e,b-g,-f);d.Kb=b;e.Kb=0;break}b=-e.Pg*c;if(0<=b&&0<=a.Ad.i.x*b+m){this.km(a,d,e,-g,b-f);d.Kb=0;e.Kb=b;break}if(0<=m&&0<=c){this.km(a,d,e,-g,-f);d.Kb=0;e.Kb=0;break}break}};L.Uw=function(a,b){var c=a.Sc.y,d=-a.Sc.x,e=a.Mf*b.Kb,e=V.hb(b.gg-b.UA*((a.J.m.x-a.J.u*
b.Ab.y-a.I.m.x+a.I.u*b.zb.y)*c+(a.J.m.y+a.J.u*b.Ab.x-a.I.m.y-a.I.u*b.zb.x)*d),-e,e),g=e-b.gg,c=g*c,d=g*d;a.I.m.x-=a.I.D*c;a.I.m.y-=a.I.D*d;a.I.u-=a.I.M*(b.zb.x*d-b.zb.y*c);a.J.m.x+=a.J.D*c;a.J.m.y+=a.J.D*d;a.J.u+=a.J.M*(b.Ab.x*d-b.Ab.y*c);b.gg=e};L.km=function(a,b,c,d,e){var g=d*a.Sc.x;d*=a.Sc.y;var f=e*a.Sc.x;e*=a.Sc.y;a.I.m.x-=a.I.D*(g+f);a.I.m.y-=a.I.D*(d+e);a.I.u-=a.I.M*(b.zb.x*d-b.zb.y*g+c.zb.x*e-c.zb.y*f);a.J.m.x+=a.J.D*(g+f);a.J.m.y+=a.J.D*(d+e);a.J.u+=a.J.M*(b.Ab.x*d-b.Ab.y*g+c.Ab.x*e-c.Ab.y*
f);b.Kb=0;c.Kb=0};L.po=function(){for(var a=0;a<this.cl;++a)for(var b=this.Tf[a],c=b.Yz,d=0;d<b.Ne;++d){var e=c.ca[d],g=b.Nb[d];e.Fi=g.Kb;e.Ji=g.gg}};L.Rd=function(a){a===p&&(a=0);for(var b=0,c=0;c<this.cl;c++){var d=this.Tf[c],e=d.I,g=d.J,f=e.L*e.D,m=e.L*e.M,k=g.L*g.D,l=g.L*g.M;fe.Vb(d);for(var h=fe.ja,n=0;n<d.Ne;n++){var s=d.Nb[n],x=fe.ca[n],v=fe.Fn[n],t=x.x-e.j.p.x,z=x.y-e.j.p.y,D=x.x-g.j.p.x,x=x.y-g.j.p.y,b=b<v?b:v,v=-s.ey*V.hb(a*(v+0.005),-0.2,0),s=v*h.x,v=v*h.y;e.j.p.x-=f*s;e.j.p.y-=f*v;e.j.H-=
m*(t*v-z*s);e.tb();g.j.p.x+=k*s;g.j.p.y+=k*v;g.j.H+=l*(D*v-x*s);g.tb()}}return-0.0075<b};var Zd=function(a,b){Dd.call(this,a,b)};P(Zd,Dd);Zd.prototype.tc=function(a,b){Dd.prototype.tc.call(this,a,b)};Zd.prototype.Bf=function(){this.ub.fc();this.nb.fc()};var Xd=function(a,b){Dd.call(this,a,b)};P(Xd,Dd);Xd.prototype.tc=function(a,b){Dd.prototype.tc.call(this,a,b)};Xd.prototype.Bf=function(){a:{var a=this.ge,b=this.ub.fc(),c=this.ub.Ja().q,d=this.nb.fc(),e=this.nb.Ja().q;a.Jb=0;for(var g=e.position.x+
(e.k.g.x*d.Xa.x+e.k.i.x*d.Xa.y)-c.position.x,f=e.position.y+(e.k.g.y*d.Xa.x+e.k.i.y*d.Xa.y)-c.position.y,e=g*c.k.g.x+f*c.k.g.y,c=g*c.k.i.x+f*c.k.i.y,g=0,f=-Number.MAX_VALUE,m=b.Oa+d.Oa,k=0;k<b.Ea;++k){var l=b.pa[k].x*(e-b.G[k].x)+b.pa[k].y*(c-b.G[k].y);if(l>m)break a;l>f&&(f=l,g=k)}l=g+1;l>=b.Ea&&(l=0);var k=b.G[g],h=b.G[l];f<Number.MIN_VALUE?(a.Jb=1,a.Pa=2,a.Ac.B(b.pa[g]),a.na.x=0.5*(k.x+h.x),a.na.y=0.5*(k.y+h.y),a.ca[0].na.B(d.Xa),a.ca[0].Ke.$h(0)):0>=(e-k.x)*(h.x-k.x)+(c-k.y)*(h.y-k.y)?(e-k.x)*
(e-k.x)+(c-k.y)*(c-k.y)>m*m||(a.Jb=1,a.Pa=2,a.Ac.x=e-k.x,a.Ac.y=c-k.y,a.Ac.Xc(),a.na.B(k),a.ca[0].na.B(d.Xa),a.ca[0].Ke.$h(0)):0>=(e-h.x)*(k.x-h.x)+(c-h.y)*(k.y-h.y)?(e-h.x)*(e-h.x)+(c-h.y)*(c-h.y)>m*m||(a.Jb=1,a.Pa=2,a.Ac.x=e-h.x,a.Ac.y=c-h.y,a.Ac.Xc(),a.na.B(h),a.ca[0].na.B(d.Xa),a.ca[0].Ke.$h(0)):(l=0.5*(k.x+h.x),k=0.5*(k.y+h.y),f=(e-l)*b.pa[g].x+(c-k)*b.pa[g].y,f>m||(a.Jb=1,a.Pa=2,a.Ac.x=b.pa[g].x,a.Ac.y=b.pa[g].y,a.Ac.Xc(),a.na.C(l,k),a.ca[0].na.B(d.Xa),a.ca[0].Ke.$h(0)))}};var $d=function(a,
b){Dd.call(this,a,b)};P($d,Dd);$d.prototype.tc=function(a,b){Dd.prototype.tc.call(this,a,b)};$d.prototype.Bf=function(){this.ub.fc();this.nb.fc()};var Yd=function(a,b){Dd.call(this,a,b)};P(Yd,Dd);Yd.prototype.tc=function(a,b){Dd.prototype.tc.call(this,a,b)};Yd.prototype.Bf=function(){var a=this.ge,b=this.ub.fc(),c=this.ub.Ja().q,d=this.nb.fc(),e=this.nb.Ja().q;a.Jb=0;var g=b.Oa+d.Oa,f=Ic(b,c,d,e),m=f.Us;if(!(f.Vn>g)){var k=Ic(d,e,b,c);if(!(k.Vn>g)){var l=b,h=d,n=c,s=e,x=0;a.Pa=2;k.Vn>0.98*f.Vn+0.001&&
(l=d,h=b,n=e,s=c,m=k.Us,a.Pa=4,x=1);b=m;c=s;d=ge;b===p&&(b=0);for(var e=n.k.g.x*l.pa[b].x+n.k.i.x*l.pa[b].y,f=n.k.g.y*l.pa[b].x+n.k.i.y*l.pa[b].y,k=c.k.g.x*e+c.k.g.y*f,f=c.k.i.x*e+c.k.i.y*f,e=k,k=0,v=Number.MAX_VALUE,t=0;t<h.Ea;t++){var z=e*h.pa[t].x+f*h.pa[t].y;z<v&&(v=z,k=t)}e=k+1;e>=h.Ea&&(e=0);d[0].ke.x=c.position.x+(c.k.g.x*h.G[k].x+c.k.i.x*h.G[k].y);d[0].ke.y=c.position.y+(c.k.g.y*h.G[k].x+c.k.i.y*h.G[k].y);d[0].id.vs(b);d[0].id.ts(k);d[0].id.us(0);d[1].ke.x=c.position.x+(c.k.g.x*h.G[e].x+c.k.i.x*
h.G[e].y);d[1].ke.y=c.position.y+(c.k.g.y*h.G[e].x+c.k.i.y*h.G[e].y);d[1].id.vs(b);d[1].id.ts(e);d[1].id.us(1);b=l.G[m];m=m+1<l.Ea?l.G[m+1]:l.G[0];he.C(m.x-b.x,m.y-b.y);he.Xc();ie.x=he.y;ie.y=-he.x;je.C(0.5*(b.x+m.x),0.5*(b.y+m.y));ke.x=n.k.g.x*he.x+n.k.i.x*he.y;ke.y=n.k.g.y*he.x+n.k.i.y*he.y;le.x=-ke.x;le.y=-ke.y;me.x=ke.y;me.y=-ke.x;ne.x=n.position.x+(n.k.g.x*b.x+n.k.i.x*b.y);ne.y=n.position.y+(n.k.g.y*b.x+n.k.i.y*b.y);oe.x=n.position.x+(n.k.g.x*m.x+n.k.i.x*m.y);oe.y=n.position.y+(n.k.g.y*m.x+n.k.i.y*
m.y);if(!(2>Cc(pe,ge,le,-ke.x*ne.x-ke.y*ne.y+g))&&!(2>Cc(qe,pe,ke,ke.x*oe.x+ke.y*oe.y+g))){a.Ac.B(ie);a.na.B(je);n=me.x*ne.x+me.y*ne.y;for(l=m=0;2>l;++l)me.x*qe[l].ke.x+me.y*qe[l].ke.y-n<=g&&(b=qe[l].ke.x-s.position.x,h=qe[l].ke.y-s.position.y,a.ca[m].na.x=b*s.k.g.x+h*s.k.g.y,a.ca[m].na.y=b*s.k.i.x+h*s.k.i.y,a.ca[m].Ke.C(qe[l].id),a.ca[m].Ke.Qw(x),m++);a.Jb=m}}}};var se=function(){this.Vc="Controller"+re++;this.Fa=r;this.vc=new id};se.prototype.ng=w();se.prototype.Ri=function(a){this.vc.Ri(a);a.Vj(this)};
se.prototype.kk=function(a){this.vc.kk(a);a.lk(this)};se.prototype.Tl=function(){for(var a=this.vc.Ba(hd);a;a=a.next)this.kk(a.body)};var re=0,te=function(){se.call(this);this.Sc=T.n(0,-1);this.gf=this.offset=0;this.Rv=T.n(0,0);this.zz=2;this.rx=1;this.tD=u;this.dB=q;this.Lt=r};P(te,se);te.prototype.ng=function(){this.dB&&(this.Lt=this.Fa.su.Ub());for(var a=this.vc.Ba(md);a;a=a.next){for(var b=a.body,c=T.n(0,0),d=T.n(0,0),e=0,g=0,f=b.ro().Ba();f;f=f.next){var m=T.n(0,0),k=f.Ae.fc().Vl(this.Sc,this.offset,
b.zd(),m),e=e+k;c.x+=k*m.x;c.y+=k*m.y;var l=0,l=1,g=g+k*l;d.x+=k*m.x*l;d.y+=k*m.y*l}e<Number.MIN_VALUE||(c.x/=e,c.y/=e,d.x/=g,d.y/=g,g=this.Lt.ah(),g.Wc(this.gf*e),b.zf(g,d),g=b.iw(c),g.Mo(this.Rv),g.Wc(-this.zz*e),b.zf(g,c),b.Rl(-b.Ie/b.L*e*b.$l()*this.rx),T.rc(c),T.rc(d))}};var ue=function(){se.call(this);this.Lr=T.n(0,0)};P(ue,se);ue.prototype.ng=function(a){a=T.n(this.Lr.x*a.ua,this.Lr.y*a.ua);for(var b=this.vc.Ba(md);b;b=b.next){var c=b.body,d=c.Vh();c.ai(T.n(d.x+a.x,d.y+a.y))}T.rc(a)};var ve=
function(){se.call(this);this.fw=T.n(0,0)};P(ve,se);ve.prototype.ng=function(){for(var a=this.vc.Ba(md);a;a=a.next){var b=a.body;b.zf(this.fw,b.Vi())}};var ed=function(){this.bp=this.$o=r;this.xm={};this.jt=0};ed.prototype.Ba=A("$o");ed.prototype.Vj=function(a){var b=a.Vc;if(this.xm[b]==r){a=new we(a);var c=this.bp;c!=r?c.$e(a):this.$o=a;a.bf(c);this.bp=a;this.xm[b]=a;this.jt++}};ed.prototype.lk=function(a){a=a.Vc;var b=this.xm[a];if(b!=r){var c=b.Oe,b=b.next;c==r?this.$o=b:c.$e(b);b==r?this.bp=c:
b.bf(c);delete this.xm[a];this.jt--}};var we=function(a){this.it=a;this.Oe=this.next=r};we.prototype.$e=da("next");we.prototype.bf=da("Oe");var xe=function(){se.call(this);this.Tr=1;this.pz=q};P(xe,se);xe.prototype.ng=function(){var a=r,b=r,c=0,d=r,e=r,g=0,f=0,m=0,g=r;if(this.pz)for(var k=this.vc.Ba(hd);k;k=k.next)for(var a=k.body,b=a.Vi(),c=a.L,l=this.vc.Ba(hd);l;l=l.next){if(d=l.body,a.Lc()||d.Lc())e=d.Vi(),g=e.x-b.x,f=e.y-b.y,m=g*g+f*f,m<Number.MIN_VALUE||(g=T.n(g,f),g.Wc(this.Tr/m/Math.sqrt(m)*
c*d.L),a.Lc()&&a.zf(g,b),g.Wc(-1),d.Lc()&&d.zf(g,e),T.rc(g))}else for(k=this.vc.Ba(hd);k;k=k.next){a=bodyNode.body;b=a.Vi();c=a.L;for(l=this.vc.Ba(hd);l;l=l.next)if(d=bodyNode.body,a.Lc()||d.Lc())e=d.Vi(),g=e.x-b.x,f=e.y-b.y,m=g*g+f*f,m<Number.MIN_VALUE||(g=T.n(g,f),g.Wc(this.Tr/m*c*d.L),a.Lc()&&a.zf(g,b),g.Wc(-1),d.Lc()&&d.zf(g,e),T.rc(g))}};var ye=function(){se.call(this);this.Vw=new U;this.Fq=0};P(ye,se);ye.prototype.ng=function(a){a=a.ua;if(!(a<=Number.MIN_VALUE)){a>this.Fq&&0<this.Fq&&(a=this.Fq);
for(var b=this.vc.Ba(md);b;b=b.next){var c=b.body,d=c.uo(V.Eb(this.Vw,c.to(c.Vh())));c.ai(T.n(c.Vh().x+d.x*a,c.Vh().y+d.y*a))}}};var Z=function(a){this.ed=new ze;this.fd=new ze;this.Wf=T.n(0,0);this.Xf=T.n(0,0);this.Pa=a.type;this.uh=this.Aj=r;this.P=a.I;this.R=a.J;this.qu=a.Yo};Z.prototype.sc=A("Pa");Z.prototype.bk=A("P");Z.prototype.qo=A("R");Z.prototype.Yh=function(){return this.P.Yh()&&this.R.Yh()};Z.le=function(a){return a.le()};Z.prototype.me=w();Z.prototype.Sd=w();Z.prototype.po=w();Z.prototype.Rd=
C(u);Z.ay=0;Z.kp=1;Z.Zx=2;Z.jp=3;Z.$x=4;Z.HC=5;Z.Xx=6;Z.Yx=7;Z.by=8;Z.Wx=9;Z.Zc=0;Z.Jf=1;Z.xc=2;Z.lh=3;var Ae=function(){this.type=Z.ay;this.J=this.I=r;this.Yo=u},ze=w(),Be=function(a){Z.call(this,a);this.Y=T.n(0,0);this.Z=T.n(0,0);this.ac=T.n(0,0);this.Y.B(a.Cb);this.Z.B(a.Db);this.vq=a.length;this.tq=a.Pm;this.Gz=a.Bm;this.pu=this.Ei=this.r=0};P(Be,Z);Be.prototype.me=function(a){var b,c=0,d=this.P,e=this.R;b=d.q.k;var g=this.Y.x-d.j.K.x,f=this.Y.y-d.j.K.y,c=b.g.x*g+b.i.x*f,f=b.g.y*g+b.i.y*f,g=c;
b=e.q.k;var m=this.Z.x-e.j.K.x,k=this.Z.y-e.j.K.y,c=b.g.x*m+b.i.x*k,k=b.g.y*m+b.i.y*k,m=c;this.ac.x=e.j.p.x+m-d.j.p.x-g;this.ac.y=e.j.p.y+k-d.j.p.y-f;c=Math.sqrt(this.ac.x*this.ac.x+this.ac.y*this.ac.y);0.005<c?this.ac.Wc(1/c):this.ac.$();b=g*this.ac.y-f*this.ac.x;var l=m*this.ac.y-k*this.ac.x;b=d.D+d.M*b*b+e.D+e.M*l*l;this.L=0!=b?1/b:0;if(0<this.tq){var c=c-this.vq,l=2*Math.PI*this.tq,h=this.L*l*l;this.Ei=a.ua*(2*this.L*this.Gz*l+a.ua*h);this.Ei=0!=this.Ei?1/this.Ei:0;this.pu=c*a.ua*h*this.Ei;this.L=
b+this.Ei;this.L=0!=this.L?1/this.L:0}a.Xg?(this.r*=a.Yb,a=this.r*this.ac.x,b=this.r*this.ac.y,d.m.x-=d.D*a,d.m.y-=d.D*b,d.u-=d.M*(g*b-f*a),e.m.x+=e.D*a,e.m.y+=e.D*b,e.u+=e.M*(m*b-k*a)):this.r=0};Be.prototype.Sd=function(){var a=this.Y.x-this.P.j.K.x,b=this.Y.y-this.P.j.K.y,c=this.P.q.k.g.x*a+this.P.q.k.i.x*b,b=this.P.q.k.g.y*a+this.P.q.k.i.y*b,a=c,d=this.Z.x-this.R.j.K.x,e=this.Z.y-this.R.j.K.y,c=this.R.q.k.g.x*d+this.R.q.k.i.x*e,e=this.R.q.k.g.y*d+this.R.q.k.i.y*e,d=c,g=-this.L*(this.ac.x*(this.R.m.x-
this.R.u*e-(this.P.m.x-this.P.u*b))+this.ac.y*(this.R.m.y+this.R.u*d-(this.P.m.y+this.P.u*a))+this.pu+this.Ei*this.r);this.r+=g;c=g*this.ac.x;g*=this.ac.y;this.P.m.x-=this.P.D*c;this.P.m.y-=this.P.D*g;this.P.u-=this.P.M*(a*g-b*c);this.R.m.x+=this.R.D*c;this.R.m.y+=this.R.D*g;this.R.u+=this.R.M*(d*g-e*c)};Be.prototype.Rd=function(){if(0<this.tq)return q;var a=this.Y.x-this.P.j.K.x,b=this.Y.y-this.P.j.K.y,c=this.P.q.k.g.x*a+this.P.q.k.i.x*b,b=this.P.q.k.g.y*a+this.P.q.k.i.y*b,a=c,d=this.Z.x-this.R.j.K.x,
e=this.Z.y-this.R.j.K.y,c=this.R.q.k.g.x*d+this.R.q.k.i.x*e,e=this.R.q.k.g.y*d+this.R.q.k.i.y*e,d=c,g=this.R.j.p.x+d-this.P.j.p.x-a,f=this.R.j.p.y+e-this.P.j.p.y-b,m=Math.sqrt(g*g+f*f),c=V.hb(m-this.vq,-0.2,0.2),k=-this.L*c;this.ac.C(g/m,f/m);g=k*this.ac.x;k*=this.ac.y;this.P.j.p.x-=this.P.D*g;this.P.j.p.y-=this.P.D*k;this.P.j.H-=this.P.M*(a*k-b*g);this.R.j.p.x+=this.R.D*g;this.R.j.p.y+=this.R.D*k;this.R.j.H+=this.R.M*(d*k-e*g);this.P.tb();this.R.tb();return 0.005>Math.abs(c)};var kc=function(){Ae.call(this);
this.Cb=T.n(0,0);this.Db=T.n(0,0);this.type=Z.jp;this.length=1;this.Bm=this.Pm=0};P(kc,Ae);kc.prototype.Vb=function(a,b,c,d){this.I=a;this.J=b;this.Cb.B(this.I.yd(c));this.Db.B(this.J.yd(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Bm=this.Pm=0};kc.prototype.le=function(){return new Be(this)};var Ce=function(a){Z.call(this,a);this.de=T.n(0,0);this.ee=T.n(0,0);this.yq=new U;this.be=T.n(0,0);this.de.B(a.Cb);this.ee.B(a.Db);this.yq.$();this.al=0;this.be.$();this.Fg=0;this.Rz=a.Zz;this.Tz=
a.aA};P(Ce,Z);Ce.prototype.me=function(a){var b,c=0,d=this.P,e=this.R;b=d.q.k;var g=this.de.x-d.j.K.x,f=this.de.y-d.j.K.y,c=b.g.x*g+b.i.x*f,f=b.g.y*g+b.i.y*f,g=c;b=e.q.k;var m=this.ee.x-e.j.K.x,k=this.ee.y-e.j.K.y,c=b.g.x*m+b.i.x*k,k=b.g.y*m+b.i.y*k,m=c;b=d.D;var c=e.D,l=d.M,h=e.M,n=new U;n.g.x=b+c;n.i.x=0;n.g.y=0;n.i.y=b+c;n.g.x+=l*f*f;n.i.x+=-l*g*f;n.g.y+=-l*g*f;n.i.y+=l*g*g;n.g.x+=h*k*k;n.i.x+=-h*m*k;n.g.y+=-h*m*k;n.i.y+=h*m*m;n.so(this.yq);this.al=l+h;0<this.al&&(this.al=1/this.al);a.Xg?(this.be.x*=
a.Yb,this.be.y*=a.Yb,this.Fg*=a.Yb,a=this.be,d.m.x-=b*a.x,d.m.y-=b*a.y,d.u-=l*(g*a.y-f*a.x+this.Fg),e.m.x+=c*a.x,e.m.y+=c*a.y,e.u+=h*(m*a.y-k*a.x+this.Fg)):(this.be.$(),this.Fg=0)};Ce.prototype.Sd=function(a){var b,c=0,d=this.P,e=this.R,g=d.m,f=d.u,m=e.m,k=e.u,l=d.D,h=e.D,n=d.M,s=e.M;b=d.q.k;var x=this.de.x-d.j.K.x,v=this.de.y-d.j.K.y,c=b.g.x*x+b.i.x*v,v=b.g.y*x+b.i.y*v,x=c;b=e.q.k;var t=this.ee.x-e.j.K.x,z=this.ee.y-e.j.K.y,c=b.g.x*t+b.i.x*z,z=b.g.y*t+b.i.y*z,t=c;b=0;var c=-this.al*(k-f),D=this.Fg;
b=a.ua*this.Tz;this.Fg=V.hb(this.Fg+c,-b,b);c=this.Fg-D;f-=n*c;k+=s*c;b=V.Eb(this.yq,T.n(-(m.x-k*z-g.x+f*v),-(m.y+k*t-g.y-f*x)));c=this.be.Ub();this.be.kg(b);b=a.ua*this.Rz;this.be.gm()>b*b&&(this.be.Xc(),this.be.Wc(b));b=V.eb(this.be,c);g.x-=l*b.x;g.y-=l*b.y;f-=n*(x*b.y-v*b.x);m.x+=h*b.x;m.y+=h*b.y;k+=s*(t*b.y-z*b.x);d.u=f;e.u=k};Ce.prototype.Rd=C(q);var De=function(){Ae.call(this);this.Cb=T.n(0,0);this.Db=T.n(0,0);this.type=Z.Wx;this.aA=this.Zz=0};P(De,Ae);De.prototype.Vb=function(a,b,c){this.I=
a;this.J=b;this.Cb.B(this.I.yd(c));this.Db.B(this.J.yd(c))};De.prototype.le=function(){return new Ce(this)};var Fe=function(a){Z.call(this,a);this.Kg=T.n(0,0);this.Lg=T.n(0,0);this.Y=T.n(0,0);this.Z=T.n(0,0);this.mb=new Ee;var b=a.nj.Pa,c=a.oj.Pa;this.Cj=this.Ii=this.Bj=this.Hi=r;var d=0,e=0;this.Jz=a.nj.bk();this.P=a.nj.qo();b==Z.kp?(this.Hi=a.nj,this.Kg.B(this.Hi.Y),this.Y.B(this.Hi.Z),d=this.Hi.am()):(this.Bj=a.nj,this.Kg.B(this.Bj.Y),this.Y.B(this.Bj.Z),d=this.Bj.dk());this.Kz=a.oj.bk();this.R=
a.oj.qo();c==Z.kp?(this.Ii=a.oj,this.Lg.B(this.Ii.Y),this.Z.B(this.Ii.Z),e=this.Ii.am()):(this.Cj=a.oj,this.Lg.B(this.Cj.Y),this.Z.B(this.Cj.Z),e=this.Cj.dk());this.yb=a.Bh;this.zj=d+this.yb*e;this.r=0};P(Fe,Z);Fe.prototype.me=function(a){var b=this.Jz,c=this.Kz,d=this.P,e=this.R,g=0,f=0,m=0,k=0,l=m=0,h=0;this.mb.$();this.Hi?(this.mb.ci=-1,h+=d.M):(b=b.q.k,f=this.Bj.sd,g=b.g.x*f.x+b.i.x*f.y,f=b.g.y*f.x+b.i.y*f.y,b=d.q.k,m=this.Y.x-d.j.K.x,k=this.Y.y-d.j.K.y,l=b.g.x*m+b.i.x*k,k=b.g.y*m+b.i.y*k,m=l*
f-k*g,this.mb.nf.C(-g,-f),this.mb.ci=-m,h+=d.D+d.M*m*m);this.Ii?(this.mb.di=-this.yb,h+=this.yb*this.yb*e.M):(b=c.q.k,f=this.Cj.sd,g=b.g.x*f.x+b.i.x*f.y,f=b.g.y*f.x+b.i.y*f.y,b=e.q.k,m=this.Z.x-e.j.K.x,k=this.Z.y-e.j.K.y,l=b.g.x*m+b.i.x*k,k=b.g.y*m+b.i.y*k,m=l*f-k*g,this.mb.of.C(-this.yb*g,-this.yb*f),this.mb.di=-this.yb*m,h+=this.yb*this.yb*(e.D+e.M*m*m));this.L=0<h?1/h:0;a.Xg?(d.m.x+=d.D*this.r*this.mb.nf.x,d.m.y+=d.D*this.r*this.mb.nf.y,d.u+=d.M*this.r*this.mb.ci,e.m.x+=e.D*this.r*this.mb.of.x,
e.m.y+=e.D*this.r*this.mb.of.y,e.u+=e.M*this.r*this.mb.di):this.r=0};Fe.prototype.Sd=function(){var a=this.P,b=this.R,c=-this.L*this.mb.$v(a.m,a.u,b.m,b.u);this.r+=c;a.m.x+=a.D*c*this.mb.nf.x;a.m.y+=a.D*c*this.mb.nf.y;a.u+=a.M*c*this.mb.ci;b.m.x+=b.D*c*this.mb.of.x;b.m.y+=b.D*c*this.mb.of.y;b.u+=b.M*c*this.mb.di};Fe.prototype.Rd=function(){var a=this.P,b=this.R,c=0,d=0,c=this.Hi?this.Hi.am():this.Bj.dk(),d=this.Ii?this.Ii.am():this.Cj.dk(),c=-this.L*(this.zj-(c+this.yb*d));a.j.p.x+=a.D*c*this.mb.nf.x;
a.j.p.y+=a.D*c*this.mb.nf.y;a.j.H+=a.M*c*this.mb.ci;b.j.p.x+=b.D*c*this.mb.of.x;b.j.p.y+=b.D*c*this.mb.of.y;b.j.H+=b.M*c*this.mb.di;a.tb();b.tb();return q};var Ge=function(){Ae.call(this);this.type=Z.Xx;this.oj=this.nj=r;this.Bh=1};P(Ge,Ae);Ge.prototype.Vb=function(a,b,c){this.nj=a;this.I=a.bk();this.oj=b;this.J=b.bk();this.Bh=c};Ge.prototype.le=function(){return new Fe(this)};var Ee=function(){this.nf=T.n(0,0);this.of=T.n(0,0)};Ee.prototype.$=function(){this.nf.$();this.ci=0;this.of.$();this.di=
0};Ee.prototype.C=function(a,b,c,d){b===p&&(b=0);d===p&&(d=0);this.nf.B(a);this.ci=b;this.of.B(c);this.di=d};Ee.prototype.$v=function(a,b,c,d){b===p&&(b=0);d===p&&(d=0);return this.nf.x*a.x+this.nf.y*a.y+this.ci*b+(this.of.x*c.x+this.of.y*c.y)+this.di*d};var He=function(a){Z.call(this,a);this.Y=T.n(0,0);this.Z=T.n(0,0);this.sd=T.n(0,0);this.Mg=T.n(0,0);this.N=T.n(0,0);this.aa=T.n(0,0);this.W=new U;this.r=T.n(0,0);this.Y.B(a.Cb);this.Z.B(a.Db);this.sd.B(a.yi);this.Mg.x=-this.sd.y;this.Mg.y=this.sd.x;
this.r.$();this.Da=this.gd=0;this.fe=a.oq;this.he=a.Fr;this.zq=a.Eq;this.gl=a.ol;this.qf=a.dj;this.th=a.zk;this.ta=Z.Zc;this.N.$();this.aa.$()};P(He,Z);He.prototype.dk=function(){var a=this.P,b=this.R,c=a.em(this.Y),d=b.em(this.Z),b=d.x-c.x,c=d.y-c.y,a=a.uo(this.sd);return a.x*b+a.y*c};He.prototype.me=function(a){var b=this.P,c=this.R,d,e=0;this.Wf.B(b.Wh());this.Xf.B(c.Wh());var g=b.zd();c.zd();d=b.q.k;var f=this.Y.x-this.Wf.x,m=this.Y.y-this.Wf.y,e=d.g.x*f+d.i.x*m,m=d.g.y*f+d.i.y*m,f=e;d=c.q.k;
var k=this.Z.x-this.Xf.x,l=this.Z.y-this.Xf.y,e=d.g.x*k+d.i.x*l,l=d.g.y*k+d.i.y*l,k=e;d=c.j.p.x+k-b.j.p.x-f;e=c.j.p.y+l-b.j.p.y-m;this.wb=b.D;this.xb=c.D;this.Pc=b.M;this.Qc=c.M;this.N.B(V.Eb(g.k,this.sd));this.Qa=(d+f)*this.N.y-(e+m)*this.N.x;this.Ra=k*this.N.y-l*this.N.x;this.gd=this.wb+this.xb+this.Pc*this.Qa*this.Qa+this.Qc*this.Ra*this.Ra;this.gd=this.gd>Number.MIN_VALUE?1/this.gd:0;this.aa.B(V.Eb(g.k,this.Mg));this.Ta=(d+f)*this.aa.y-(e+m)*this.aa.x;this.Ua=k*this.aa.y-l*this.aa.x;g=this.wb;
f=this.xb;m=this.Pc;k=this.Qc;this.W.g.x=g+f+m*this.Ta*this.Ta+k*this.Ua*this.Ua;this.W.g.y=m*this.Ta*this.Qa+k*this.Ua*this.Ra;this.W.i.x=this.W.g.y;this.W.i.y=g+f+m*this.Qa*this.Qa+k*this.Ra*this.Ra;this.qf?(d=this.N.x*d+this.N.y*e,0.01>Math.abs(this.he-this.fe)?this.ta=Z.lh:d<=this.fe?this.ta!=Z.Jf&&(this.ta=Z.Jf,this.r.y=0):d>=this.he?this.ta!=Z.xc&&(this.ta=Z.xc,this.r.y=0):(this.ta=Z.Zc,this.r.y=0)):this.ta=Z.Zc;this.th==u&&(this.Da=0);a.Xg?(this.r.x*=a.Yb,this.r.y*=a.Yb,this.Da*=a.Yb,a=this.r.x*
this.aa.x+(this.Da+this.r.y)*this.N.x,d=this.r.x*this.aa.y+(this.Da+this.r.y)*this.N.y,e=this.r.x*this.Ta+(this.Da+this.r.y)*this.Qa,g=this.r.x*this.Ua+(this.Da+this.r.y)*this.Ra,b.m.x-=this.wb*a,b.m.y-=this.wb*d,b.u-=this.Pc*e,c.m.x+=this.xb*a,c.m.y+=this.xb*d,c.u+=this.Qc*g):(this.r.$(),this.Da=0)};He.prototype.Sd=function(a){var b=this.P,c=this.R,d=b.m,e=b.u,g=c.m,f=c.u,m=0,k=0,l=0,h=0;this.th&&this.ta!=Z.lh&&(h=this.gd*(this.gl-(this.N.x*(g.x-d.x)+this.N.y*(g.y-d.y)+this.Ra*f-this.Qa*e)),m=this.Da,
k=a.ua*this.zq,this.Da=V.hb(this.Da+h,-k,k),h=this.Da-m,m=h*this.N.x,k=h*this.N.y,l=h*this.Qa,h*=this.Ra,d.x-=this.wb*m,d.y-=this.wb*k,e-=this.Pc*l,g.x+=this.xb*m,g.y+=this.xb*k,f+=this.Qc*h);k=this.aa.x*(g.x-d.x)+this.aa.y*(g.y-d.y)+this.Ua*f-this.Ta*e;this.qf&&this.ta!=Z.Zc?(l=this.N.x*(g.x-d.x)+this.N.y*(g.y-d.y)+this.Ra*f-this.Qa*e,m=this.r.Ub(),a=this.W.dh(T.n(0,0),-k,-l),this.r.kg(a),this.ta==Z.Jf?this.r.y=Math.max(this.r.y,0):this.ta==Z.xc&&(this.r.y=Math.min(this.r.y,0)),k=-k-(this.r.y-m.y)*
this.W.i.x,l=0,l=0!=this.W.g.x?k/this.W.g.x+m.x:m.x,this.r.x=l,a.x=this.r.x-m.x,a.y=this.r.y-m.y,m=a.x*this.aa.x+a.y*this.N.x,k=a.x*this.aa.y+a.y*this.N.y,l=a.x*this.Ta+a.y*this.Qa,h=a.x*this.Ua+a.y*this.Ra):(a=0,a=0!=this.W.g.x?-k/this.W.g.x:0,this.r.x+=a,m=a*this.aa.x,k=a*this.aa.y,l=a*this.Ta,h=a*this.Ua);d.x-=this.wb*m;d.y-=this.wb*k;e-=this.Pc*l;g.x+=this.xb*m;g.y+=this.xb*k;f+=this.Qc*h;b.m.B(d);b.u=e;c.m.B(g);c.u=f};He.prototype.Rd=function(){var a=this.P,b=this.R,c=a.j.p,d=a.j.H,e=b.j.p,g=
b.j.H,f,m=0,k=0,l=0,h=0,n=f=0,s=0,k=u,x=0,v=U.Ui(d),l=U.Ui(g);f=v;var s=this.Y.x-this.Wf.x,t=this.Y.y-this.Wf.y,m=f.g.x*s+f.i.x*t,t=f.g.y*s+f.i.y*t,s=m;f=l;l=this.Z.x-this.Xf.x;h=this.Z.y-this.Xf.y;m=f.g.x*l+f.i.x*h;h=f.g.y*l+f.i.y*h;l=m;f=e.x+l-c.x-s;m=e.y+h-c.y-t;if(this.qf){this.N=V.Eb(v,this.sd);this.Qa=(f+s)*this.N.y-(m+t)*this.N.x;this.Ra=l*this.N.y-h*this.N.x;var z=this.N.x*f+this.N.y*m;0.01>Math.abs(this.he-this.fe)?(x=V.hb(z,-0.2,0.2),n=Math.abs(z),k=q):z<=this.fe?(x=V.hb(z-this.fe+0.005,
-0.2,0),n=this.fe-z,k=q):z>=this.he&&(x=V.hb(z-this.he+0.005,0,0.2),n=z-this.he,k=q)}this.aa=V.Eb(v,this.Mg);this.Ta=(f+s)*this.aa.y-(m+t)*this.aa.x;this.Ua=l*this.aa.y-h*this.aa.x;v=T.n(0,0);t=this.aa.x*f+this.aa.y*m;n=Math.max(n,Math.abs(t));s=0;k?(k=this.wb,l=this.xb,h=this.Pc,f=this.Qc,this.W.g.x=k+l+h*this.Ta*this.Ta+f*this.Ua*this.Ua,this.W.g.y=h*this.Ta*this.Qa+f*this.Ua*this.Ra,this.W.i.x=this.W.g.y,this.W.i.y=k+l+h*this.Qa*this.Qa+f*this.Ra*this.Ra,this.W.dh(v,-t,-x)):(k=this.wb,l=this.xb,
h=this.Pc,f=this.Qc,x=k+l+h*this.Ta*this.Ta+f*this.Ua*this.Ua,v.x=0!=x?-t/x:0,v.y=0);x=v.x*this.aa.x+v.y*this.N.x;k=v.x*this.aa.y+v.y*this.N.y;t=v.x*this.Ta+v.y*this.Qa;v=v.x*this.Ua+v.y*this.Ra;c.x-=this.wb*x;c.y-=this.wb*k;d-=this.Pc*t;e.x+=this.xb*x;e.y+=this.xb*k;g+=this.Qc*v;a.j.H=d;b.j.H=g;a.tb();b.tb();return 0.005>=n&&s<=lc};var Ie=function(){Ae.call(this);this.Cb=T.n(0,0);this.Db=T.n(0,0);this.yi=T.n(0,0);this.type=Z.Yx;this.yi.C(1,0);this.dj=u;this.Fr=this.oq=0;this.zk=u;this.ol=this.Eq=
0};P(Ie,Ae);Ie.prototype.Vb=function(a,b,c,d){this.I=a;this.J=b;this.Cb=this.I.yd(c);this.Db=this.J.yd(c);this.yi=this.I.to(d)};Ie.prototype.le=function(){return new He(this)};var Je=function(a){Z.call(this,a);this.Y=T.n(0,0);this.Z=T.n(0,0);this.sd=T.n(0,0);this.Mg=T.n(0,0);this.N=T.n(0,0);this.aa=T.n(0,0);this.W=new sc;this.r=new rc(0,0,0);this.Y.B(a.Cb);this.Z.B(a.Db);this.sd.B(a.yi);this.Mg.x=-this.sd.y;this.Mg.y=this.sd.x;this.Uz=a.Ch;this.r.$();this.Da=this.gd=0;this.fe=a.oq;this.he=a.Fr;this.zq=
a.Eq;this.gl=a.ol;this.qf=a.dj;this.th=a.zk;this.ta=Z.Zc;this.N.$();this.aa.$()};P(Je,Z);Je.prototype.dk=function(){var a=this.P,b=this.R,c=a.em(this.Y),d=b.em(this.Z),b=d.x-c.x,c=d.y-c.y,a=a.uo(this.sd);return a.x*b+a.y*c};Je.prototype.me=function(a){var b=this.P,c=this.R,d,e=0;this.Wf.B(b.Wh());this.Xf.B(c.Wh());var g=b.zd();c.zd();d=b.q.k;var f=this.Y.x-this.Wf.x,m=this.Y.y-this.Wf.y,e=d.g.x*f+d.i.x*m,m=d.g.y*f+d.i.y*m,f=e;d=c.q.k;var k=this.Z.x-this.Xf.x,l=this.Z.y-this.Xf.y,e=d.g.x*k+d.i.x*l,
l=d.g.y*k+d.i.y*l,k=e;d=c.j.p.x+k-b.j.p.x-f;e=c.j.p.y+l-b.j.p.y-m;this.wb=b.D;this.xb=c.D;this.Pc=b.M;this.Qc=c.M;this.N.B(V.Eb(g.k,this.sd));this.Qa=(d+f)*this.N.y-(e+m)*this.N.x;this.Ra=k*this.N.y-l*this.N.x;this.gd=this.wb+this.xb+this.Pc*this.Qa*this.Qa+this.Qc*this.Ra*this.Ra;this.gd>Number.MIN_VALUE&&(this.gd=1/this.gd);this.aa.B(V.Eb(g.k,this.Mg));this.Ta=(d+f)*this.aa.y-(e+m)*this.aa.x;this.Ua=k*this.aa.y-l*this.aa.x;g=this.wb;f=this.xb;m=this.Pc;k=this.Qc;this.W.g.x=g+f+m*this.Ta*this.Ta+
k*this.Ua*this.Ua;this.W.g.y=m*this.Ta+k*this.Ua;this.W.g.F=m*this.Ta*this.Qa+k*this.Ua*this.Ra;this.W.i.x=this.W.g.y;this.W.i.y=m+k;this.W.i.F=m*this.Qa+k*this.Ra;this.W.la.x=this.W.g.F;this.W.la.y=this.W.i.F;this.W.la.F=g+f+m*this.Qa*this.Qa+k*this.Ra*this.Ra;this.qf?(d=this.N.x*d+this.N.y*e,0.01>Math.abs(this.he-this.fe)?this.ta=Z.lh:d<=this.fe?this.ta!=Z.Jf&&(this.ta=Z.Jf,this.r.F=0):d>=this.he?this.ta!=Z.xc&&(this.ta=Z.xc,this.r.F=0):(this.ta=Z.Zc,this.r.F=0)):this.ta=Z.Zc;this.th==u&&(this.Da=
0);a.Xg?(this.r.x*=a.Yb,this.r.y*=a.Yb,this.Da*=a.Yb,a=this.r.x*this.aa.x+(this.Da+this.r.F)*this.N.x,d=this.r.x*this.aa.y+(this.Da+this.r.F)*this.N.y,e=this.r.x*this.Ta+this.r.y+(this.Da+this.r.F)*this.Qa,g=this.r.x*this.Ua+this.r.y+(this.Da+this.r.F)*this.Ra,b.m.x-=this.wb*a,b.m.y-=this.wb*d,b.u-=this.Pc*e,c.m.x+=this.xb*a,c.m.y+=this.xb*d,c.u+=this.Qc*g):(this.r.$(),this.Da=0)};Je.prototype.Sd=function(a){var b=this.P,c=this.R,d=b.m,e=b.u,g=c.m,f=c.u,m=0,k=0,l=0,h=0;this.th&&this.ta!=Z.lh&&(h=
this.gd*(this.gl-(this.N.x*(g.x-d.x)+this.N.y*(g.y-d.y)+this.Ra*f-this.Qa*e)),m=this.Da,a=a.ua*this.zq,this.Da=V.hb(this.Da+h,-a,a),h=this.Da-m,m=h*this.N.x,k=h*this.N.y,l=h*this.Qa,h*=this.Ra,d.x-=this.wb*m,d.y-=this.wb*k,e-=this.Pc*l,g.x+=this.xb*m,g.y+=this.xb*k,f+=this.Qc*h);l=this.aa.x*(g.x-d.x)+this.aa.y*(g.y-d.y)+this.Ua*f-this.Ta*e;k=f-e;this.qf&&this.ta!=Z.Zc?(a=this.N.x*(g.x-d.x)+this.N.y*(g.y-d.y)+this.Ra*f-this.Qa*e,m=this.r.Ub(),a=this.W.pk(new rc(0,0,0),-l,-k,-a),this.r.kg(a),this.ta==
Z.Jf?this.r.F=Math.max(this.r.F,0):this.ta==Z.xc&&(this.r.F=Math.min(this.r.F,0)),l=-l-(this.r.F-m.F)*this.W.la.x,k=-k-(this.r.F-m.F)*this.W.la.y,k=this.W.Xi(T.n(0,0),l,k),k.x+=m.x,k.y+=m.y,this.r.x=k.x,this.r.y=k.y,a.x=this.r.x-m.x,a.y=this.r.y-m.y,a.F=this.r.F-m.F,m=a.x*this.aa.x+a.F*this.N.x,k=a.x*this.aa.y+a.F*this.N.y,l=a.x*this.Ta+a.y+a.F*this.Qa,h=a.x*this.Ua+a.y+a.F*this.Ra):(a=this.W.Xi(T.n(0,0),-l,-k),this.r.x+=a.x,this.r.y+=a.y,m=a.x*this.aa.x,k=a.x*this.aa.y,l=a.x*this.Ta+a.y,h=a.x*this.Ua+
a.y);d.x-=this.wb*m;d.y-=this.wb*k;e-=this.Pc*l;g.x+=this.xb*m;g.y+=this.xb*k;f+=this.Qc*h;b.m.B(d);b.u=e;c.m.B(g);c.u=f};Je.prototype.Rd=function(){var a=this.P,b=this.R,c=a.j.p,d=a.j.H,e=b.j.p,g=b.j.H,f,m=0,k=0,l=0,h=m=f=0,n=0,k=u,s=0,x=U.Ui(d),v=U.Ui(g);f=x;var n=this.Y.x-this.Wf.x,t=this.Y.y-this.Wf.y,m=f.g.x*n+f.i.x*t,t=f.g.y*n+f.i.y*t,n=m;f=v;v=this.Z.x-this.Xf.x;l=this.Z.y-this.Xf.y;m=f.g.x*v+f.i.x*l;l=f.g.y*v+f.i.y*l;v=m;f=e.x+v-c.x-n;m=e.y+l-c.y-t;if(this.qf){this.N=V.Eb(x,this.sd);this.Qa=
(f+n)*this.N.y-(m+t)*this.N.x;this.Ra=v*this.N.y-l*this.N.x;var z=this.N.x*f+this.N.y*m;0.01>Math.abs(this.he-this.fe)?(s=V.hb(z,-0.2,0.2),h=Math.abs(z),k=q):z<=this.fe?(s=V.hb(z-this.fe+0.005,-0.2,0),h=this.fe-z,k=q):z>=this.he&&(s=V.hb(z-this.he+0.005,0,0.2),h=z-this.he,k=q)}this.aa=V.Eb(x,this.Mg);this.Ta=(f+n)*this.aa.y-(m+t)*this.aa.x;this.Ua=v*this.aa.y-l*this.aa.x;x=new rc(0,0,0);t=this.aa.x*f+this.aa.y*m;v=g-d-this.Uz;h=Math.max(h,Math.abs(t));n=Math.abs(v);k?(k=this.wb,l=this.xb,f=this.Pc,
m=this.Qc,this.W.g.x=k+l+f*this.Ta*this.Ta+m*this.Ua*this.Ua,this.W.g.y=f*this.Ta+m*this.Ua,this.W.g.F=f*this.Ta*this.Qa+m*this.Ua*this.Ra,this.W.i.x=this.W.g.y,this.W.i.y=f+m,this.W.i.F=f*this.Qa+m*this.Ra,this.W.la.x=this.W.g.F,this.W.la.y=this.W.i.F,this.W.la.F=k+l+f*this.Qa*this.Qa+m*this.Ra*this.Ra,this.W.pk(x,-t,-v,-s)):(k=this.wb,l=this.xb,f=this.Pc,m=this.Qc,s=f*this.Ta+m*this.Ua,z=f+m,this.W.g.C(k+l+f*this.Ta*this.Ta+m*this.Ua*this.Ua,s,0),this.W.i.C(s,z,0),s=this.W.Xi(T.n(0,0),-t,-v),x.x=
s.x,x.y=s.y,x.F=0);s=x.x*this.aa.x+x.F*this.N.x;k=x.x*this.aa.y+x.F*this.N.y;t=x.x*this.Ta+x.y+x.F*this.Qa;x=x.x*this.Ua+x.y+x.F*this.Ra;c.x-=this.wb*s;c.y-=this.wb*k;d-=this.Pc*t;e.x+=this.xb*s;e.y+=this.xb*k;g+=this.Qc*x;a.j.H=d;b.j.H=g;a.tb();b.tb();return 0.005>=h&&n<=lc};var Ke=function(){Ae.call(this);this.Cb=T.n(0,0);this.Db=T.n(0,0);this.yi=T.n(0,0);this.type=Z.Zx;this.yi.C(1,0);this.Ch=0;this.dj=u;this.Fr=this.oq=0;this.zk=u;this.ol=this.Eq=0};P(Ke,Ae);Ke.prototype.Vb=function(a,b,c,d){this.I=
a;this.J=b;this.Cb=this.I.yd(c);this.Db=this.J.yd(c);this.yi=this.I.to(d);this.Ch=this.J.xd()-this.I.xd()};Ke.prototype.le=function(){return new Je(this)};var Ne=function(a){Z.call(this,a);this.Kg=T.n(0,0);this.Lg=T.n(0,0);this.Y=T.n(0,0);this.Z=T.n(0,0);this.Ya=T.n(0,0);this.Za=T.n(0,0);this.Je=this.P.Fa.Lz;this.Kg.x=a.Wm.x-this.Je.q.position.x;this.Kg.y=a.Wm.y-this.Je.q.position.y;this.Lg.x=a.Xm.x-this.Je.q.position.x;this.Lg.y=a.Xm.y-this.Je.q.position.y;this.Y.B(a.Cb);this.Z.B(a.Db);this.yb=a.Bh;
this.zj=a.dq+this.yb*a.fq;this.vu=Math.min(a.xu,this.zj-this.yb*Le);this.wu=Math.min(a.yu,(this.zj-Le)/this.yb);this.Vf=this.Uf=this.r=0};P(Ne,Z);Ne.prototype.me=function(a){var b=this.P,c=this.R,d;d=b.q.k;var e=this.Y.x-b.j.K.x,g=this.Y.y-b.j.K.y,f=d.g.x*e+d.i.x*g,g=d.g.y*e+d.i.y*g,e=f;d=c.q.k;var m=this.Z.x-c.j.K.x,k=this.Z.y-c.j.K.y,f=d.g.x*m+d.i.x*k,k=d.g.y*m+d.i.y*k,m=f;d=c.j.p.x+m;var f=c.j.p.y+k,l=this.Je.q.position.x+this.Lg.x,h=this.Je.q.position.y+this.Lg.y;this.Ya.C(b.j.p.x+e-(this.Je.q.position.x+
this.Kg.x),b.j.p.y+g-(this.Je.q.position.y+this.Kg.y));this.Za.C(d-l,f-h);d=this.Ya.Df();f=this.Za.Df();0.005<d?this.Ya.Wc(1/d):this.Ya.$();0.005<f?this.Za.Wc(1/f):this.Za.$();0<this.zj-d-this.yb*f?(this.Bq=Z.Zc,this.r=0):this.Bq=Z.xc;d<this.vu?(this.wq=Z.Zc,this.Uf=0):this.wq=Z.xc;f<this.wu?(this.xq=Z.Zc,this.Vf=0):this.xq=Z.xc;d=e*this.Ya.y-g*this.Ya.x;f=m*this.Za.y-k*this.Za.x;this.el=b.D+b.M*d*d;this.fl=c.D+c.M*f*f;this.En=this.el+this.yb*this.yb*this.fl;this.el=1/this.el;this.fl=1/this.fl;this.En=
1/this.En;a.Xg?(this.r*=a.Yb,this.Uf*=a.Yb,this.Vf*=a.Yb,a=(-this.r-this.Uf)*this.Ya.x,d=(-this.r-this.Uf)*this.Ya.y,f=(-this.yb*this.r-this.Vf)*this.Za.x,l=(-this.yb*this.r-this.Vf)*this.Za.y,b.m.x+=b.D*a,b.m.y+=b.D*d,b.u+=b.M*(e*d-g*a),c.m.x+=c.D*f,c.m.y+=c.D*l,c.u+=c.M*(m*l-k*f)):this.Vf=this.Uf=this.r=0};Ne.prototype.Sd=function(){var a=this.P,b=this.R,c;c=a.q.k;var d=this.Y.x-a.j.K.x,e=this.Y.y-a.j.K.y,g=c.g.x*d+c.i.x*e,e=c.g.y*d+c.i.y*e,d=g;c=b.q.k;var f=this.Z.x-b.j.K.x,m=this.Z.y-b.j.K.y,
g=c.g.x*f+c.i.x*m,m=c.g.y*f+c.i.y*m,f=g,k=g=c=0,l=0;c=l=c=l=k=g=c=0;this.Bq==Z.xc&&(c=a.m.x+-a.u*e,g=a.m.y+a.u*d,k=b.m.x+-b.u*m,l=b.m.y+b.u*f,c=-(this.Ya.x*c+this.Ya.y*g)-this.yb*(this.Za.x*k+this.Za.y*l),l=this.En*-c,c=this.r,this.r=Math.max(0,this.r+l),l=this.r-c,c=-l*this.Ya.x,g=-l*this.Ya.y,k=-this.yb*l*this.Za.x,l=-this.yb*l*this.Za.y,a.m.x+=a.D*c,a.m.y+=a.D*g,a.u+=a.M*(d*g-e*c),b.m.x+=b.D*k,b.m.y+=b.D*l,b.u+=b.M*(f*l-m*k));this.wq==Z.xc&&(c=a.m.x+-a.u*e,g=a.m.y+a.u*d,c=-(this.Ya.x*c+this.Ya.y*
g),l=-this.el*c,c=this.Uf,this.Uf=Math.max(0,this.Uf+l),l=this.Uf-c,c=-l*this.Ya.x,g=-l*this.Ya.y,a.m.x+=a.D*c,a.m.y+=a.D*g,a.u+=a.M*(d*g-e*c));this.xq==Z.xc&&(k=b.m.x+-b.u*m,l=b.m.y+b.u*f,c=-(this.Za.x*k+this.Za.y*l),l=-this.fl*c,c=this.Vf,this.Vf=Math.max(0,this.Vf+l),l=this.Vf-c,k=-l*this.Za.x,l=-l*this.Za.y,b.m.x+=b.D*k,b.m.y+=b.D*l,b.u+=b.M*(f*l-m*k))};Ne.prototype.Rd=function(){var a=this.P,b=this.R,c,d=this.Je.q.position.x+this.Kg.x,e=this.Je.q.position.y+this.Kg.y,g=this.Je.q.position.x+this.Lg.x,
f=this.Je.q.position.y+this.Lg.y,m=0,k=0,l=0,h=0,n=c=0,s=0,x=0,v=n=x=c=n=c=0;this.Bq==Z.xc&&(c=a.q.k,m=this.Y.x-a.j.K.x,k=this.Y.y-a.j.K.y,n=c.g.x*m+c.i.x*k,k=c.g.y*m+c.i.y*k,m=n,c=b.q.k,l=this.Z.x-b.j.K.x,h=this.Z.y-b.j.K.y,n=c.g.x*l+c.i.x*h,h=c.g.y*l+c.i.y*h,l=n,c=a.j.p.x+m,n=a.j.p.y+k,s=b.j.p.x+l,x=b.j.p.y+h,this.Ya.C(c-d,n-e),this.Za.C(s-g,x-f),c=this.Ya.Df(),n=this.Za.Df(),0.005<c?this.Ya.Wc(1/c):this.Ya.$(),0.005<n?this.Za.Wc(1/n):this.Za.$(),c=this.zj-c-this.yb*n,v=Math.max(v,-c),c=V.hb(c+
0.005,-0.2,0),x=-this.En*c,c=-x*this.Ya.x,n=-x*this.Ya.y,s=-this.yb*x*this.Za.x,x=-this.yb*x*this.Za.y,a.j.p.x+=a.D*c,a.j.p.y+=a.D*n,a.j.H+=a.M*(m*n-k*c),b.j.p.x+=b.D*s,b.j.p.y+=b.D*x,b.j.H+=b.M*(l*x-h*s),a.tb(),b.tb());this.wq==Z.xc&&(c=a.q.k,m=this.Y.x-a.j.K.x,k=this.Y.y-a.j.K.y,n=c.g.x*m+c.i.x*k,k=c.g.y*m+c.i.y*k,m=n,c=a.j.p.x+m,n=a.j.p.y+k,this.Ya.C(c-d,n-e),c=this.Ya.Df(),0.005<c?(this.Ya.x*=1/c,this.Ya.y*=1/c):this.Ya.$(),c=this.vu-c,v=Math.max(v,-c),c=V.hb(c+0.005,-0.2,0),x=-this.el*c,c=-x*
this.Ya.x,n=-x*this.Ya.y,a.j.p.x+=a.D*c,a.j.p.y+=a.D*n,a.j.H+=a.M*(m*n-k*c),a.tb());this.xq==Z.xc&&(c=b.q.k,l=this.Z.x-b.j.K.x,h=this.Z.y-b.j.K.y,n=c.g.x*l+c.i.x*h,h=c.g.y*l+c.i.y*h,l=n,s=b.j.p.x+l,x=b.j.p.y+h,this.Za.C(s-g,x-f),n=this.Za.Df(),0.005<n?(this.Za.x*=1/n,this.Za.y*=1/n):this.Za.$(),c=this.wu-n,v=Math.max(v,-c),c=V.hb(c+0.005,-0.2,0),x=-this.fl*c,s=-x*this.Za.x,x=-x*this.Za.y,b.j.p.x+=b.D*s,b.j.p.y+=b.D*x,b.j.H+=b.M*(l*x-h*s),b.tb());return 0.005>v};var Le=1,Oe=function(){Ae.call(this);
this.Wm=T.n(0,0);this.Xm=T.n(0,0);this.Cb=T.n(0,0);this.Db=T.n(0,0);this.type=Z.$x;this.Wm.C(-1,1);this.Xm.C(1,1);this.Cb.C(-1,0);this.Db.C(1,0);this.yu=this.fq=this.xu=this.dq=0;this.Bh=1;this.Yo=q};P(Oe,Ae);Oe.prototype.Vb=function(a,b,c,d,e,g,f){f===p&&(f=0);this.I=a;this.J=b;this.Wm.B(c);this.Xm.B(d);this.Cb=this.I.yd(e);this.Db=this.J.yd(g);a=e.x-c.x;c=e.y-c.y;this.dq=Math.sqrt(a*a+c*c);c=g.x-d.x;d=g.y-d.y;this.fq=Math.sqrt(c*c+d*d);this.Bh=f;f=this.dq+this.Bh*this.fq;this.xu=f-this.Bh*Le;this.yu=
(f-Le)/this.Bh};Oe.prototype.le=function(){return new Ne(this)};var Pe=function(a){Z.call(this,a);this.Ad=new U;this.gk=new U;this.hk=new U;this.ik=new U;this.jc=new rc(0,0,0);this.hf=T.n(0,0);this.cg=T.n(0,0);this.Y=T.n(0,0);this.Z=T.n(0,0);this.r=new rc(0,0,0);this.L=new sc;this.Y.B(a.Cb);this.Z.B(a.Db);this.il=a.Ch;this.r.$();this.Da=0;this.Cn=a.ou;this.Cq=a.Ov;this.Sz=a.$z;this.gl=a.ol;this.qf=a.dj;this.th=a.zk;this.ta=Z.Zc};P(Pe,Z);Pe.prototype.am=function(){return this.R.j.H-this.P.j.H-this.il};
Pe.prototype.me=function(a){var b=this.P,c=this.R,d,e=0;d=b.q.k;var g=this.Y.x-b.j.K.x,f=this.Y.y-b.j.K.y,e=d.g.x*g+d.i.x*f,f=d.g.y*g+d.i.y*f,g=e;d=c.q.k;var m=this.Z.x-c.j.K.x,k=this.Z.y-c.j.K.y,e=d.g.x*m+d.i.x*k,k=d.g.y*m+d.i.y*k,m=e;d=b.D;var e=c.D,l=b.M,h=c.M;this.L.g.x=d+e+f*f*l+k*k*h;this.L.i.x=-f*g*l-k*m*h;this.L.la.x=-f*l-k*h;this.L.g.y=this.L.i.x;this.L.i.y=d+e+g*g*l+m*m*h;this.L.la.y=g*l+m*h;this.L.g.F=this.L.la.x;this.L.i.F=this.L.la.y;this.L.la.F=l+h;this.gd=1/(l+h);this.th||(this.Da=
0);if(this.qf){var n=c.j.H-b.j.H-this.il;Math.abs(this.Cq-this.Cn)<2*lc?this.ta=Z.lh:n<=this.Cn?(this.ta!=Z.Jf&&(this.r.F=0),this.ta=Z.Jf):n>=this.Cq?(this.ta!=Z.xc&&(this.r.F=0),this.ta=Z.xc):(this.ta=Z.Zc,this.r.F=0)}else this.ta=Z.Zc;a.Xg?(this.r.x*=a.Yb,this.r.y*=a.Yb,this.Da*=a.Yb,a=this.r.x,n=this.r.y,b.m.x-=d*a,b.m.y-=d*n,b.u-=l*(g*n-f*a+this.Da+this.r.F),c.m.x+=e*a,c.m.y+=e*n,c.u+=h*(m*n-k*a+this.Da+this.r.F)):(this.r.$(),this.Da=0)};Pe.prototype.Sd=function(a){var b=this.P,c=this.R,d=0,e=
d=0,g=0,f=0,m=0,k=b.m,l=b.u,h=c.m,n=c.u,s=b.D,x=c.D,v=b.M,t=c.M;this.th&&this.ta!=Z.lh&&(e=this.gd*-(n-l-this.gl),g=this.Da,f=a.ua*this.Sz,this.Da=V.hb(this.Da+e,-f,f),e=this.Da-g,l-=v*e,n+=t*e);if(this.qf&&this.ta!=Z.Zc){a=b.q.k;e=this.Y.x-b.j.K.x;g=this.Y.y-b.j.K.y;d=a.g.x*e+a.i.x*g;g=a.g.y*e+a.i.y*g;e=d;a=c.q.k;f=this.Z.x-c.j.K.x;m=this.Z.y-c.j.K.y;d=a.g.x*f+a.i.x*m;m=a.g.y*f+a.i.y*m;f=d;a=h.x+-n*m-k.x- -l*g;var z=h.y+n*f-k.y-l*e;this.L.pk(this.jc,-a,-z,-(n-l));this.ta==Z.lh?this.r.kg(this.jc):
this.ta==Z.Jf?(d=this.r.F+this.jc.F,0>d&&(this.L.Xi(this.cg,-a,-z),this.jc.x=this.cg.x,this.jc.y=this.cg.y,this.jc.F=-this.r.F,this.r.x+=this.cg.x,this.r.y+=this.cg.y,this.r.F=0)):this.ta==Z.xc&&(d=this.r.F+this.jc.F,0<d&&(this.L.Xi(this.cg,-a,-z),this.jc.x=this.cg.x,this.jc.y=this.cg.y,this.jc.F=-this.r.F,this.r.x+=this.cg.x,this.r.y+=this.cg.y,this.r.F=0));k.x-=s*this.jc.x;k.y-=s*this.jc.y;l-=v*(e*this.jc.y-g*this.jc.x+this.jc.F);h.x+=x*this.jc.x;h.y+=x*this.jc.y;n+=t*(f*this.jc.y-m*this.jc.x+this.jc.F)}else a=
b.q.k,e=this.Y.x-b.j.K.x,g=this.Y.y-b.j.K.y,d=a.g.x*e+a.i.x*g,g=a.g.y*e+a.i.y*g,e=d,a=c.q.k,f=this.Z.x-c.j.K.x,m=this.Z.y-c.j.K.y,d=a.g.x*f+a.i.x*m,m=a.g.y*f+a.i.y*m,f=d,this.L.Xi(this.hf,-(h.x+-n*m-k.x- -l*g),-(h.y+n*f-k.y-l*e)),this.r.x+=this.hf.x,this.r.y+=this.hf.y,k.x-=s*this.hf.x,k.y-=s*this.hf.y,l-=v*(e*this.hf.y-g*this.hf.x),h.x+=x*this.hf.x,h.y+=x*this.hf.y,n+=t*(f*this.hf.y-m*this.hf.x);b.m.B(k);b.u=l;c.m.B(h);c.u=n};Pe.prototype.Rd=function(){var a=0,b,c=this.P,d=this.R,e=0,g=b=0,f=0,m=
0;if(this.qf&&this.ta!=Z.Zc){var a=d.j.H-c.j.H-this.il,k=0;this.ta==Z.lh?(a=V.hb(a-this.Cn,-mc,mc),k=-this.gd*a,e=Math.abs(a)):this.ta==Z.Jf?(a-=this.Cn,e=-a,a=V.hb(a+lc,-mc,0),k=-this.gd*a):this.ta==Z.xc&&(e=a-=this.Cq,a=V.hb(a-lc,0,mc),k=-this.gd*a);c.j.H-=c.M*k;d.j.H+=d.M*k;c.tb();d.tb()}b=c.q.k;k=this.Y.x-c.j.K.x;a=this.Y.y-c.j.K.y;g=b.g.x*k+b.i.x*a;a=b.g.y*k+b.i.y*a;k=g;b=d.q.k;var l=this.Z.x-d.j.K.x,h=this.Z.y-d.j.K.y,g=b.g.x*l+b.i.x*h,h=b.g.y*l+b.i.y*h,l=g,f=d.j.p.x+l-c.j.p.x-k,m=d.j.p.y+h-
c.j.p.y-a,n=f*f+m*m;b=Math.sqrt(n);var g=c.D,s=d.D,x=c.M,v=d.M;n>0.05*0.05&&(n=1/(g+s),f=n*-f,m=n*-m,c.j.p.x-=0.5*g*f,c.j.p.y-=0.5*g*m,d.j.p.x+=0.5*s*f,d.j.p.y+=0.5*s*m,f=d.j.p.x+l-c.j.p.x-k,m=d.j.p.y+h-c.j.p.y-a);this.gk.g.x=g+s;this.gk.i.x=0;this.gk.g.y=0;this.gk.i.y=g+s;this.hk.g.x=x*a*a;this.hk.i.x=-x*k*a;this.hk.g.y=-x*k*a;this.hk.i.y=x*k*k;this.ik.g.x=v*h*h;this.ik.i.x=-v*l*h;this.ik.g.y=-v*l*h;this.ik.i.y=v*l*l;this.Ad.Ze(this.gk);this.Ad.Ql(this.hk);this.Ad.Ql(this.ik);this.Ad.dh(Qe,-f,-m);
f=Qe.x;m=Qe.y;c.j.p.x-=c.D*f;c.j.p.y-=c.D*m;c.j.H-=c.M*(k*m-a*f);d.j.p.x+=d.D*f;d.j.p.y+=d.D*m;d.j.H+=d.M*(l*m-h*f);c.tb();d.tb();return 0.005>=b&&e<=lc};var Qe=T.n(0,0),Re=function(){Ae.call(this);this.Cb=T.n(0,0);this.Db=T.n(0,0);this.type=Z.kp;this.Cb.$();this.Db.$();this.ol=this.$z=this.Ov=this.ou=this.Ch=0;this.zk=this.dj=u};P(Re,Ae);Re.prototype.Vb=function(a,b,c){this.I=a;this.J=b;this.Cb=this.I.yd(c);this.Db=this.J.yd(c);this.Ch=this.J.xd()-this.I.xd()};Re.prototype.le=function(){return new Pe(this)};
var Se=function(a){Z.call(this,a);this.de=T.n(0,0);this.ee=T.n(0,0);this.r=new rc(0,0,0);this.L=new sc;this.de.B(a.Cb);this.ee.B(a.Db);this.il=a.Ch};P(Se,Z);Se.prototype.me=function(a){var b,c=0,d=this.P,e=this.R;b=d.q.k;var g=this.de.x-d.j.K.x,f=this.de.y-d.j.K.y,c=b.g.x*g+b.i.x*f,f=b.g.y*g+b.i.y*f,g=c;b=e.q.k;var m=this.ee.x-e.j.K.x,k=this.ee.y-e.j.K.y,c=b.g.x*m+b.i.x*k,k=b.g.y*m+b.i.y*k,m=c;b=d.D;var c=e.D,l=d.M,h=e.M;this.L.g.x=b+c+f*f*l+k*k*h;this.L.i.x=-f*g*l-k*m*h;this.L.la.x=-f*l-k*h;this.L.g.y=
this.L.i.x;this.L.i.y=b+c+g*g*l+m*m*h;this.L.la.y=g*l+m*h;this.L.g.F=this.L.la.x;this.L.i.F=this.L.la.y;this.L.la.F=l+h;a.Xg?(this.r.x*=a.Yb,this.r.y*=a.Yb,this.r.F*=a.Yb,d.m.x-=b*this.r.x,d.m.y-=b*this.r.y,d.u-=l*(g*this.r.y-f*this.r.x+this.r.F),e.m.x+=c*this.r.x,e.m.y+=c*this.r.y,e.u+=h*(m*this.r.y-k*this.r.x+this.r.F)):this.r.$()};Se.prototype.Sd=function(){var a,b=0,c=this.P,d=this.R,e=c.m,g=c.u,f=d.m,m=d.u,k=c.D,l=d.D,h=c.M,n=d.M;a=c.q.k;var s=this.de.x-c.j.K.x,x=this.de.y-c.j.K.y,b=a.g.x*s+
a.i.x*x,x=a.g.y*s+a.i.y*x,s=b;a=d.q.k;var v=this.ee.x-d.j.K.x,t=this.ee.y-d.j.K.y,b=a.g.x*v+a.i.x*t,t=a.g.y*v+a.i.y*t,v=b;a=new rc(0,0,0);this.L.pk(a,-(f.x-m*t-e.x+g*x),-(f.y+m*v-e.y-g*s),-(m-g));this.r.kg(a);e.x-=k*a.x;e.y-=k*a.y;g-=h*(s*a.y-x*a.x+a.F);f.x+=l*a.x;f.y+=l*a.y;m+=n*(v*a.y-t*a.x+a.F);c.u=g;d.u=m};Se.prototype.Rd=function(){var a,b=0,c=this.P,d=this.R;a=c.q.k;var e=this.de.x-c.j.K.x,g=this.de.y-c.j.K.y,b=a.g.x*e+a.i.x*g,g=a.g.y*e+a.i.y*g,e=b;a=d.q.k;var f=this.ee.x-d.j.K.x,m=this.ee.y-
d.j.K.y,b=a.g.x*f+a.i.x*m,m=a.g.y*f+a.i.y*m,f=b;a=c.D;var b=d.D,k=c.M,l=d.M,h=d.j.p.x+f-c.j.p.x-e,n=d.j.p.y+m-c.j.p.y-g,s=d.j.H-c.j.H-this.il,x=Math.sqrt(h*h+n*n),v=Math.abs(s);0.05<x&&(k*=1,l*=1);this.L.g.x=a+b+g*g*k+m*m*l;this.L.i.x=-g*e*k-m*f*l;this.L.la.x=-g*k-m*l;this.L.g.y=this.L.i.x;this.L.i.y=a+b+e*e*k+f*f*l;this.L.la.y=e*k+f*l;this.L.g.F=this.L.la.x;this.L.i.F=this.L.la.y;this.L.la.F=k+l;var t=new rc(0,0,0);this.L.pk(t,-h,-n,-s);c.j.p.x-=a*t.x;c.j.p.y-=a*t.y;c.j.H-=k*(e*t.y-g*t.x+t.F);d.j.p.x+=
b*t.x;d.j.p.y+=b*t.y;d.j.H+=l*(f*t.y-m*t.x+t.F);c.tb();d.tb();return 0.005>=x&&v<=lc};var Te=function(){Ae.call(this);this.Cb=T.n(0,0);this.Db=T.n(0,0);this.type=Z.by;this.Ch=0};P(Te,Ae);Te.prototype.Vb=function(a,b,c){this.I=a;this.J=b;this.Cb.B(this.I.yd(c));this.Db.B(this.J.yd(c));this.Ch=this.J.xd()-this.I.xd()};Te.prototype.le=function(){return new Se(this)};var ge=[new yc,new yc],pe=[new yc,new yc],qe=[new yc,new yc],he=T.n(0,0),ie=T.n(0,0),je=T.n(0,0),me=T.n(0,0),ke=T.n(0,0),le=T.n(0,0),ne=
T.n(0,0),oe=T.n(0,0),Fd=0,Sd=0,Td=0,Qd=0,Rd=0,Gd=new ad,Hd=new Lc,Md=new dc,Nd=new dc,Pd=new Wc,Od=new Mc;fc.IA=new dc;gc.Ss=new gc;new function(){this.position=T.n(0,0);this.Rv=T.n(0,0);this.Sc=T.n(0,0);this.id=new xc};hc.pD=new dc;hc.kv=new tc;hc.lv=new tc;var Ed=new bd,ee=new cd,fe=new de}function Ue(a,b,c,d,e,g){return(c+0.1>=a&&a>=e-0.1||c-0.1<=a&&a<=e+0.1)&&(d+0.1>=b&&b>=g-0.1||d-0.1<=b&&b<=g+0.1)&&(0.1<Math.abs(e-c)?0.1>Math.abs((g-d)/(e-c)*(a-c)+d-b):0.1>Math.abs(a-c))}
function Ve(a){var b=[],c=0,d=0,e=0,g=0,f=0,m=f=0,k=0,l=0,h=0,g=0,n,s,x,v,t,z=g=c=0,D=0,e=[],k=[],G=u,E=[],H=[];for(H.push(a);H.length;){b=H[0];d=b.length;G=q;for(c=0;c<d;c++)if(l=c,h=c<d-1?c+1:c+1-d,g=c<d-2?c+2:c+2-d,a=b[l],n=b[h],g=b[g],g=a.x*n.y+n.x*g.y+g.x*a.y-a.y*n.x-n.y*g.x-g.y*a.x,0>g){G=u;k=1E9;for(e=0;e<d;e++)if(e!==l&&e!==h){c=e;g=e<d-1?e+1:0;s=b[c];x=b[g];m=a.x;v=a.y;var I=n.x,J=n.y,f=s.x;s=s.y;var F=x.x;x=x.y;var y=I-m,B=J-v,K=F-f,S=x-s,K=(K*(s-v)-S*(f-m))/(B*K-y*S),y=m+K*y,B=v+K*B,m=
Ue(I,J,m,v,y,B),f=Ue(y,B,f,s,F,x);if(v=m&&f?T.n(y,B):r)f=n.x-v.x,m=n.y-v.y,f=f*f+m*m,f<k&&(D=c,z=g,t=v,k=f)}if(1E9===k)return[];e=[];k=[];c=D;g=z;s=b[c];x=b[g];0.1>Math.abs(x.x-t.x)&&0.1>Math.abs(x.y-t.y)||e.push(t);0.1>Math.abs(s.x-t.x)&&0.1>Math.abs(s.y-t.y)||k.push(t);D=-1;for(z=l;;){if(z!==g)e.push(b[z]);else{if(0>D||D>=d)return[];Ue(x.x,x.y,b[D].x,b[D].y,a.x,a.y)||e.push(b[z]);break}D=z;0>z-1?z=d-1:z--}e.reverse();D=-1;for(z=h;;){if(z!==c)k.push(b[z]);else{if(0>D||D>=d)return[];z===c&&!Ue(s.x,
s.y,b[D].x,b[D].y,n.x,n.y)&&k.push(b[z]);break}D=z;z+1>d-1?z=0:z++}H.push(e,k);H.shift();break}G&&E.push(H.shift())}return E}
function We(a){for(var b=0;4E3>b;b++)T.pg.push(new T(0,0));this.c=a;this.wd=new hc(T.n(0,10),q);this.wD=10;this.Zp=-1;a=new gc;a.Fb=this;a.Sl=function(a){this.Fb.c.zA(a.ub.Ja().tg.za,a.nb.Ja().tg.za)};this.wd.ss(a);a=new pd;a.Fb=this;a.bi=function(a,b){if(this.Fb.ox)return q;var e=a.Ja().tg.za.type,g=b.Ja().tg.za.type,f=e.xa.Lw;return f&&f.contains(g)?u:(f=g.xa.Lw)&&f.contains(e)?u:q};this.wd.rs(a);this.RA=0;this.Ol=8;this.xl=3;this.ox=q}
(function(){function a(){}function b(){}var c=T,d=X,e=jc,g=Y,f=ic,m=kc,k=We.prototype;k.uc=function(a,b){this.Fb=a;this.fA=b;this.c=a.c};k.uc.prototype.cb=w();k.Ob=function(a,b){this.type=a;this.Fb=a.Fb;this.za=b;this.c=a.c;this.wd=this.Fb.wd};var l=k.Ob.prototype;l.cb=function(){this.Hp=0!==this.$a[0];this.ft=this.$a[1];this.Vq=0!==this.$a[2];this.gf=this.$a[3];this.Mf=this.$a[4];this.dg=this.$a[5];this.xi=this.$a[6];this.ei=this.$a[7];this.ii=0!==this.$a[8];this.enabled=0!==this.$a[9];this.body=
r;this.za.jd();this.kn=this.za.x;this.ln=this.za.y;this.Xp=this.za.O;this.Wp=this.$p=0;this.cv=this.Yp=u;this.Tp=r;this.Up=-1;this.Id?(this.Id.length=0,this.Me.length=0,this.rh.clear()):(this.Id=[],this.Me=[],this.rh=new Na);var a=this;this.bg||(this.Cu=function(b){a.Nq(b)});this.c.Is(this.Cu)};l.Xu=function(){this.za.jd();this.dp();this.Tp=this.za.ib;this.Up=this.za.X};l.In=function(){this.Em();this.Me.length=0;this.rh.clear();this.body&&(this.wd.Yl(this.body),this.body=r);this.c.AA(this.Cu)};l.Nd=
function(){var a={e:this.enabled,im:this.Hp,pr:this.Vq,d:this.gf,fr:this.Mf,re:this.dg,ld:this.xi,ad:this.ei,b:this.ii,mcj:this.Me},b=c.n(0,0);b.B(this.body.Vh());a.vx=b.x;a.vy=b.y;a.om=this.body.$l();return a};l.Ge=function(a){this.Em();this.Me.length=0;this.rh.clear();this.body&&(this.wd.Yl(this.body),this.body=r);this.enabled=a.e;this.Hp=a.im;this.Vq=a.pr;this.gf=a.d;this.Mf=a.fr;this.dg=a.re;this.xi=a.ld;this.ei=a.ad;this.ii=a.b;this.kn=this.za.x;this.ln=this.za.y;this.Xp=this.za.O;this.$p=this.za.width;
this.Wp=this.za.height;this.enabled&&(this.dp(),this.body.ai(c.n(a.vx,a.vy)),this.body.nk(a.om),(0!==a.vx||0!==a.vy||0!==a.om)&&this.body.Fc(q),this.Me=a.mcj)};l.rk=function(){this.enabled&&this.dr();this.Fb.Zp=this.c.Mh-1};l.Nq=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.Me.length;b<c;b++)this.Me[d]=this.Me[b],d<this.Id.length&&(this.Id[d]=this.Id[b]),this.Me[b].Lb[1]==e?this.wd.oo(this.Id[b]):d++;this.Me.length=d;d<this.Id.length&&(this.Id.length=d);this.rh.remove(a)};l.Em=function(){var a,b;
a=0;for(b=this.Id.length;a<b;a++)this.wd.oo(this.Id[a]);this.Id.length=0};l.dr=function(){var a,b,c;a=0;for(b=this.Me.length;a<b;a++)switch(c=this.Me[a],c.type){case 0:this.Kx(c.Lb[0],c.Lb[1],c.Lb[2],c.Lb[3],c.Lb[4]);break;case 1:this.Mx(c.Lb[0],c.Lb[1]);break;case 2:this.Lx(c.Lb[0],c.Lb[1],c.Lb[2],c.Lb[3])}};l.Gx=function(){this.body&&(this.Em(),this.wd.Yl(this.body),this.body=r,this.za.xa.ef=r)};l.dp=function(){if(this.enabled){var a=this.za,b=u,k=r,l=r,m,t,z,D,G,E;this.body&&(b=q,k=c.n(0,0),k.B(this.body.Vh()),
l=this.body.$l(),this.Gx());var H=new e;H.gf=this.gf;H.Mf=this.Mf;H.dg=this.dg;E=new d;E.type=this.Hp?0:2;a.jd();E.position.x=0.02*a.Mc.ml();E.position.y=0.02*a.Mc.nl();E.O=a.O;E.qp=this.Vq;E.xi=this.xi;E.ei=this.ei;E.ii=this.ii;t=this.za.od&&!this.za.od.Yt();this.body=this.wd.mo(E);this.body.tg=this;E=this.ft;!t&&0===this.ft&&(E=1);t=Math.max(Math.abs(a.width),1);z=Math.max(Math.abs(a.height),1);var I=0>a.width;G=0>a.height;if(0===E){E=a.O;a.O=0;a.ec();a.jd();var J=a.Mc.ml()-a.x,F=a.Mc.nl()-a.y;
a.O=E;a.ec();a.od.at(I?-t:t,G?-z:z,0);var y=a.od.Pn;D=a.od.Xq;E=[];E.length=D;for(m=0;m<D;m++)E[m]=c.n(y[2*m]-J,y[2*m+1]-F);I!==G&&E.reverse();m=t*z;G=T;var J=Ve(E),I=[],B,K,S,Q,N,R,aa;S=0;for(Q=J.length;S<Q;S++){y=J[S];F=[];F.length=y.length;N=aa=0;for(R=y.length;N<R;N++)B=y[N],K=y[(N+1)%R],aa+=B.x*K.y-B.y*K.x,F[N]=G.n(B.x,B.y);aa=Math.abs(aa/2);aa>=0.001*m&&I.push(F)}for(m=0;m<D;m++)c.rc(E[m]);if(I.length){m=0;for(t=I.length;m<t;m++){E=I[m];z=0;for(D=E.length;z<D;z++)G=E[z],G.x*=0.02,G.y*=0.02;
H.shape=new g;H.shape.Go(E,E.length);this.body.Wl(H);z=0;for(D=E.length;z<D;z++)c.rc(E[z])}}else H.shape=new g,H.shape.jm(0.01*t,0.01*z),this.body.Wl(H)}else 1===E?(H.shape=new g,H.shape.jm(0.01*t,0.01*z)):H.shape=new f(0.01*Math.min(t,z)),this.body.Wl(H);a.xa.ef=this.body;this.$p=a.width;this.Wp=a.height;if(b){this.body.ai(k);this.body.nk(l);c.rc(k);this.dr();E=this.rh.Sj();m=0;for(t=E.length;m<t;m++)a=E[m].xa.ef.tg,a.Em(),a.dr()}}};l.Ic=function(){if(this.enabled){var a=this.za,b;0===this.Fb.RA?
b=this.c.Ug/60:(b=this.c.Et(this.za),b>1/30&&(b=1/30));this.c.Mh>this.Fb.Zp&&0<this.c.Ug&&(this.wd.ng(b,this.Fb.Ol,this.Fb.xl),this.wd.Pr(),this.Fb.Zp=this.c.Mh);if(this.cv||a.width!==this.$p||a.height!==this.Wp||a.ib!==this.Tp||a.X!==this.Up)this.dp(),this.cv=u,this.Tp=a.ib,this.Up=a.X;b=a.O!==this.Xp;if(a.x!==this.kn||a.y!==this.ln){a.jd();var d=a.Mc.ml(),e=a.Mc.nl(),f=d-this.kn,g=e-this.ln;this.body.Io(c.n(0.02*d,0.02*e));this.body.ai(c.n(f,g));this.Yp=q;this.body.Fc(q)}else this.Yp&&(this.Yp=
u,this.body.ai(c.n(0,0)),this.body.Io(c.n(0.02*a.Mc.ml(),0.02*a.Mc.nl())));b&&(this.body.hm(a.O),this.body.Fc(q));d=this.body.q.position;b=d.x/0.02;d=d.y/0.02;e=this.body.xd();if(b!==a.x||d!==a.y||e!==a.O)if(a.x=b,a.y=d,a.O=e,a.ec(),a.jd(),b=a.Mc.ml()-a.x,d=a.Mc.nl()-a.y,0!==b||0!==d)a.x-=b,a.y-=d,a.ec();this.kn=a.x;this.ln=a.y;this.Xp=a.O}};l.Rm=function(a){return-1===a||!this.za.Nf?this.za.x:0===a&&this.body?(this.body.q.position.x+this.body.Wh().x)/0.02:this.za.Nf(a,q)};l.Sm=function(a){return-1===
a||!this.za.Nf?this.za.y:0===a&&this.body?(this.body.q.position.y+this.body.Wh().y)/0.02:this.za.Nf(a,u)};a.prototype.vo=A("enabled");k.U=new a;b.prototype.zf=function(a,b,d){if(this.enabled){var e=this.Rm(d);d=this.Sm(d);this.body.zf(c.n(a,b),c.n(0.02*e,0.02*d))}};b.prototype.Rl=function(a){this.enabled&&this.body.Rl(M(a))};b.prototype.nk=function(a){this.enabled&&(this.body.nk(M(a)),this.body.Fc(q))};l.Kx=function(a,b,d,e,f){if(this.enabled&&(b=this.c.ri(b))&&b!=this.za&&b.xa.ef){b.xa.ef.tg.rh.add(this.za);
var g=this.Rm(a);a=this.Sm(a);var k;b.Nf?(k=b.Nf(d,q),d=b.Nf(d,u)):(k=b.x,d=b.y);var l=g-k,G=a-d,E=new m;E.Vb(this.body,b.xa.ef,c.n(0.02*g,0.02*a),c.n(0.02*k,0.02*d));E.length=0.02*Math.sqrt(l*l+G*G);E.Bm=e;E.Pm=f;this.Id.push(this.wd.Xl(E))}};l.Mx=function(a,b){if(this.enabled){var d=this.c.ri(b);if(d&&d!=this.za&&d.xa.ef){d.xa.ef.tg.rh.add(this.za);var e=this.Rm(a),f=this.Sm(a),g=new Re;g.Vb(this.body,d.xa.ef,c.n(0.02*e,0.02*f));this.Id.push(this.wd.Xl(g))}}};l.Lx=function(a,b,d,e){if(this.enabled&&
(b=this.c.ri(b))&&b!=this.za&&b.xa.ef){b.xa.ef.tg.rh.add(this.za);var f=this.Rm(a);a=this.Sm(a);var g=new Re;g.Vb(this.body,b.xa.ef,c.n(0.02*f,0.02*a));g.dj=q;g.ou=M(d);g.Ov=M(e);this.Id.push(this.wd.Xl(g))}};k.pe=new b;k.Vd=new (w())})();function Xe(a){this.c=a}
(function(){function a(){}var b=Xe.prototype;b.uc=function(a,b){this.Fb=a;this.fA=b;this.c=a.c};b.uc.prototype.cb=w();b.Ob=function(a,b){this.type=a;this.Fb=a.Fb;this.za=b;this.c=a.c};var c=b.Ob.prototype;c.cb=function(){this.za.xa.PA=0!==this.$a[0]};c.Ic=w();a.prototype.vo=function(){return this.za.xa.PA};b.U=new a;b.pe=new (w())})();
function wb(){return[r,r,[[cc,q,u,u,u,u,u,u,u,u],[Yb,q,u,u,u,u,u,u,u,u],[$b,u,q,q,q,q,q,q,q,u],[ac,q,u,u,u,u,u,u,u,u],[bc,q,u,u,u,u,u,u,u,u],[Wb,q,u,u,u,u,u,u,u,u],[Xb,q,u,u,u,u,u,u,u,u]],[["t0",Yb,u,[],0,0,r,r,[],u,u,4787195834710922,[],[]],["t1",cc,u,[],0,0,r,r,[],u,u,9759805953199822,[],[25]],["t2",ac,u,[],0,0,r,r,[],u,u,7320566297413672,[],[1]],["t3",Wb,u,[],0,0,r,r,[],u,u,894081990155546,[],[0,1,1,600,600,1E4,1,5E3,1]],["t4",Xb,u,[],0,0,r,r,[],u,u,0xf39b386a34189,[],[]],["t5",bc,u,[],0,0,r,r,
[],u,u,9816425187912760,[],[]],["t6",$b,u,[],1,0,r,[["Default",5,u,1,0,u,5929265418267465,[["images/path-sheet0.png",1224,0,0,64,64,1,0.5,0.5,[],[],1]]]],[["Physics",We,679106707693648]],u,u,8280955122959837,[]],["t7",$b,u,[],2,0,r,[["Default",5,u,1,0,u,6448442651494689,[["images/path-sheet0.png",1224,0,0,64,64,1,0.5,0.5,[],[],1]]]],[["Solid",Xe,0x51b94a64dead5],["Physics",We,0x95d4efff36263]],u,u,6217421275256205,[]],["t8",$b,u,[],1,0,r,[["Default",5,u,1,0,u,0xdf6f974bae975,[["images/g-sheet0.png",
4654,0,0,128,92,1,0.5,0.5,[],[-0.40625,-0.369565,0,-0.445652,0.234375,-0.130435,0.28125,0,0.28125,0.195652,0,0.434783,-0.460938,0.445652],0]]]],[["Physics",We,5885474823022402]],u,u,9169658523978902,[]]],[],[["Layout 1",1280,1024,u,"Event sheet 1",0xf532dcb1c5ba6,[["Layer 0",0,9323869874827052,q,[255,255,255],u,1,1,1,u,1,0,0,[[[638.5,1002,0,1300,64,0,0,1,0.5,0.5,0,0,[]],7,12,[],[[1],[1,0,0,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]],[[-135,352,0,64,64,0,0,1,0.5,0.5,0,0,[]],6,6,[],[[0,0,0,1,0.5,0.2,
0,0.01,0,1]],[0,"Default",0,1]],[[-131,156,0,128,92,0,0,1,0.5,0.5,0,0,[]],8,7,[],[[0,0,0,1,0.5,0.2,0,0.01,0,1]],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",[[0,r,u,8286825968912974,[[2,ac.prototype.U.Do,r,1,u,u,u,5597971157920952]],[[-1,zb.prototype.pe.cw,r,5338282326410106,[[4,8],[5,[0,0]],[0,[20,2,ac.prototype.Vd.Bs,u,r]],[0,[20,2,ac.prototype.Vd.Cs,u,r]]]]]]]]],"media/",u,1280,1024,4,q,q,q,"1.0",1,u,0,u,13,u,[]]};
